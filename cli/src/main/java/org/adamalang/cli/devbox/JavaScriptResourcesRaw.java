/*
 * This file is subject to the terms and conditions outlined in the
 * file 'LICENSE' (it's dual licensed) located in the root directory
 * near the README.md which you should also read. For more information
 * about the project which owns this file, see https://www.adama-platform.com/ .
 *
 * (c) 2021 - 2023 by Adama Platform Initiative, LLC
 */
package org.adamalang.cli.devbox;

import java.nio.charset.StandardCharsets;
import java.util.Base64;

public class JavaScriptResourcesRaw {
  public static final String TREE = new String(Base64.getDecoder().decode(make_tree()), StandardCharsets.UTF_8);
  private static String make_tree() {
    StringBuilder sb = new StringBuilder();
    sb.append("LyoqIGEgc2ltcGxpZmllZCBwdWIvc3ViIGRpZmZlcmVudGlhbCB0cmVlICovCmZ1bmN0aW9uIEFkYW1h");
    sb.append("VHJlZSgpIHsKICB2YXIgaWQgPSAwOwoKICB2YXIgcm9vdCA9IHt9OwogIHZhciBhbGxfc3Vic2NyaXB0");
    sb.append("aW9ucyA9IHt9OwoKICB2YXIgY2xvbmVfb2JqZWN0ID0gZnVuY3Rpb24gKG9iaikgewogICAgaWYgKEFy");
    sb.append("cmF5LmlzQXJyYXkob2JqKSkgewogICAgICB2YXIgbmV4dCA9IFtdOwogICAgICBmb3IgKHZhciBrID0g");
    sb.append("MDsgayA8IG9iai5sZW5ndGg7IGsrKykgewogICAgICAgIG5leHQucHVzaChjbG9uZV9vYmplY3Qob2Jq");
    sb.append("W2tdKSk7CiAgICAgIH0KICAgICAgcmV0dXJuIG5leHQ7CiAgICB9IGVsc2UgaWYgKHR5cGVvZiAob2Jq");
    sb.append("KSA9PSAib2JqZWN0IikgewogICAgICB2YXIgbmV4dCA9IHt9OwogICAgICBmb3IgKGtleSBpbiBvYmop");
    sb.append("IHsKICAgICAgICBpZiAoa2V5WzBdID09ICIjIiB8fCBrZXkgPT0gIl9fa2V5IiB8fCBrZXkgPT0gIkBv");
    sb.append("IiB8fCBrZXkgPT0gIkBzIikgY29udGludWU7CiAgICAgICAgbmV4dFtrZXldID0gY2xvbmVfb2JqZWN0");
    sb.append("KG9ialtrZXldKTsKICAgICAgfQogICAgICByZXR1cm4gbmV4dDsKICAgIH0gZWxzZSB7CiAgICAgIHJl");
    sb.append("dHVybiBvYmo7CiAgICB9CiAgfTsKCiAgdGhpcy5udWtlID0gZnVuY3Rpb24gKCkgewogICAgYWxsX3N1");
    sb.append("YnNjcmlwdGlvbnMgPSB7fTsKICB9OwoKICB0aGlzLmNvcHkgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1");
    sb.append("cm4gY2xvbmVfb2JqZWN0KHJvb3QpOwogIH07CgogIHRoaXMuc3RyID0gZnVuY3Rpb24gKCkgewogICAg");
    sb.append("cmV0dXJuIEpTT04uc3RyaW5naWZ5KHJvb3QpOwogIH07CgogIHRoaXMucmF3ID0gZnVuY3Rpb24gKCkg");
    sb.append("ewogICAgcmV0dXJuIHJvb3Q7CiAgfTsKCiAgLy8gZmlsdGVyIHRoZSBzdWJzY3JpcHRpb25zIHRvIHRo");
    sb.append("ZSBvbmVzIHRoYXQgaGF2ZSB0aGUga2V5CiAgdmFyIHN1YiA9IGZ1bmN0aW9uIChzLCBrZXkpIHsKICAg");
    sb.append("IC8vIGlmIHdlIGhhdmUgbm90aGluZywgdGhlbiB3ZSByZXR1cm4gbm90aGluZwogICAgaWYgKHMubGVu");
    sb.append("Z3RoID09IDApIHsKICAgICAgcmV0dXJuIHM7CiAgICB9CiAgICAvLyBtYWtlIGEgbmV3IGFycmF5CiAg");
    sb.append("ICB2YXIgbiA9IFtdOwogICAgZm9yICh2YXIgayA9IDA7IGsgPCBzLmxlbmd0aDsgaysrKSB7IC8vIHN1");
    sb.append("Y2ggdGhhdCBldmVyeSBlbGVtZW50CiAgICAgIGlmIChrZXkgaW4gc1trXSkgeyAvLyB3aGljaCBjb250");
    sb.append("YWlucyB0aGUga2V5CiAgICAgICAgbi5wdXNoKHNba11ba2V5XSk7IC8vIGlzIGFkZGVkIHRvIHRoZSBu");
    sb.append("ZXcgYXJyYXkKICAgICAgfQogICAgfQogICAgcmV0dXJuIG47CiAgfTsKCiAgLy8gZmlyZSBldmVudHMg");
    sb.append("YXQgdGhlIGN1cnJlbnQgc3Vic2NyaXB0aW9uCiAgdmFyIGZpcmUgPSBmdW5jdGlvbiAocywgdmFsdWUs");
    sb.append("IGV2ZW50cykgewogICAgLy8gZm9yIGVhY2ggc3Vic2NyaXB0aW9uCiAgICBmb3IgKHZhciBqID0gMDsg");
    sb.append("aiA8IHMubGVuZ3RoOyBqKyspIHsKICAgICAgdmFyIHYgPSBzW2pdOwogICAgICAvLyBpZiBpdCBoYXMg");
    sb.append("ZXZlbnRzCiAgICAgIGlmICgiQGUiIGluIHYpIHsKICAgICAgICAvLyBmaXJlIGVhY2ggZXZlbnQKICAg");
    sb.append("ICAgICB2YXIgZXZ0cyA9IHZbIkBlIl07CiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBldnRzLmxl");
    sb.append("bmd0aDsgaysrKSB7CiAgICAgICAgICBldmVudHMucHVzaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAg");
    sb.append("IHRoaXMuZih0aGlzLnYpOwogICAgICAgICAgfS5iaW5kKHsgZjogZXZ0c1trXSwgdjogdmFsdWUgfSkp");
    sb.append("OwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIHZhciB3ZWF2ZSA9IGZ1bmN0aW9uIChzLCBj");
    sb.append("YWxsYmFjaywga2V5KSB7CiAgICBpZiAoQXJyYXkuaXNBcnJheShjYWxsYmFjaykpIHsKICAgICAgZm9y");
    sb.append("ICh2YXIgayA9IDA7IGsgPCBjYWxsYmFjay5sZW5ndGg7IGsrKykgewogICAgICAgIHdlYXZlKHMsIGNh");
    sb.append("bGxiYWNrW2tdLCBrZXkpOwogICAgICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiAoY2FsbGJhY2spID09");
    sb.append("ICJmdW5jdGlvbiIpIHsKICAgICAgaWYgKCEoa2V5IGluIHMpKSB7CiAgICAgICAgc1trZXldID0ge307");
    sb.append("CiAgICAgIH0KICAgICAgdmFyIHNrID0gc1trZXldOwogICAgICBpZiAoISgiQGUiIGluIHNrKSkgewog");
    sb.append("ICAgICAgIHNrWyJAZSJdID0gW2NhbGxiYWNrXTsKICAgICAgfSBlbHNlIHsKICAgICAgICBza1siQGUi");
    sb.append("XS5wdXNoKGNhbGxiYWNrKTsKICAgICAgfQogICAgfSBlbHNlIGlmICh0eXBlb2YgKGNhbGxiYWNrKSA9");
    sb.append("PSAib2JqZWN0IikgewogICAgICBpZiAoIShrZXkgaW4gcykpIHsKICAgICAgICBzW2tleV0gPSB7fTsK");
    sb.append("ICAgICAgfQogICAgICB2YXIgc2sgPSBzW2tleV07CiAgICAgIGZvciAodmFyIGNrIGluIGNhbGxiYWNr");
    sb.append("KSB7CiAgICAgICAgaWYgKGNrID09ICJAZSIpIHsKICAgICAgICAgIHdlYXZlKHMsIGNhbGxiYWNrW2Nr");
    sb.append("XSwga2V5KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgd2VhdmUoc2ssIGNhbGxiYWNrW2NrXSwg");
    sb.append("Y2spOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIC8vIHdlIGhhdmUgZGV0ZWN0ZWQgYW4g");
    sb.append("YWRkaXRpb24KICB2YXIgZmlyZV9hZGQgPSBmdW5jdGlvbiAocywga2V5KSB7CiAgICBmb3IgKHZhciBq");
    sb.append("ID0gMDsgaiA8IHMubGVuZ3RoOyBqKyspIHsgLy8gZm9yIGVhY2ggc3Vic2NyaXB0aW9uCiAgICAgIHZh");
    sb.append("ciB2ID0gc1tqXTsKICAgICAgaWYgKCIrIiBpbiB2KSB7IC8vIGlmIHRoZSBzdWJzY3JpcHRpb24gaGFz");
    sb.append("IHRoZSBhYmlsaXR5IHRvIGFkZCBuZXcgb2JqZWN0cwogICAgICAgIHZhciB2YSA9IHZbIisiXTsKICAg");
    sb.append("ICAgICBpZiAoIkBlIiBpbiB2YSkgeyAvLyBpZiBhcmUgZXZlbnRzIGFzc29jaWF0ZWQgdG8gJysnCiAg");
    sb.append("ICAgICAgICB2YXIgZXZhID0gdmFbIkBlIl07CiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGV2");
    sb.append("YS5sZW5ndGg7IGsrKykgeyAvLyBmb3IgZWFjaCAnKycgYWJpbGl0eQogICAgICAgICAgICB3ZWF2ZSh2");
    sb.append("LCBldmFba10oa2V5KSwga2V5KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9");
    sb.append("OwoKICAvLyBmaXJlIGEgZGVsZXRlIG1lc3NhZ2UgZm9yIHRoZSBnaXZlbiBrZXkKICB2YXIgZmlyZV9k");
    sb.append("ZWwgPSBmdW5jdGlvbiAocywga2V5KSB7CiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHMubGVuZ3RoOyBq");
    sb.append("KyspIHsgLy8gZm9yIGVhY2ggc3Vic2NyaXB0aW9uCiAgICAgIHZhciB2ID0gc1tqXTsKICAgICAgaWYg");
    sb.append("KCItIiBpbiB2KSB7IC8vIGlmIHRoZSBzdWJzY3JpcHRpb24gaGFzIHRoZSBhYmlsaXR5IHRvIGRlbGV0");
    sb.append("ZSBwcmlvciBrZXlzCiAgICAgICAgdmFyIHZhID0gdlsiLSJdOwogICAgICAgIGlmICgiQGUiIGluIHZh");
    sb.append("KSB7IC8vIGlmIGFyZSBldmVudHMgYXNzb2NpYXRlZCB0byAnLScKICAgICAgICAgIHZhciBldmEgPSB2");
    sb.append("YVsiQGUiXTsKICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgZXZhLmxlbmd0aDsgaysrKSB7IC8v");
    sb.append("IGZvciBlYWNoICctJyBhYmlsaXR5CiAgICAgICAgICAgIGV2YVtrXShrZXkpOyAvLyBldmFsdWF0ZSB0");
    sb.append("aGUgJy0nCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKCiAgLy8gYSBkZWxl");
    sb.append("dGUgb2YgYSB0cmVlIGhhcyBiZWVuIGRldGVjdGVkLCBsZXQncwogIHZhciBkZWwgPSBmdW5jdGlvbiAo");
    sb.append("cykgewogICAgLy8gaWYgdGhlIHN1YnNjcmlwdGlvbnMgaXMgYW4gYXJyYXksIHRoZW4gZGVsZXRlIGFs");
    sb.append("bCBjaGlsZHJlbgogICAgaWYgKEFycmF5LmlzQXJyYXkocykpIHsKICAgICAgdmFyIG4gPSBzLmxlbmd0");
    sb.append("aDsKICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBuOyBrKyspIHsKICAgICAgICBkZWwoc1trXSk7CiAg");
    sb.append("ICAgIH0KICAgIH0gZWxzZSBpZiAodHlwZW9mIChzKSA9PSAib2JqZWN0IikgeyAvLyBvdGhlcndpc2Us");
    sb.append("IGl0ZXJhdGUgb3ZlciB0aGUga2V5cwogICAgICBmb3IgKHZhciBrZXkgaW4gcykgewogICAgICAgIGlm");
    sb.append("ICghKGtleSA9PSAnKycgfHwga2V5ID09ICctJykpIHsKICAgICAgICAgIHZhciBjaCA9IHNba2V5XTsK");
    sb.append("ICAgICAgICAgIGlmIChrZXkgPT0gIkBlIikgeyAvLyB3ZSBoYXZlIGV2ZW50cywgc28gbGV0J3Mgc2Vu");
    sb.append("ZCB0aG9zZSBldmVudHMuLi4KICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjaC5sZW5ndGg7");
    sb.append("IGorKykgewogICAgICAgICAgICAgIGNoW2pdKG51bGwpOyAvLyBhIG51bGwgdG8gaW5kaWNhdGUgZGVs");
    sb.append("ZXRpb24KICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsgLy8gcmVjdXJzZSBpbnRvIHRoZSBj");
    sb.append("aGlsZCBmaWVsZAogICAgICAgICAgICBkZWwoY2gpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAg");
    sb.append("fQogICAgfQogIH07CgogIC8vIGRlbGV0ZSB0aGUgZ2l2ZW4ga2V5IHdpdGhpbiB0aGUgc3Vic2NyaXB0");
    sb.append("aW9uCiAgdmFyIGRlbF9rZXkgPSBmdW5jdGlvbiAocywga2V5KSB7CiAgICBpZiAoQXJyYXkuaXNBcnJh");
    sb.append("eShzKSkgeyAvLyBpZiB3ZSBoYXZlIGFuIGFycmF5IG9mIHN1YnNjcmlwdGlvbnMsIHRoZW4gc2ltcGx5");
    sb.append("IHJlcGVhdAogICAgICB2YXIgbiA9IHMubGVuZ3RoOwogICAgICBmb3IgKHZhciBrID0gMDsgayA8IG47");
    sb.append("IGsrKykgewogICAgICAgIGRlbF9rZXkoc1trXSwga2V5KTsgLy8gZm9yIGVhY2ggZWxlbWVudAogICAg");
    sb.append("ICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiAocykgPT0gIm9iamVjdCIpIHsgLy8gb3RoZXJ3aXNlLCB3");
    sb.append("ZSBoYXZlIGEgc3ViY3JpcHRpb24gY2FsbGJhY2sKICAgICAgaWYgKGtleSBpbiBzKSB7IC8vIGlmIHRo");
    sb.append("ZSBrZXkgaXMgaW4gdGhlIHN1YnNjcmlwdGlvbiBjYWxsYmFjawogICAgICAgIGRlbGV0ZSBzW2tleV07");
    sb.append("IC8vIGRlbGV0ZSBpdAogICAgICB9CiAgICB9CiAgfTsKCiAgLy8gbWVyZ2UgdGhlIGdpdmVuIGRlbHRh");
    sb.append("IGludG8gdGhlIHRyZWUgYW5kIGZpcmUgc3Vic2NyaXB0aW9ucyAocykKICB2YXIgbWVyZ2UgPSBmdW5j");
    sb.append("dGlvbiAodHJlZSwgZGVsdGEsIHMsIGV2ZW50cykgewogICAgZm9yICh2YXIga2V5IGluIGRlbHRhKSB7");
    sb.append("IC8vIGZvciBlYWNoIGJpdCBvZiBkYXRhIHdpdGhpbiB0aGUgdHJlZQogICAgICB2YXIgZUtleSA9ICIj");
    sb.append("IiArIGtleTsgLy8gY29tcHV0ZSB0aGUgc2VjcmV0IGRhdGEgcGF0aAogICAgICB2YXIgcHJpb3IgPSB0");
    sb.append("cmVlW2tleV07IC8vIGZpbmQgdGhlIHByaW9yIHN0YXRlIHdpdGhpbiB0aGUgdHJlZQogICAgICB2YXIg");
    sb.append("bmV4dCA9IGRlbHRhW2tleV07IC8vIGJyaW5nIHRoZSBjaGFuZ2UgcHJlc2VudCBmb3IgdGhlIGN1cnJl");
    sb.append("bnQga2V5CiAgICAgIGlmIChuZXh0ID09IG51bGwpIHsgLy8gdGhlIGl0ZW0gaXMgZ29pbmcgcG9vZgog");
    sb.append("ICAgICAgIC8vIHRoZSBwcmlvciB2YWx1ZSBpcyBhbiBhcnJheSwgc28gd2UgbWF5IGhhdmUgc29tZSBz");
    sb.append("cGVjaWFsIHRoaW5ncyBhc3NvY2lhdGUgd2l0aCBpdAogICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBy");
    sb.append("aW9yKSkgeyAvLyBVTlRFU1QKICAgICAgICAgIGlmIChlS2V5IGluIHRyZWUpIHsKICAgICAgICAgICAg");
    sb.append("ZGVsKHN1YihzLCBlS2V5KSk7CiAgICAgICAgICB9CiAgICAgICAgICBkZWxldGUgdHJlZVtlS2V5XTsK");
    sb.append("ICAgICAgICB9CiAgICAgICAgZGVsKHN1YihzLCBrZXkpKTsgLy8gaXNzdWUgYSBkZWxldGUgZm9yIGFs");
    sb.append("bCB0aGUgc3Vic2NyaXB0aW9ucyBmb3IgdGhlIGtpZAogICAgICAgIGRlbGV0ZSB0cmVlW2tleV07IC8v");
    sb.append("IGRlbGV0ZSB0aGUgZGF0YSBpbiB0aGUgdHJlZQogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0eXBl");
    sb.append("b2YgKG5leHQpID09ICJvYmplY3QiICYmICFBcnJheS5pc0FycmF5KG5leHQpKSB7IC8vIGlmIHRoZSBk");
    sb.append("ZWx0YSBpcyBhbiBvYmplY3QKICAgICAgICAgIHZhciBhcnIgPSBBcnJheS5pc0FycmF5KHByaW9yKSB8");
    sb.append("fCAiQG8iIGluIG5leHQgfHwgIkBzIiBpbiBuZXh0OyAvLyBkZXRlY3QgaWYgd2UgbmVlZCB0byB1c2Ug");
    sb.append("YXJyYXkgbG9naWMKICAgICAgICAgIGlmIChhcnIpIHsgLy8gd2UgaGF2ZSBkZXRlY3RlZCBhbiBhcnJh");
    sb.append("eQogICAgICAgICAgICBpZiAoIShrZXkgaW4gdHJlZSkpIHsgLy8gbGV0J3MgbWFrZSBzdXJlIHRoZSB0");
    sb.append("cmVlIGhhcyBhbiBlbXB0eSBhcnJheQogICAgICAgICAgICAgIHRyZWVba2V5XSA9IFtdOwogICAgICAg");
    sb.append("ICAgICB9CiAgICAgICAgICAgIGlmICghKGVLZXkgaW4gdHJlZSkpIHsgLy8gbGV0J3MgbWFrZSBzdXJl");
    sb.append("IHRoZSBzZWNyZXQgZGF0YSBleGlzdHMgYXMgd2VsbAogICAgICAgICAgICAgIHRyZWVbZUtleV0gPSB7");
    sb.append("fTsKICAgICAgICAgICAgICBpZiAoIkBvIiBpbiBuZXh0KSB7IC8vIGlmIHdlIGhhdmUgYSBidW5jaCBv");
    sb.append("ZiBrZXlzLCB0aGVuIGxldCdzIG1ha2Ugc3VyZSB0byBwcmVzZXJ2ZSB0aGF0IGZvciBtYWtlX2RlbHRh");
    sb.append("CiAgICAgICAgICAgICAgICB0cmVlW2VLZXldWyJAbyJdID0gdHJ1ZTsKICAgICAgICAgICAgICB9CiAg");
    sb.append("ICAgICAgICAgICAgdHJlZVtlS2V5XS5fX2tleSA9IGtleTsgLy8gYW5ub3RhdGUgdGhlIG5ldyBpdGVt");
    sb.append("IHdpdGggdGhlIGdpdmVuIGtleQogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBlQmFzZSA9IHRy");
    sb.append("ZWVbZUtleV07IC8vIGdldCB0aGUgc2VjcmV0IChhbmQgcmVhbCkgZGF0YSBmb3IgdGhlIG9iamVjdCBp");
    sb.append("biBxdWVzdGlvbgogICAgICAgICAgICB2YXIgZVN1YiA9IHN1YihzLCBrZXkpOyAvLyBzY29wZSB0aGUg");
    sb.append("c3Vic2NyaXB0aW9uIHRvIHRoZSBrZXkKICAgICAgICAgICAgdmFyIG9yZGVyaW5nID0gbnVsbDsgLy8g");
    sb.append("ZGV0ZWN0aW9uIG9mIGlmIHdlIGhhdmUgQG8gb3JkZXJpbmcgdG8gcmVvcmRlciB0aGUgdmFsdWVzCiAg");
    sb.append("ICAgICAgICAgIHZhciByZXNpemUgPSBudWxsOyAvLyBkZXRlY3Rpb24gb2YgYW4gYXJyYXkgd2l0aG91");
    sb.append("dCBfX2tleQogICAgICAgICAgICB2YXIgZGVsYXkgPSB7fTsgLy8gd2UgZGVsYXkgYWxsIGV2ZW50cyBz");
    sb.append("dWNoIHRoYXQgdGhlIGFycmF5IGNhbiBiZSBidWlsdCBmb3IgaW5saW5lIG1ha2VfZGVsdGEgY2FsbHMg");
    sb.append("dG8gd29yawogICAgICAgICAgICBmb3IgKHZhciBhS2V5IGluIG5leHQpIHsgLy8gZm9yIGVhY2ggZmll");
    sb.append("bGQgd2l0aGluIHRoZSBkaWZmZXJlbmNlCiAgICAgICAgICAgICAgdmFyIHZhbCA9IG5leHRbYUtleV07");
    sb.append("CiAgICAgICAgICAgICAgaWYgKGFLZXkgPT0gIkBvIikgeyAvLyB0aGUgdmFsdWUgaXMgYSBuZXcgb3Jk");
    sb.append("ZXJpbmcgb2YgdGhlIGFycmF5CiAgICAgICAgICAgICAgICBvcmRlcmluZyA9IHZhbDsKICAgICAgICAg");
    sb.append("ICAgICB9IGVsc2UgaWYgKGFLZXkgPT0gIkBzIikgeyAvLyB0aGUgdmFsdWUgaXMgYSByZXNpemUgb2Yg");
    sb.append("dGhlIGFycmF5CiAgICAgICAgICAgICAgICByZXNpemUgPSB2YWw7CiAgICAgICAgICAgICAgfSBlbHNl");
    sb.append("IGlmICh2YWwgPT0gbnVsbCkgeyAvLyBkZWxldGUgdGhlIGVsZW1lbnQKICAgICAgICAgICAgICAgIGlm");
    sb.append("IChhS2V5IGluIGVCYXNlKSB7IC8vIGlmIGl0IGV4aXN0cyB3aXRoaW4gdGhlIHNlY3JldCBrZXkKICAg");
    sb.append("ICAgICAgICAgICAgICAgZGVsYXlbYUtleV0gPSBmdW5jdGlvbiAoeCkgewogICAgICAgICAgICAgICAg");
    sb.append("ICAgIGRlbChzdWIoZVN1YiwgeCkpOyAvLyBpc3N1ZSBkZWxldGVzCiAgICAgICAgICAgICAgICAgICAg");
    sb.append("ZGVsZXRlIGVCYXNlW3hdOyAvLyBkZWxldGUgdGhlIHZhbHVlCiAgICAgICAgICAgICAgICAgICAgZGVs");
    sb.append("X2tleShlU3ViLCB4KTsgLy8gZGVsZXRlIHRoZSBrZXlzIGZyb20gdGhlIG9iamVjdAogICAgICAgICAg");
    sb.append("ICAgICAgICAgIGZpcmVfZGVsKGVTdWIsIHgpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAg");
    sb.append("ICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSB7IC8vIHdlIGhhdmUgZGF0YQogICAgICAgICAgICAg");
    sb.append("ICAgaWYgKCEoYUtleSBpbiBlQmFzZSkpIHsgLy8gdGhlIGRhdGEgZGlkbid0IGV4aXN0LCBzbyBmaXJl");
    sb.append("IGFuIGFkZGl0aW9uIHRvIGV4dGVuZCB0aGUgc3Vic2NyaXB0aW9ucwogICAgICAgICAgICAgICAgICBm");
    sb.append("aXJlX2FkZChlU3ViLCBhS2V5KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHZhciBu");
    sb.append("VmFsID0gbmV4dFthS2V5XTsgLy8gZ2V0IHRoZSBuZXcgdmFsdWUKICAgICAgICAgICAgICAgIGlmICh0");
    sb.append("eXBlb2YgKG5WYWwpID09ICJvYmplY3QiKSB7IC8vIGlmIHRoZSBuZXcgdmFsdWUgaXMgYW4gb2JqZWN0");
    sb.append("CiAgICAgICAgICAgICAgICAgIGlmICghKGFLZXkgaW4gZUJhc2UpKSB7IC8vIHRoZW4gbWFrZSBzdXJl");
    sb.append("IHRoZSBuZXcgaXRlbSBpcyB3aXRoaW4gdGhlIHNlY3JldCB0cmVlCiAgICAgICAgICAgICAgICAgICAg");
    sb.append("ZUJhc2VbYUtleV0gPSB7fTsKICAgICAgICAgICAgICAgICAgICBlQmFzZVthS2V5XS5fX2tleSA9IGFL");
    sb.append("ZXk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgZGVsYXlbYUtleV0gPSBmdW5j");
    sb.append("dGlvbiAoeCkgewogICAgICAgICAgICAgICAgICAgIG1lcmdlKGVCYXNlW3hdLCBuZXh0W3hdLCBzdWIo");
    sb.append("ZVN1YiwgeCksIGV2ZW50cyk7IC8vIHJlY3Vyc2U6IG1lcmdlIHRoZSBkaWZmZXJlbmNlIGludG8gdGhl");
    sb.append("IHNlY3JldCB0cmVlIGFuZCBwdWJsaXNoIHRvIGFsbCBlbGVtZW50IHN1YnNjcmlwdGlvbnMKICAgICAg");
    sb.append("ICAgICAgICAgICAgICBmaXJlKHN1YihlU3ViLCB4KSwgZUJhc2VbeF0sIGV2ZW50cyk7CiAgICAgICAg");
    sb.append("ICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBvdGhlcndpc2UsIHNldCB0aGUg");
    sb.append("dmFsdWUgaW50byB0aGUgdHJlZQogICAgICAgICAgICAgICAgICBlQmFzZVthS2V5XSA9IG5WYWw7CiAg");
    sb.append("ICAgICAgICAgICAgICAgIGRlbGF5W2FLZXldID0gZnVuY3Rpb24gKHgpIHsKICAgICAgICAgICAgICAg");
    sb.append("ICAgICBmaXJlKHN1YihlU3ViLCB4KSwgZUJhc2VbeF0sIGV2ZW50cyk7CiAgICAgICAgICAgICAgICAg");
    sb.append("IH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyBhbmQgdGVsbCBldmVyeW9uZSB0");
    sb.append("aGUgbmV3IHZhbHVlIGZvciB0aGlzCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAg");
    sb.append("ICAgIHZhciBiZWZvcmUgPSB0cmVlW2tleV07IC8vIHN0YXNoIGEgcG9pbnRlciB0byB0aGUgYXJyYXkK");
    sb.append("ICAgICAgICAgICAgdmFyIGRlbGF5T3JkZXIgPSBbXTsKCiAgICAgICAgICAgIGlmIChvcmRlcmluZyAh");
    sb.append("PSBudWxsKSB7IC8vIGFuIG9yZGVyaW5nIGNoYW5nZSBpcyBoYXBwZW5pbmcKICAgICAgICAgICAgICB2");
    sb.append("YXIgYWZ0ZXIgPSBbXTsgLy8gd2Ugd2lsbCByZWJ1aWxkIHRoZSBhcnJheSBoZXJlCiAgICAgICAgICAg");
    sb.append("ICAgdmFyIG1zZyA9IFtdOyAvLyBhbmQgcmVjb3JkIHRoZSBrZXlzIGhlcmUKICAgICAgICAgICAgICBm");
    sb.append("b3IgKHZhciBrID0gMDsgayA8IG9yZGVyaW5nLmxlbmd0aDsgaysrKSB7IC8vIGZvciBlYWNoIG9yZGVy");
    sb.append("aW5nIGluc3RydWN0aW9uCiAgICAgICAgICAgICAgICB2YXIgaW5zdHIgPSBvcmRlcmluZ1trXTsKICAg");
    sb.append("ICAgICAgICAgICAgIHZhciB0eXBlX2luc3RyID0gdHlwZW9mIChpbnN0cik7CiAgICAgICAgICAgICAg");
    sb.append("ICBpZiAodHlwZV9pbnN0ciA9PSAic3RyaW5nIiB8fCB0eXBlX2luc3RyID09ICJudW1iZXIiKSB7IC8v");
    sb.append("IGlmIHRoZSBpbnN0cnVjdGlvbiByZWZlcnMgdG8gYW4gaXRlbQogICAgICAgICAgICAgICAgICBhZnRl");
    sb.append("ci5wdXNoKGVCYXNlW2luc3RyXSk7IC8vIHB1c2ggdGhlIGl0ZW0gaW50byB0aGUgbmV3IGFycmF5CiAg");
    sb.append("ICAgICAgICAgICAgICAgIG1zZy5wdXNoKCIiICsgaW5zdHIpOyAvLyByZWNvcmQgdGhlIGtleSBvZiB0");
    sb.append("aGUgaXRlbQogICAgICAgICAgICAgICAgfSBlbHNlIHsgLy8gb3RoZXJ3aXNlLCB0aGUgaW5zdHJ1Y3Rp");
    sb.append("b24gaXMgYSByYW5nZQogICAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSBpbnN0clswXTsKICAgICAg");
    sb.append("ICAgICAgICAgICAgdmFyIGVuZCA9IGluc3RyWzFdOwogICAgICAgICAgICAgICAgICBmb3IgKHZhciBq");
    sb.append("ID0gc3RhcnQ7IGogPD0gZW5kOyBqKyspIHsgLy8gaXRlcmF0ZSBvdmVyIHRoZSByYW5nZSBhbmQgY29w");
    sb.append("eQogICAgICAgICAgICAgICAgICAgIGFmdGVyLnB1c2goYmVmb3JlW2pdKTsgLy8gdGhlIGl0ZW1zIGZy");
    sb.append("b20gdGhlIHByZXZpb3VzIGNvcHkKICAgICAgICAgICAgICAgICAgICBtc2cucHVzaChiZWZvcmVbal0u");
    sb.append("X19rZXkpOyAvLyBhbmQgYW5ub3RhdGUgdGhlIGtleXMKICAgICAgICAgICAgICAgICAgfQogICAgICAg");
    sb.append("ICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBkZWxheU9yZGVyLnB1c2goZnVu");
    sb.append("Y3Rpb24gKCkgewogICAgICAgICAgICAgICAgZmlyZShzdWIoZVN1YiwgIn4iKSwgbXNnLCBldmVudHMp");
    sb.append("OyAvLyB0ZWxsIHN1YnNjcmlwdGlvbnMgYWJvdXQgdGhlIG5ldyBvcmRlcmluZwogICAgICAgICAgICAg");
    sb.append("IH0pOwogICAgICAgICAgICAgIHRyZWVba2V5XSA9IGFmdGVyOwogICAgICAgICAgICB9IGVsc2UgaWYg");
    sb.append("KHJlc2l6ZSAhPSBudWxsKSB7IC8vIGFsdGVybmF0aXZlbHksIGFuIGFycmF5IHdpdGhvdXQga2V5cyBp");
    sb.append("cyBiZWluZyByZXNpemVkCiAgICAgICAgICAgICAgdmFyIGFmdGVyID0gW107CiAgICAgICAgICAgICAg");
    sb.append("dmFyIG1zZyA9IFtdOwogICAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgcmVzaXplOyBrKysp");
    sb.append("IHsgLy8gd2UgcmVidWlsZCB0aGUgYXJyYXkKICAgICAgICAgICAgICAgIGFmdGVyW2tdID0gZUJhc2Vb");
    sb.append("IiIgKyBrXTsKICAgICAgICAgICAgICAgIG1zZy5wdXNoKCIiICsgayk7CiAgICAgICAgICAgICAgfQog");
    sb.append("ICAgICAgICAgICAgIGRlbGF5T3JkZXIucHVzaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBm");
    sb.append("aXJlKHN1YihlU3ViLCAifiIpLCBtc2csIGV2ZW50cyk7IC8vIHRlbGwgc3Vic2NyaXB0aW9ucyBhYm91");
    sb.append("dCB0aGUgbmV3IG9yZGVyaW5nCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgdHJlZVtrZXld");
    sb.append("ID0gYWZ0ZXI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm9yIChhS2V5IGluIGRlbGF5KSB7CiAg");
    sb.append("ICAgICAgICAgICAgZGVsYXlbYUtleV0oYUtleSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm9y");
    sb.append("ICh2YXIgayA9IDA7IGsgPCBkZWxheU9yZGVyLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICAgICAgZGVs");
    sb.append("YXlPcmRlcltrXSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZpcmUoZVN1YiwgdHJlZVtrZXld");
    sb.append("LCBldmVudHMpOyAvLyB0ZWxsIGV2ZXJ5b25lIGFib3V0IHRoZSBuZXcgdmFsdWUKICAgICAgICAgIH0g");
    sb.append("ZWxzZSB7CiAgICAgICAgICAgIGlmICghKGtleSBpbiB0cmVlKSB8fCB0eXBlb2YgKHRyZWVba2V5XSkg");
    sb.append("IT0gIm9iamVjdCIpIHsKICAgICAgICAgICAgICB0cmVlW2tleV0gPSB7fTsKICAgICAgICAgICAgfQog");
    sb.append("ICAgICAgICAgICB2YXIgZSA9IHN1YihzLCBrZXkpOwogICAgICAgICAgICBtZXJnZSh0cmVlW2tleV0s");
    sb.append("IG5leHQsIGUsIGV2ZW50cyk7CiAgICAgICAgICAgIGZpcmUoZSwgdHJlZVtrZXldLCBldmVudHMpOwog");
    sb.append("ICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7IC8vIG5vdCBhbiBvYmplY3QsIHNvIGl0IGlzIGEgdmFs");
    sb.append("dWUKICAgICAgICAgIHRyZWVba2V5XSA9IG5leHQ7IC8vIHN0YXNoIHRoZSBuZXcgdmFsdWUKICAgICAg");
    sb.append("ICAgIGZpcmUoc3ViKHMsIGtleSksIG5leHQsIGV2ZW50cyk7IC8vIGFuZCB0ZWxsIGV2ZXJ5b25lIGFi");
    sb.append("b3V0IGl0CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBmaXJlKHMsIHRyZWUsIGV2ZW50cyk7CiAg");
    sb.append("fTsKCiAgdmFyIGZpcmVfZXZlbnRzID0gZnVuY3Rpb24gKGV2ZW50cykgewogICAgZm9yICh2YXIgayA9");
    sb.append("IDA7IGsgPCBldmVudHMubGVuZ3RoOyBrKyspIHsKICAgICAgZXZlbnRzW2tdKCk7CiAgICB9CiAgfTsK");
    sb.append("CiAgdGhpcy51cGRhdGVfaW5fcHJvZ3Jlc3MgPSBmYWxzZTsKICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9u");
    sb.append("IChkZWx0YSkgewogICAgdGhpcy51cGRhdGVfaW5fcHJvZ3Jlc3MgPSB0cnVlOwogICAgdmFyIGFyciA9");
    sb.append("IFtdOyAvLyBjb252ZXJ0IHRoZSBzdWJzY3JpcHRpb25zIGludG8gYW4gYXJyYXkKICAgIGZvciAodmFy");
    sb.append("IGsgaW4gYWxsX3N1YnNjcmlwdGlvbnMpIHsKICAgICAgYXJyLnB1c2goYWxsX3N1YnNjcmlwdGlvbnNb");
    sb.append("a10pOwogICAgfQogICAgdmFyIGV2ZW50cyA9IFtdOwogICAgbWVyZ2Uocm9vdCwgZGVsdGEsIGFyciwg");
    sb.append("ZXZlbnRzKTsgLy8gZXhlY3V0ZSB0aGUgbWVyZ2UgYW5kIGZpcmUgZXZlbnRzCiAgICBmaXJlX2V2ZW50");
    sb.append("cyhldmVudHMpOwogICAgd2hpbGUgKHRoaXMuc3Vic2NyaWJlX2RlbGF5Lmxlbmd0aCA+IDApIHsKICAg");
    sb.append("ICAgdmFyIGNvcHkgPSB0aGlzLnN1YnNjcmliZV9kZWxheTsKICAgICAgdGhpcy5zdWJzY3JpYmVfZGVs");
    sb.append("YXkgPSBbXTsKICAgICAgdmFyIGZsYXQgPSBbXTsKICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBjb3B5");
    sb.append("Lmxlbmd0aDsgaysrKSB7CiAgICAgICAgaWYgKCFjb3B5W2tdLmFib3J0ZWQpIHsKICAgICAgICAgIGZs");
    sb.append("YXQucHVzaChjb3B5W2tdLnN1Yik7CiAgICAgICAgfQogICAgICB9CiAgICAgIGV2ZW50cyA9IFtdOwog");
    sb.append("ICAgICBtZXJnZSh7fSwgbWFrZV9kZWx0YShyb290KSwgZmxhdCwgZXZlbnRzKTsgLy8gZXhlY3V0ZSB0");
    sb.append("aGUgbWVyZ2UgYW5kIGZpcmUgZXZlbnRzCiAgICAgIGZpcmVfZXZlbnRzKGV2ZW50cyk7CiAgICB9CiAg");
    sb.append("ICB0aGlzLnVwZGF0ZV9pbl9wcm9ncmVzcyA9IGZhbHNlOwogIH07CgogIC8vIGZpeCB0aGUgY2FsbGJh");
    sb.append("Y2sgc3RydWN0dXJlIGZyb20gdGhlIHVzZXIncyBoYXBweSBsYW5kIHRvIHRoZSByaWdvciBvZiB0aGUg");
    sb.append("Zm9ybWF0IG5lZWRlZAogIHZhciB0cmFuc2Zvcm1fY2FsbGJhY2tfaW50b19zdWIgPSBmdW5jdGlvbiAo");
    sb.append("Y2FsbGJhY2ssIHN1YikgewogICAgaWYgKEFycmF5LmlzQXJyYXkoY2FsbGJhY2spKSB7IC8vIGlmIHRo");
    sb.append("ZSBjYWxsYmFjayBpcyBhbiBhcnJheSwgdGhlbiBmbGF0dGVuIHRoZSBhcnJheSBpbnRvIHRoZSBuZXcg");
    sb.append("b2JqZWN0CiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgY2FsbGJhY2subGVuZ3RoOyBrKyspIHsKICAg");
    sb.append("ICAgICB0cmFuc2Zvcm1fY2FsbGJhY2tfaW50b19zdWIoY2FsbGJhY2tba10sIHN1Yik7CiAgICAgIH0K");
    sb.append("ICAgIH0gZWxzZSBpZiAodHlwZW9mIChjYWxsYmFjaykgPT0gIm9iamVjdCIpIHsgLy8gb2gsIHRoZSBj");
    sb.append("YWxsYmFjayBpcyBhbiBvYmplY3QKICAgICAgZm9yICh2YXIga2V5IGluIGNhbGxiYWNrKSB7IC8vIGl0");
    sb.append("ZXJhdGUgb3ZlciBlYWNoIGtleQogICAgICAgIGlmIChrZXkgPT0gIkBlIikgeyAvLyBmb3JjZSB0aGUg");
    sb.append("ZnVuY3Rpb25zIHRvIG1lcmdlIHRvZ2V0aGVyCiAgICAgICAgICB0cmFuc2Zvcm1fY2FsbGJhY2tfaW50");
    sb.append("b19zdWIoY2FsbGJhY2tba2V5XSwgc3ViKTsKICAgICAgICB9IGVsc2UgeyAvLyBub3JtYWwgZmxvdwog");
    sb.append("ICAgICAgICAgaWYgKCEoa2V5IGluIHN1YikpIHsgLy8gZGl2ZSBpbnRvIHRoZSBvYmplY3QgYW5kIG1h");
    sb.append("a2Ugc3VyZSB0aGUgc3Vic2NyaXB0aW9uIGhhcyB0aGUgZmllbGQKICAgICAgICAgICAgc3ViW2tleV0g");
    sb.append("PSB7fTsKICAgICAgICAgIH0KICAgICAgICAgIHRyYW5zZm9ybV9jYWxsYmFja19pbnRvX3N1YihjYWxs");
    sb.append("YmFja1trZXldLCBzdWJba2V5XSk7IC8vIHJlY3Vyc2UgYW5kIHBhaXIgdGhlIGV2ZW50cyB0byB0aGUg");
    sb.append("bmV3IHN1YnNjcmlwdGlvbgogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIGlmICh0eXBlb2YgKGNh");
    sb.append("bGxiYWNrKSA9PSAiZnVuY3Rpb24iKSB7IC8vIGl0J3MgYSBmdW5jdGlvbgogICAgICBpZiAoISgiQGUi");
    sb.append("IGluIHN1YikpIHsgLy8gbGV0J3MgZW5zdXJlIHRoZXJlIGlzIGFuIGV2ZW50IGxpc3QKICAgICAgICBz");
    sb.append("dWJbIkBlIl0gPSBbY2FsbGJhY2tdOwogICAgICB9IGVsc2UgeyAvLyBvdGhlcndpc2UsIGp1c3QgYWRk");
    sb.append("IGl0CiAgICAgICAgc3ViWyJAZSJdLnB1c2goY2FsbGJhY2spOwogICAgICB9CiAgICB9CiAgfTsKCiAg");
    sb.append("Ly8gY29udmVydCB0aGUgdHJlZSB0byBhIGRlbHRhOyB0aGlzIHRyZWUgaXMgYXNzdW1lZCB0byBoYXZl");
    sb.append("IGJlZW4gbWVyZ2VkIGFscmVhZHkKICB2YXIgbWFrZV9kZWx0YSA9IGZ1bmN0aW9uIChzdCkgewogICAg");
    sb.append("dmFyIGRlbHRhID0ge307IC8vIHRoZSBkZWx0YSB0byBjb25zdHJ1Y3QKICAgIGZvciAodmFyIGsgaW4g");
    sb.append("c3QpIHsgLy8gZm9yIGVhY2gga2V5IHdpdGhpbiB0aGUgb2JqZWN0CiAgICAgIGlmIChrWzBdID09ICIj");
    sb.append("IiB8fCBrID09ICJAbyIgfHwgayA9PSAiX19rZXkiKSBjb250aW51ZTsgLy8gc2tpcCB0aGVzZQogICAg");
    sb.append("ICB2YXIgdiA9IHN0W2tdOwogICAgICBpZiAoKCIjIiArIGspIGluIHN0KSB7IC8vIHRoZSByZXN1bHQg");
    sb.append("aXMgYW4gYXJyYXkKICAgICAgICB2YXIgcHYgPSBzdFsnIycgKyBrXTsKICAgICAgICB2YXIgZCA9IHt9");
    sb.append("OwogICAgICAgIGlmICgiQG8iIGluIHB2KSB7IC8vIGFuZCB3ZSBoYXZlIGEgc3BlY2lmaWMgb3JkZXJp");
    sb.append("bmcgdG8gbWVtb2l6ZQogICAgICAgICAgdmFyIG8gPSBbXTsKICAgICAgICAgIGZvciAodmFyIGogPSAw");
    sb.append("OyBqIDwgdi5sZW5ndGg7IGorKykgeyAvLyBjb3B5IHRoZSBlbGVtZW50cyBmcm9tIHRoZSBhcnJheQog");
    sb.append("ICAgICAgICAgICB2YXIgdmogPSB2W2pdOwogICAgICAgICAgICBkW3ZqLl9fa2V5XSA9IG1ha2VfZGVs");
    sb.append("dGEodmopOyAvLyB1c2luZyB0aGUgX19rZXkgZW1iZWRkZWQgaW4gdGhlIG9iamVjdAogICAgICAgICAg");
    sb.append("ICBvLnB1c2godltqXS5fX2tleSk7CiAgICAgICAgICB9CiAgICAgICAgICBkWyJAbyJdID0gbzsKICAg");
    sb.append("ICAgICB9IGVsc2UgeyAvLyBvdGhlcndpc2U7IHJlY29yZCB0aGUgc2l6ZSBhcyB3ZSByZWN1cnNlCiAg");
    sb.append("ICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHYubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgZFsi");
    sb.append("IiArIGpdID0gbWFrZV9kZWx0YShwdltqXSk7CiAgICAgICAgICB9CiAgICAgICAgICBkWyJAcyJdID0g");
    sb.append("di5sZW5ndGg7CiAgICAgICAgfQogICAgICAgIGRlbHRhW2tdID0gZDsKICAgICAgfSBlbHNlIGlmICh0");
    sb.append("eXBlb2YgKHYpID09ICJvYmplY3QiKSB7IC8vIGl0J3MganVzdCBhbiBvYmplY3QsIHNvIHJlY3Vyc2Ug");
    sb.append("ZGlyZWN0bHkKICAgICAgICBkZWx0YVtrXSA9IG1ha2VfZGVsdGEodik7CiAgICAgIH0gZWxzZSB7IC8v");
    sb.append("IGZpbmFsbHksIGl0IGlzIGEgdmFsdWUgc28ganVzdCBzZXQgaXQKICAgICAgICBkZWx0YVtrXSA9IHY7");
    sb.append("CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBkZWx0YTsKICB9OwoKICB0aGlzLnN1YnNjcmliZV9kZWxh");
    sb.append("eSA9IFtdOwoKICAvLyBgc3Vic2NyaWJlYCB0aGUgZ2l2ZW4gc3RydWN0dXJhbCBjYWxsYmFjawogIHRo");
    sb.append("aXMuc3Vic2NyaWJlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICB2YXIgc3ViID0ge307CiAgICB0");
    sb.append("cmFuc2Zvcm1fY2FsbGJhY2tfaW50b19zdWIoY2FsbGJhY2ssIHN1Yik7ICAvLyB0cmFuc2Zvcm0gdGhl");
    sb.append("IGNhbGxiYWNrIGludG8gYSBzYWZlIGNhbGxiYWNrCiAgICB2YXIgUyA9ICIiICsgaWQrKzsgLy8gY3Jl");
    sb.append("YXRlIGFuIGlkIGZvciB0aGUgc3Vic2NyaXB0aW9uCiAgICBhbGxfc3Vic2NyaXB0aW9uc1tTXSA9IHN1");
    sb.append("YjsgLy8gcmVjb3JkIHRoZSBzdWJzY3JpcHRpb24KICAgIGlmICh0aGlzLnVwZGF0ZV9pbl9wcm9ncmVz");
    sb.append("cykgewogICAgICB2YXIgc20gPSB7fTsKICAgICAgc20uc3ViID0gc3ViOwogICAgICBzbS5hYm9ydGVk");
    sb.append("ID0gZmFsc2U7CiAgICAgIHRoaXMuc3Vic2NyaWJlX2RlbGF5LnB1c2goc20pOwogICAgICByZXR1cm4g");
    sb.append("ZnVuY3Rpb24oKSB7CiAgICAgICAgc20uYWJvcnRlZCA9IHRydWU7CiAgICAgICAgZGVsZXRlIGFsbF9z");
    sb.append("dWJzY3JpcHRpb25zW1NdOwogICAgICB9OwogICAgfSBlbHNlIHsKICAgICAgdmFyIGRlbHRhID0gbWFr");
    sb.append("ZV9kZWx0YShyb290KTsKICAgICAgdmFyIGV2ZW50cyA9IFtdOwogICAgICBtZXJnZSh7fSwgZGVsdGEs");
    sb.append("IFtzdWJdLCBldmVudHMpOyAvLyBleGVjdXRlIHRoZSBjYWxsYmFjayBub3cgb24gYSBjYWxsYmFjayBv");
    sb.append("ZiBhbGwgZGF0YSB0byBmaXJlIGV2ZW50cyBhbmQgZmlsbCB0aGUgc3Vic2NyaXB0aW9uIG9iamVjdAog");
    sb.append("ICAgICBmaXJlX2V2ZW50cyhldmVudHMpOwogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyAvLyByZXR1");
    sb.append("cm4gYSBtZXRob2QgdG8gdW5zdWJzY3JpYmUKICAgICAgICBkZWxldGUgYWxsX3N1YnNjcmlwdGlvbnNb");
    sb.append("U107CiAgICAgIH07CiAgICB9CiAgfTsKfQ==");
    return sb.toString();
  }
  public static final String DEBUGGER = new String(Base64.getDecoder().decode(make_debugger()), StandardCharsets.UTF_8);
  private static String make_debugger() {
    StringBuilder sb = new StringBuilder();
    sb.append("LyoqIFRoZSBBbWF6aW5nIEludGVybmFsIERlYnVnZ2VyIGZvciBSeEhUTUwgQ29ubmVjdGlvbiAqLwpB");
    sb.append("ZGFtYS5EZWJ1Z2dlciA9IChmdW5jdGlvbigpIHsKICB2YXIgc2VsZiA9IHt9OwogIHNlbGYuc2hvd24g");
    sb.append("PSBmYWxzZTsKICB2YXIgY29ubmVjdGlvbnMgPSB7fTsKICB2YXIgY3VycmVudCA9IG51bGw7CgogIC8q");
    sb.append("KiBIZWxwZXIgfCByZW1vdmUgYWxsIHRoZSBjaGlsZHJlbiBvZiBhIHBhcmVudCAqLwogIHZhciBudWtl");
    sb.append("ID0gZnVuY3Rpb24gKHBhcmVudCkgewogICAgdmFyIGxhc3QgPSBwYXJlbnQubGFzdENoaWxkOwogICAg");
    sb.append("d2hpbGUgKGxhc3QpIHsKICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGxhc3QpOwogICAgICBsYXN0ID0g");
    sb.append("cGFyZW50Lmxhc3RDaGlsZDsKICAgIH0KICB9OwoKICAvKiogSGVscGVyIHwgY3JlYXRlIGEgc2ltcGxl");
    sb.append("IGVsZW1lbnQgd2l0aCB0aGUgZ2l2ZW4gY29udGVudCBhcyB0aGUgaW5uZXJIVE1MICovCiAgdmFyIHNp");
    sb.append("bXBsZSA9IGZ1bmN0aW9uKHRhZywgY29udGVudCkgewogICAgdmFyIGQgPSBkb2N1bWVudC5jcmVhdGVF");
    sb.append("bGVtZW50KHRhZyk7CiAgICBkLmlubmVySFRNTCA9IGNvbnRlbnQ7CiAgICByZXR1cm4gZDsKICB9Cgog");
    sb.append("IHZhciBidXR0b25TdHlsZSA9ICJiYWNrZ3JvdW5kOiMzMzM7IGJvcmRlcjogMXB4IHNvbGlkICNmMDA7");
    sb.append("IGNvbG9yOiNmZmY7IHBhZGRpbmc6M3B4OyBtYXJnaW46M3B4OyBib3JkZXItcmFkaXVzOiAzcHg7IjsK");
    sb.append("ICB2YXIgaW5wdXRTdHlsZSA9ICJiYWNrZ3JvdW5kOiNlZWU7IGNvbG9yOiMwMDA7IjsKICB2YXIgcGx1");
    sb.append("c1NWRyA9ICI8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBmaWxsPVwibm9u");
    sb.append("ZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2Utd2lkdGg9XCIxLjVcIiBzdHJva2U9XCIjNzdk");
    sb.append("NjU2XCIgc3R5bGU9XCJ3aWR0aDoxOHB4OyBoZWlnaHQ6MThweDtcIj48cGF0aCBzdHJva2UtbGluZWNh");
    sb.append("cD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBkPVwiTTEyIDl2Nm0zLTNIOW0xMiAw");
    sb.append("YTkgOSAwIDExLTE4IDAgOSA5IDAgMDExOCAwelwiIC8+PC9zdmc+IjsKICB2YXIgbWludXNTVkcgPSAi");
    sb.append("PHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgZmlsbD1cIm5vbmVcIiB2aWV3");
    sb.append("Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlLXdpZHRoPVwiMS41XCIgc3Ryb2tlPVwiI2YwMFwiIHN0eWxl");
    sb.append("PVwid2lkdGg6MThweDsgaGVpZ2h0OjE4cHg7XCI+PHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwi");
    sb.append("IHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgZD1cIk0xNSAxMkg5bTEyIDBhOSA5IDAgMTEtMTggMCA5");
    sb.append("IDkgMCAwMTE4IDB6XCIgLz48L3N2Zz4iOwoKICAvLyB3ZSBhcmUgZ29pbmcgdG8gY3JlYXRlIGEgZG9j");
    sb.append("dW1lbnQKICB2YXIgdmlld0pzb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICB2YXIg");
    sb.append("dmlld0NoYW5uZWxzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CgogIHZpZXdKc29uLnN0");
    sb.append("eWxlID0gImZvbnQtZmFtaWx5OiBcIkpldEJyYWlucyBNb25vXCIsIHNvdXJjZS1jb2RlLXBybywgTWVu");
    sb.append("bG8sIE1vbmFjbywgQ29uc29sYXMsIG1vbm9zcGFjZTsgZm9udC1zaXplOiAxNHB4OyBjb2xvcjogI2Zm");
    sb.append("ZjsgYmFja2dyb3VuZC1jb2xvcjogIzAwMDsgd2lkdGg6MTAwJSIKICB2aWV3Q2hhbm5lbHMuc3R5bGUg");
    sb.append("PSAiZm9udC1mYW1pbHk6IFwiSmV0QnJhaW5zIE1vbm9cIiwgc291cmNlLWNvZGUtcHJvLCBNZW5sbywg");
    sb.append("TW9uYWNvLCBDb25zb2xhcywgbW9ub3NwYWNlOyBmb250LXNpemU6IDE0cHg7IGNvbG9yOiAjZmZmOyBi");
    sb.append("YWNrZ3JvdW5kLWNvbG9yOiAjMDAwOyB3aWR0aDoxMDAlIgoKICAvKiogUmVmbGVjdGlvbiB8IGdpdmVu");
    sb.append("IGEgcmVmbGVjdGVkIHR5cGUsIGV4dHJhY3QgdGhlIHN0cnVjdHVyZSB0eXBlICoqLwogIHZhciBleHRy");
    sb.append("YWN0U3RydWN0dXJlVHlwZSA9IGZ1bmN0aW9uKHR5cGUsIHR5cGVzKSB7CiAgICBpZiAodHlwZS5uYXR1");
    sb.append("cmUgPT0gInJlYWN0aXZlX3JlZiIgfHwgdHlwZS5uYXR1cmUgPT0gIm5hdGl2ZV9yZWYiKSB7CiAgICAg");
    sb.append("IHJldHVybiBleHRyYWN0U3RydWN0dXJlVHlwZSh0eXBlc1t0eXBlLnJlZl0sIHR5cGVzKTsKICAgIH0K");
    sb.append("ICAgIGlmICh0eXBlLm5hdHVyZSA9PSAicmVhY3RpdmVfcmVjb3JkIiB8fCB0eXBlLm5hdHVyZSA9PSAi");
    sb.append("bmF0aXZlX21lc3NhZ2UiKSB7CiAgICAgIHJldHVybiB0eXBlOwogICAgfQogICAgcmV0dXJuIG51bGw7");
    sb.append("CiAgfQoKICAvKiogVHJlZVZpZXcgfCBHaXZlbiBhIHR5cGUgKGFuZCBhIHR5cGUgZm9yZXN0KSBjcmVh");
    sb.append("dGUgYSAnbmFtZWQnIGRvbSBlbGVtZW50CiAgICogIGFsb25nIHdpdGggYW4gdXBkYXRlIGRlbHRhLiBU");
    sb.append("aGUgdXBkYXRlIGRlbHRhIGlzIGEgZnVuY3Rpb25hbCAob3Igc3RydWN0dXJhbCBmdW5jdGlvbmFsKQog");
    sb.append("ICAqICBjbG9zdXJlIHRoYXQgd2lsbCB1cGRhdGUgdGhlIGRvbSBlbGVtZW50IHN1Y2ggdGhhdCBpdCBj");
    sb.append("YW4gYmUgYXR0YWNoZWQgdG8gYW4gQWRhbWEgVHJlZSAqLwogIHZhciBjb252ZXJ0VHlwZVRvRG9tRGVs");
    sb.append("dGEgPSBmdW5jdGlvbih0eXBlLCB0eXBlcykgewogICAgaWYgKHR5cGUubmF0dXJlID09ICJyZWFjdGl2");
    sb.append("ZV9yZWYiIHx8IHR5cGUubmF0dXJlID09ICJuYXRpdmVfcmVmIikgewogICAgICAvLyBnbyB0byB0aGUg");
    sb.append("Zm9yZXN0IGFuZCB0dXJuIHRoZSByZWYgaW50byBhIG1hbmlmZXN0ZWQgdHlwZQogICAgICByZXR1cm4g");
    sb.append("Y29udmVydFR5cGVUb0RvbURlbHRhKHR5cGVzW3R5cGUucmVmXSwgdHlwZXMpOwogICAgfQogICAgaWYg");
    sb.append("KHR5cGUubmF0dXJlID09ICJuYXRpdmVfbWF5YmUiIHx8IHR5cGUubmF0dXJlID09ICJyZWFjdGl2ZV9t");
    sb.append("YXliZSIpIHsKICAgICAgLy8gYSBtYXliZSBpcyBqdXN0IGEgd3JhcHBlciBhcm91bmQgYW5vdGhlciB0");
    sb.append("eXBlIHRoYXQgY2FuIG51bGwgb3V0CiAgICAgIHZhciBkb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50");
    sb.append("KCJzcGFuIik7CiAgICAgIHZhciByZXN1bHQgPSBjb252ZXJ0VHlwZVRvRG9tRGVsdGEodHlwZS50eXBl");
    sb.append("LCB0eXBlcyk7CiAgICAgIHJldHVybiB7CiAgICAgICAgZG9tOiBkb20sCiAgICAgICAgbmFtZTogIm1h");
    sb.append("eWJlJmx0OyIgKyByZXN1bHQubmFtZSArICImZ3Q7IiwKICAgICAgICB1cGRhdGU6IFtyZXN1bHQudXBk");
    sb.append("YXRlLCBmdW5jdGlvbih2YWx1ZSkgewogICAgICAgICAgbnVrZShkb20pOwogICAgICAgICAgaWYgKHZh");
    sb.append("bHVlID09IG51bGwpIHsKICAgICAgICAgICAgZG9tLmlubmVySFRNTCA9ICI8aT5udWxsPC9pPiI7CiAg");
    sb.append("ICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkb20uYXBwZW5kKHJlc3VsdC5kb20pOwogICAgICAg");
    sb.append("ICAgfQogICAgICAgIH1dCiAgICAgIH07CiAgICB9CiAgICBpZiAodHlwZS5uYXR1cmUgPT0gIm5hdGl2");
    sb.append("ZV9saXN0IiB8fCB0eXBlLm5hdHVyZSA9PSAibmF0aXZlX2FycmF5IikgewogICAgICAvLyB0aGlzIGlz");
    sb.append("IHRoZSBtb3N0IGNvbXBsZXggdHlwZSBhcyBpdCByZXF1aXJlcyBhIGRpZmZlcmVudGlhbCBzdHJ1Y3R1");
    sb.append("cmUuCgogICAgICAvLyB3ZSBjcmVhdGUgYSBkdW1teSB0byBnZXQgdGhlIG5hbWUgb2YgdGhlIHR5cGUK");
    sb.append("ICAgICAgdmFyIGR1bW15ID0gY29udmVydFR5cGVUb0RvbURlbHRhKHR5cGUudHlwZSwgdHlwZXMpOwoK");
    sb.append("ICAgICAgLy8gc28sIHdlIGhhdmUgdHdvIGNvbnNpZGVyYXRpb25zLiBGaXJzdCwgaXMgdGhpcyBhIGxp");
    sb.append("c3Qgb2Ygc3RydWN0dXJlcyBPUiBhIGxpc3Qgb2YgdmFsdWVzLgogICAgICB2YXIgcmVjb3JkVHlwZSA9");
    sb.append("IGV4dHJhY3RTdHJ1Y3R1cmVUeXBlKHR5cGUudHlwZSwgdHlwZXMpOwogICAgICBpZiAocmVjb3JkVHlw");
    sb.append("ZSAhPSBudWxsKSB7CiAgICAgICAgLy8gaXQgaXMgYSBsaXN0IG9mIHN0cnVjdHVyZXMsIHNvIHdlIHdh");
    sb.append("bnQgdG8gY3JlYXRlIGEgbmljZSBsb29raW5nIHRhYmxlIHdpdGggcGFnaW5hdGlvbiEKICAgICAgICB2");
    sb.append("YXIgdGFibGVDb250cm9scyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKICAgICAgICB2");
    sb.append("YXIgc2hvd2hpZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgICAgICB0YWJs");
    sb.append("ZUNvbnRyb2xzLmFwcGVuZChzaG93aGlkZSk7CgogICAgICAgIHZhciB0YWJsZUhvbGRlciA9IGRvY3Vt");
    sb.append("ZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIik7CiAgICAgICAgdGFibGVDb250cm9scy5hcHBlbmQodGFi");
    sb.append("bGVIb2xkZXIpOwogICAgICAgIHZhciB0YWJsZUhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQo");
    sb.append("InRoZWFkIik7CiAgICAgICAgdGFibGVIb2xkZXIuYXBwZW5kKHRhYmxlSGVhZGVyKTsKICAgICAgICB2");
    sb.append("YXIgaGVhZGVyUm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTsKICAgICAgICB0YWJsZUhv");
    sb.append("bGRlci5hcHBlbmQoaGVhZGVyUm93KTsKICAgICAgICB2YXIgY29sb3JTdHlsZSA9ICJib3JkZXI6IDFw");
    sb.append("eCBzb2xpZCAjM2I1NGRhOyI7CiAgICAgICAgZm9yICh2YXIgZmllbGROYW1lIGluIHJlY29yZFR5cGUu");
    sb.append("ZmllbGRzKSB7CiAgICAgICAgICB2YXIgZmllbGQgPSByZWNvcmRUeXBlLmZpZWxkc1tmaWVsZE5hbWVd");
    sb.append("OwogICAgICAgICAgaWYgKCJwcml2YXRlIiA9PSBmaWVsZC5wcml2YWN5KSB7CiAgICAgICAgICAgIGNv");
    sb.append("bnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgdmFyIHJlc3VsdCA9IGNvbnZlcnRUeXBlVG9Eb21E");
    sb.append("ZWx0YShmaWVsZC50eXBlLCB0eXBlcyk7CiAgICAgICAgICB2YXIgdGQgPSBkb2N1bWVudC5jcmVhdGVF");
    sb.append("bGVtZW50KCJ0ZCIpOwogICAgICAgICAgdGQuaW5uZXJIVE1MID0gcmVzdWx0Lm5hbWUgKyAiICIgKyBm");
    sb.append("aWVsZE5hbWU7CiAgICAgICAgICBoZWFkZXJSb3cuYXBwZW5kKHRkKTsKICAgICAgICAgIHRkLnN0eWxl");
    sb.append("ID0gY29sb3JTdHlsZSArICJwYWRkaW5nLWxlZnQ6IDAuNWVtOyBwYWRkaW5nLXJpZ2h0OiAwLjVlbTsi");
    sb.append("CiAgICAgICAgfQogICAgICAgIHRhYmxlSG9sZGVyLnN0eWxlID0gY29sb3JTdHlsZSArICJwYWRkaW5n");
    sb.append("OiAwLjVlbTsgbWFyZ2luOjAuNWVtOyBkaXNwbGF5Om5vbmUiCiAgICAgICAgaGVhZGVyUm93LnN0eWxl");
    sb.append("ID0gY29sb3JTdHlsZTsKICAgICAgICB2YXIgdGFibGVCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVu");
    sb.append("dCgidGJvZHkiKTsKICAgICAgICB0YWJsZUhvbGRlci5hcHBlbmQodGFibGVCb2R5KTsKICAgICAgICB2");
    sb.append("YXIgcm93c0J5S2V5ID0ge307CiAgICAgICAgdmFyIHBhZ2luZyA9IHsKICAgICAgICAgIHNob3duOmZh");
    sb.append("bHNlLAogICAgICAgICAgb3JkZXI6W10sCiAgICAgICAgICBwYWdlOiAwLAogICAgICAgICAgcGFnZV9s");
    sb.append("aW1pdDogMTAsCiAgICAgICAgfTsKICAgICAgICB2YXIgY29udHJvbGxlciA9IGRvY3VtZW50LmNyZWF0");
    sb.append("ZUVsZW1lbnQoInNwYW4iKTsKICAgICAgICB0YWJsZUNvbnRyb2xzLmFwcGVuZChjb250cm9sbGVyKTsK");
    sb.append("ICAgICAgICBwYWdpbmcucmVmb3JtID1mdW5jdGlvbigpIHsKICAgICAgICAgIG51a2UodGFibGVCb2R5");
    sb.append("KTsKICAgICAgICAgIHZhciBzdGFydCA9IE1hdGgubWluKHRoaXMucGFnZSAqIHRoaXMucGFnZV9saW1p");
    sb.append("dCwgdGhpcy5vcmRlci5sZW5ndGggLSB0aGlzLnBhZ2VfbGltaXQpOwogICAgICAgICAgZm9yICh2YXIg");
    sb.append("YXQgPSBzdGFydDsgYXQgPCBzdGFydCArIHBhZ2luZy5wYWdlX2xpbWl0OyBhdCsrKSB7CiAgICAgICAg");
    sb.append("ICAgIHZhciByb3cgPSByb3dzQnlLZXlbcGFnaW5nLm9yZGVyW2F0XV07CiAgICAgICAgICAgIGlmIChy");
    sb.append("b3cpIHsKICAgICAgICAgICAgICB0YWJsZUJvZHkuYXBwZW5kKHJvdyk7CiAgICAgICAgICAgIH0KICAg");
    sb.append("ICAgICAgIH0KICAgICAgICAgIG51a2UoY29udHJvbGxlcik7CiAgICAgICAgICBpZiAodGhpcy5zaG93");
    sb.append("bikgewogICAgICAgICAgICB2YXIgcGFnZXMgPSB0aGlzLm9yZGVyLmxlbmd0aCAvIHRoaXMucGFnZV9s");
    sb.append("aW1pdDsKICAgICAgICAgICAgaWYgKHBhZ2VzID4gMSkgewogICAgICAgICAgICAgIGZvciAodmFyIGsg");
    sb.append("PSAwOyBrIDwgcGFnZXM7IGsrKykgewogICAgICAgICAgICAgICAgdmFyIGdvdG9QYWdlID0gZG9jdW1l");
    sb.append("bnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7CiAgICAgICAgICAgICAgICBnb3RvUGFnZS5zdHlsZSA9");
    sb.append("IGJ1dHRvblN0eWxlOwogICAgICAgICAgICAgICAgZ290b1BhZ2UuaW5uZXJIVE1MID0gIltQRzoiICsg");
    sb.append("ayArICJdIjsKICAgICAgICAgICAgICAgIGdvdG9QYWdlLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAg");
    sb.append("ICAgICAgICAgICAgICAgIHRoaXMucGFnaW5nLnBhZ2UgPSB0aGlzLnBnOwogICAgICAgICAgICAgICAg");
    sb.append("ICB0aGlzLnBhZ2luZy5yZWZvcm0oKTsKICAgICAgICAgICAgICAgIH0uYmluZCh7cGFnaW5nOiB0aGlz");
    sb.append("LCBwZzoga30pOwogICAgICAgICAgICAgICAgY29udHJvbGxlci5hcHBlbmQoZ290b1BhZ2UpOwogICAg");
    sb.append("ICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgc2hvd2hpZGUuaW5u");
    sb.append("ZXJIVE1MID0gdGhpcy5zaG93biA/IG1pbnVzU1ZHIDogcGx1c1NWRzsKICAgICAgICAgIHNob3doaWRl");
    sb.append("Lm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdGhpcy5zaG93biA9ICF0aGlzLnNob3du");
    sb.append("OwogICAgICAgICAgICBpZiAodGhpcy5zaG93bikgewogICAgICAgICAgICAgIHRhYmxlSG9sZGVyLnN0");
    sb.append("eWxlLmRpc3BsYXkgPSAiIjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0YWJsZUhv");
    sb.append("bGRlci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMu");
    sb.append("cmVmb3JtKCk7CiAgICAgICAgICB9LmJpbmQodGhpcyk7CiAgICAgICAgfS5iaW5kKHBhZ2luZyk7CgoK");
    sb.append("ICAgICAgICByZXR1cm4gewogICAgICAgICAgZG9tOiB0YWJsZUNvbnRyb2xzLAogICAgICAgICAgbmFt");
    sb.append("ZTogImxpc3QmbHQ7IiArIGR1bW15Lm5hbWUgKyAiJmd0OyIsCiAgICAgICAgICB1cGRhdGU6IHsKICAg");
    sb.append("ICAgICAgICAgJysnOiBmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgICAgdmFyIHJvdyA9IGRvY3Vt");
    sb.append("ZW50LmNyZWF0ZUVsZW1lbnQoInRyIik7CiAgICAgICAgICAgICAgcm93c0J5S2V5W2tleV0gPSByb3c7");
    sb.append("CiAgICAgICAgICAgICAgdmFyIGRlbHRhID0ge307CiAgICAgICAgICAgICAgZm9yICh2YXIgZmllbGRO");
    sb.append("YW1lIGluIHJlY29yZFR5cGUuZmllbGRzKSB7CiAgICAgICAgICAgICAgICB2YXIgZmllbGQgPSByZWNv");
    sb.append("cmRUeXBlLmZpZWxkc1tmaWVsZE5hbWVdOwogICAgICAgICAgICAgICAgaWYgKCJwcml2YXRlIiA9PSBm");
    sb.append("aWVsZC5wcml2YWN5KSB7CiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAg");
    sb.append("fQogICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGNvbnZlcnRUeXBlVG9Eb21EZWx0YShmaWVsZC50");
    sb.append("eXBlLCB0eXBlcyk7CiAgICAgICAgICAgICAgICB2YXIgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50");
    sb.append("KCJ0ZCIpOwogICAgICAgICAgICAgICAgdGQuc3R5bGUgPSBjb2xvclN0eWxlICsgInBhZGRpbmc6IDAu");
    sb.append("MjVlbTsgdGV4dC1hbGlnbjp0b3AiOwogICAgICAgICAgICAgICAgdGQuYXBwZW5kKHJlc3VsdC5kb20p");
    sb.append("OwogICAgICAgICAgICAgICAgcm93LmFwcGVuZCh0ZCk7CiAgICAgICAgICAgICAgICBkZWx0YVtmaWVs");
    sb.append("ZE5hbWVdID0gcmVzdWx0LnVwZGF0ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJu");
    sb.append("IGRlbHRhOwogICAgICAgICAgICB9LAogICAgICAgICAgICAnLSc6IGZ1bmN0aW9uIChrZXkpIHsKICAg");
    sb.append("ICAgICAgICAgICB2YXIgZG9tID0gcm93c0J5S2V5W2tleV07CiAgICAgICAgICAgICAgdGFibGVCb2R5");
    sb.append("LnJlbW92ZShkb20pOwogICAgICAgICAgICAgIGRlbGV0ZSByb3dzQnlLZXlba2V5XTsKICAgICAgICAg");
    sb.append("ICAgfSwKICAgICAgICAgICAgJ34nOiBmdW5jdGlvbiAob3JkZXIpIHsKICAgICAgICAgICAgICBpZiAo");
    sb.append("b3JkZXIgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgcGFnaW5nLm9yZGVyID0gb3JkZXI7CiAgICAg");
    sb.append("ICAgICAgICAgICBwYWdpbmcucmVmb3JtKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAg");
    sb.append("ICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIG5vdCBhIHJlY29yZCwg");
    sb.append("c28gd2UgdXNlIGEgc2ltcGxlIGxpc3QKICAgICAgICB2YXIgbGlzdEhvbGRlciA9IGRvY3VtZW50LmNy");
    sb.append("ZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIHZhciBkb21CeUtleSA9IHt9OwogICAgICAgIHJldHVy");
    sb.append("biB7CiAgICAgICAgICBkb206IGxpc3RIb2xkZXIsCiAgICAgICAgICBuYW1lOiAibGlzdDwiICsgZHVt");
    sb.append("bXkubmFtZSArICI+IiwKICAgICAgICAgIHVwZGF0ZTogewogICAgICAgICAgICAnKyc6IGZ1bmN0aW9u");
    sb.append("IChrZXkpIHsKICAgICAgICAgICAgICB2YXIgaXRlbUhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1l");
    sb.append("bnQoInNwYW4iKTsKICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gY29udmVydFR5cGVUb0RvbURlbHRh");
    sb.append("KHR5cGUudHlwZSwgdHlwZXMpOwogICAgICAgICAgICAgIGl0ZW1Ib2xkZXIuYXBwZW5kKHJlc3VsdC5k");
    sb.append("b20pOwogICAgICAgICAgICAgIGl0ZW1Ib2xkZXIuYXBwZW5kKHNpbXBsZSgic3BhbiIsICIsICIpKTsK");
    sb.append("ICAgICAgICAgICAgICBkb21CeUtleVtrZXldID0gaXRlbUhvbGRlcjsKICAgICAgICAgICAgICByZXR1");
    sb.append("cm4gcmVzdWx0LnVwZGF0ZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgJy0nOiBmdW5jdGlvbiAo");
    sb.append("a2V5KSB7CiAgICAgICAgICAgICAgdmFyIGRvbSA9IGRvbUJ5S2V5W2tleV07CiAgICAgICAgICAgICAg");
    sb.append("bGlzdEhvbGRlci5yZW1vdmUoZG9tKTsKICAgICAgICAgICAgICBkZWxldGUgZG9tQnlLZXlba2V5XTsK");
    sb.append("ICAgICAgICAgICAgfSwKICAgICAgICAgICAgJ34nOiBmdW5jdGlvbiAob3JkZXIpIHsKICAgICAgICAg");
    sb.append("ICAgfQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0KICAgIH0KICAgIGlmICh0eXBlLm5hdHVy");
    sb.append("ZSA9PSAicmVhY3RpdmVfdmFsdWUiIHx8IHR5cGUubmF0dXJlID09ICJuYXRpdmVfdmFsdWUiKSB7CiAg");
    sb.append("ICAgIC8vIGl0J3MganVzdCBkYXRhLCBzbyBjcmVhdGUgYSBzaW5nbGUgbm9kZSB0byBkcmF3IGl0CiAg");
    sb.append("ICAgIHZhciBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICBpdGVtLmlu");
    sb.append("bmVySFRNTCA9ICJudWxsIjsKICAgICAgaXRlbS5zdHlsZSA9ICJjb2xvcjogIzc3YTVmZjsiOwogICAg");
    sb.append("ICB2YXIgdXBkYXRlID0gZnVuY3Rpb24odmFsdWUpIHsgaXRlbS5pbm5lckhUTUwgPSB2YWx1ZTsgfTsK");
    sb.append("ICAgICAgaWYgKHR5cGUudHlwZSA9PSAic3RyaW5nIikgewogICAgICAgIGl0ZW0uc3R5bGUgPSAiY29s");
    sb.append("b3I6ICM3N2Q2NTYiOwogICAgICAgIHVwZGF0ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7IGl0ZW0uaW5uZXJI");
    sb.append("VE1MID0gIlwiIiArIHZhbHVlICsgIlwiIjsgfTsKICAgICAgfSBlbHNlIGlmICh0eXBlLnR5cGUgPT0g");
    sb.append("InByaW5jaXBhbCIpIHsKICAgICAgICBpdGVtLnN0eWxlID0gImNvbG9yOiAjQkE4M0ZGOyI7CiAgICAg");
    sb.append("ICAgdXBkYXRlID0gZnVuY3Rpb24odmFsdWUpIHsgaXRlbS5pbm5lckhUTUwgPSB2YWx1ZSAhPSBudWxs");
    sb.append("ID8gKHZhbHVlLmFnZW50ICsgIkAiICsgdmFsdWUuYXV0aG9yaXR5KSA6ICJudWxsIjsgfTsKICAgICAg");
    sb.append("fSBlbHNlIGlmICh0eXBlLnR5cGUgPT0gImJvb2wiKSB7CiAgICAgICAgaXRlbS5zdHlsZSA9ICJjb2xv");
    sb.append("cjogI0U4M0IzQjsiOwogICAgICB9CiAgICAgIHJldHVybiB7CiAgICAgICAgZG9tOml0ZW0sCiAgICAg");
    sb.append("ICAgbmFtZTogdHlwZS50eXBlLAogICAgICAgIHVwZGF0ZTogdXBkYXRlCiAgICAgIH07CiAgICB9CiAg");
    sb.append("ICBpZiAodHlwZS5uYXR1cmUgPT0gInJlYWN0aXZlX3JlY29yZCIgfHwgdHlwZS5uYXR1cmUgPT0gIm5h");
    sb.append("dGl2ZV9tZXNzYWdlIikgewogICAgICAvLyBpdCdzIGEgc3RydWN0dXJlLCBzbyBsZXQncyBjcmVhdGUg");
    sb.append("YSByZWNvcmQgdGhhdCBjYW4gc2hvdy9oaWRlCiAgICAgIHZhciBvYmpfaG9sZGVyID0gZG9jdW1lbnQu");
    sb.append("Y3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICB2YXIgc2hvd2hpZGUgPSBkb2N1bWVudC5jcmVhdGVF");
    sb.append("bGVtZW50KCJidXR0b24iKTsKICAgICAgb2JqX2hvbGRlci5hcHBlbmQoc2hvd2hpZGUpOwogICAgICBv");
    sb.append("YmpfaG9sZGVyLnNob3dHcm91cCA9IHR5cGUubmFtZSAhPSAiUm9vdCI7CgogICAgICB2YXIgZ3JvdXAg");
    sb.append("PSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgb2JqX2hvbGRlci5hcHBlbmQoZ3Jv");
    sb.append("dXApOwogICAgICBncm91cC5hcHBlbmQoc2ltcGxlKCJkaXYiLCAieyIpKTsKICAgICAgdmFyIGNoaWxk");
    sb.append("cmVuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidWwiKTsKICAgICAgZ3JvdXAuYXBwZW5kKGNoaWxk");
    sb.append("cmVuKTsKICAgICAgZ3JvdXAuYXBwZW5kKHNpbXBsZSgiZGl2IiwgIn0iKSk7CiAgICAgIGdyb3VwLnN0");
    sb.append("eWxlID0gInBhZGRpbmctbGVmdDoxMHB4IjsKICAgICAgY2hpbGRyZW4uc3R5bGUgPSAicGFkZGluZy1s");
    sb.append("ZWZ0OjEwcHg7IjsKICAgICAgc2hvd2hpZGUub25jbGljayA9IGZ1bmN0aW9uKCkgewogICAgICAgIG9i");
    sb.append("al9ob2xkZXIuc2hvd0dyb3VwID0gISBvYmpfaG9sZGVyLnNob3dHcm91cDsKICAgICAgICBpZiAob2Jq");
    sb.append("X2hvbGRlci5zaG93R3JvdXApIHsKICAgICAgICAgIGdyb3VwLnN0eWxlLmRpc3BsYXkgPSAiIjsKICAg");
    sb.append("ICAgICAgIHNob3doaWRlLmlubmVySFRNTCA9IG1pbnVzU1ZHOwogICAgICAgIH0gZWxzZSB7CiAgICAg");
    sb.append("ICAgICBncm91cC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgc2hvd2hpZGUuaW5uZXJI");
    sb.append("VE1MID0gcGx1c1NWRzsKICAgICAgICB9CiAgICAgIH07CiAgICAgIHNob3doaWRlLm9uY2xpY2soKTsK");
    sb.append("CiAgICAgIHZhciBkZWx0YSA9IHt9OwogICAgICBmb3IgKHZhciBmaWVsZE5hbWUgaW4gdHlwZS5maWVs");
    sb.append("ZHMpIHsKICAgICAgICB2YXIgZmllbGQgPSB0eXBlLmZpZWxkc1tmaWVsZE5hbWVdOwogICAgICAgIGlm");
    sb.append("ICgicHJpdmF0ZSIgPT0gZmllbGQucHJpdmFjeSkgewogICAgICAgICAgY29udGludWU7CiAgICAgICAg");
    sb.append("fQogICAgICAgIHZhciByZXN1bHQgPSBjb252ZXJ0VHlwZVRvRG9tRGVsdGEoZmllbGQudHlwZSwgdHlw");
    sb.append("ZXMpOwogICAgICAgIHZhciBmaWVsZERvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpIik7CiAg");
    sb.append("ICAgICAgZmllbGREb20uYXBwZW5kKHNpbXBsZSgic3BhbiIsICBmaWVsZC5wcml2YWN5ICsgIiAiICsg");
    sb.append("cmVzdWx0Lm5hbWUgKyAiICIgKyBmaWVsZE5hbWUgKyAiID0gIikpOwogICAgICAgIGZpZWxkRG9tLmFw");
    sb.append("cGVuZChyZXN1bHQuZG9tKTsKICAgICAgICBjaGlsZHJlbi5hcHBlbmQoZmllbGREb20pOwogICAgICAg");
    sb.append("IGRlbHRhW2ZpZWxkTmFtZV0gPSByZXN1bHQudXBkYXRlOwogICAgICB9CiAgICAgIHJldHVybiB7CiAg");
    sb.append("ICAgICAgZG9tOiBvYmpfaG9sZGVyLAogICAgICAgIG5hbWU6IHR5cGUubmFtZSwKICAgICAgICB1cGRh");
    sb.append("dGU6ZGVsdGEKICAgICAgfTsKICAgIH0KICAgIHZhciB1bmtub3duID0gZG9jdW1lbnQuY3JlYXRlRWxl");
    sb.append("bWVudCgiZGl2Iik7CiAgICB1bmtub3duLmlubmVySFRNTCA9IEpTT04uc3RyaW5naWZ5KHR5cGUpOwog");
    sb.append("ICAgcmV0dXJuIHtkb206IHVua25vd24sIHVwZGF0ZTogZnVuY3Rpb24oKSB7fX07CiAgfTsKCiAgc2Vs");
    sb.append("Zi5mb3JtSWRHZW4gPSAwOwogIHZhciBuZXh0Rm9ybUlkID0gZnVuY3Rpb24oKSB7CiAgICBzZWxmLmZv");
    sb.append("cm1JZEdlbisrOwogICAgcmV0dXJuIHNlbGYuZm9ybUlkR2VuOwogIH07CiAgdmFyIGZpbGxPdXRGb3Jt");
    sb.append("Rm9yVHlwZSA9IGZ1bmN0aW9uKGRvbSwgbmFtZSwgdHlwZSwgdHlwZXMpIHsKICAgIGlmICh0eXBlLm5h");
    sb.append("dHVyZSA9PSAibmF0aXZlX3JlZiIpIHsKICAgICAgZmlsbE91dEZvcm1Gb3JUeXBlKGRvbSwgbmFtZSwg");
    sb.append("dHlwZXNbdHlwZS5yZWZdLCB0eXBlcyk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlmICh0eXBlLm5h");
    sb.append("dHVyZSA9PSAibmF0aXZlX21lc3NhZ2UiKSB7CiAgICAgIGZvciAodmFyIGZpZWxkIGluIHR5cGUuZmll");
    sb.append("bGRzKSB7CiAgICAgICAgdmFyIGZpZWxkVHlwZSA9IHR5cGUuZmllbGRzW2ZpZWxkXS50eXBlOwogICAg");
    sb.append("ICAgIHZhciBmaWVsZEhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAg");
    sb.append("IGZpbGxPdXRGb3JtRm9yVHlwZShmaWVsZEhvbGRlciwgbmFtZSA9PSAiIiA/IGZpZWxkIDogKG5hbWUg");
    sb.append("KyAiLiIgKyBmaWVsZCksIGZpZWxkVHlwZSwgdHlwZXMpOwogICAgICAgIGRvbS5hcHBlbmQoZmllbGRI");
    sb.append("b2xkZXIpOwogICAgICB9CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlmICh0eXBlLm5hdHVyZSA9PSAi");
    sb.append("bmF0aXZlX2FycmF5IikgewogICAgICAvLyBUT0RPCiAgICB9CiAgICBpZiAodHlwZS5uYXR1cmUgPT0g");
    sb.append("Im5hdGl2ZV9tYXliZSIpIHsKICAgICAgdmFyIG1heWJlSG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxl");
    sb.append("bWVudCgiZGl2Iik7CiAgICAgIHZhciBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxhYmVs");
    sb.append("Iik7CiAgICAgIGxhYmVsLmlubmVySFRNTCA9ICJlbmFibGUgIiArIG5hbWU7CiAgICAgIHZhciBjaGVj");
    sb.append("a2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7CiAgICAgIGNoZWNrYm94LnR5cGUg");
    sb.append("PSAiY2hlY2tib3giOwogICAgICBjaGVja2JveC5pZCA9IG5leHRGb3JtSWQoKTsKICAgICAgY2hlY2ti");
    sb.append("b3gubmFtZSA9ICIiOwogICAgICBsYWJlbC5odG1sRm9yID0gY2hlY2tib3guaWQ7CiAgICAgIHZhciBt");
    sb.append("YXliZVZhbHVlUmVmID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIHZhciBtYXli");
    sb.append("ZVZhbHVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIGZpbGxPdXRGb3JtRm9y");
    sb.append("VHlwZShtYXliZVZhbHVlLCBuYW1lLCB0eXBlLnR5cGUsIHR5cGVzKTsKICAgICAgbWF5YmVIb2xkZXIu");
    sb.append("YXBwZW5kKGxhYmVsKTsKICAgICAgbWF5YmVIb2xkZXIuYXBwZW5kKGNoZWNrYm94KTsKICAgICAgbWF5");
    sb.append("YmVIb2xkZXIuYXBwZW5kKG1heWJlVmFsdWVSZWYpOwogICAgICBkb20uYXBwZW5kKG1heWJlSG9sZGVy");
    sb.append("KTsKICAgICAgY2hlY2tib3gub25jaGFuZ2UgPSBmdW5jdGlvbigpIHsKICAgICAgICBudWtlKG1heWJl");
    sb.append("VmFsdWVSZWYpOwogICAgICAgIGlmIChjaGVja2JveC5jaGVja2VkKSB7CiAgICAgICAgICBtYXliZVZh");
    sb.append("bHVlUmVmLmFwcGVuZChtYXliZVZhbHVlKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIHJldHVybjsK");
    sb.append("ICAgIH0KICAgIGlmICh0eXBlLm5hdHVyZSA9PSAibmF0aXZlX3ZhbHVlIikgewogICAgICB2YXIgbGFi");
    sb.append("ZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsYWJlbCIpOwogICAgICB2YXIgaW5wdXQgPSBkb2N1");
    sb.append("bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwoKICAgICAgaW5wdXQuaWQgPSAiZGVidWdnZXJfZm9y");
    sb.append("bV9pZF8iICsgbmV4dEZvcm1JZCgpOwogICAgICBsYWJlbC5pbm5lckhUTUwgPSBuYW1lOwogICAgICBp");
    sb.append("bnB1dC5uYW1lID0gbmFtZTsKICAgICAgaW5wdXQuc3R5bGUgPSBpbnB1dFN0eWxlOwogICAgICBpbnB1");
    sb.append("dC50eXBlID0gInRleHQiOwogICAgICBsYWJlbC5mb3JIdG1sID0gaW5wdXQuaWQ7CiAgICAgIGRvbS5h");
    sb.append("cHBlbmQobGFiZWwpOwogICAgICBkb20uYXBwZW5kKGlucHV0KTsKICAgICAgcmV0dXJuOwogICAgfQog");
    sb.append("ICAgZG9tLmlubmVySFRNTCA9IG5hbWUgKyAiLS0+IiArIEpTT04uc3RyaW5naWZ5KHR5cGUpOwogIH07");
    sb.append("CgogIHZhciBtYWtlQ2hhbm5lbERlYnVnZ2VyID0gZnVuY3Rpb24oY2hhbm5lbHMsIHR5cGVzLCBjb25u");
    sb.append("ZWN0aW9uKSB7CiAgICB2YXIgc2VsZWN0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzZWxlY3Qi");
    sb.append("KTsKICAgIHNlbGVjdG9yLnN0eWxlID0gImJhY2tncm91bmQ6ICMzMzMiOwogICAgdmlld0NoYW5uZWxz");
    sb.append("LmFwcGVuZChzZWxlY3Rvcik7CiAgICB2YXIgZm9ybUhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1l");
    sb.append("bnQoImRpdiIpOwogICAgdmlld0NoYW5uZWxzLmFwcGVuZChmb3JtSG9sZGVyKTsKICAgIHZhciBjaG9v");
    sb.append("c2UgPSBmdW5jdGlvbihjaGFubmVsKSB7CiAgICAgIG51a2UoZm9ybUhvbGRlcik7CiAgICAgIHZhciBm");
    sb.append("b3JtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZm9ybSIpOwogICAgICBmb3JtSG9sZGVyLmFwcGVu");
    sb.append("ZChmb3JtKTsKICAgICAgdmFyIHR5cGUgPSB0eXBlc1tjaGFubmVsc1tjaGFubmVsXV07CiAgICAgIGZp");
    sb.append("bGxPdXRGb3JtRm9yVHlwZShmb3JtLCAiIiwgdHlwZSwgdHlwZXMpOwoKICAgICAgdmFyIGJ1dHRvbiA9");
    sb.append("IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImJ1dHRvbiIpOwogICAgICBidXR0b24uc3R5bGUgPSBidXR0");
    sb.append("b25TdHlsZTsKICAgICAgYnV0dG9uLm9uY2xpY2sgPSBmdW5jdGlvbihldmVudCkgewogICAgICAgIGV2");
    sb.append("ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgdmFyIG1lc3NhZ2UgPSBSeEhUTUwuQnVpbGRGb3Jt");
    sb.append("T2JqZWN0KGZvcm0pOwogICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSAiU2VuZGluZyI7CiAgICAgICAg");
    sb.append("Y29uc29sZS5sb2coY2hhbm5lbCArICI6IiArIEpTT04uc3RyaW5naWZ5KG1lc3NhZ2UpKTsKICAgICAg");
    sb.append("ICBjb25uZWN0aW9uLnNlbmQoY2hhbm5lbCwgbWVzc2FnZSwgewogICAgICAgICAgc3VjY2VzczogZnVu");
    sb.append("Y3Rpb24oKSB7CiAgICAgICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSAiU3VjY2VzcyEgU2VuZCBBbm90");
    sb.append("aGVyISI7CiAgICAgICAgICB9LAogICAgICAgICAgZmFpbHVyZTogZnVuY3Rpb24ocmVhc29uKSB7CiAg");
    sb.append("ICAgICAgICAgIGJ1dHRvbi5pbm5lckhUTUwgPSAiW0ZhaWxlZDoiICsgcmVhc29uICsgIl0sIFRyeSBB");
    sb.append("Z2FpbiI7CiAgICAgICAgICB9CiAgICAgICAgfSkKCiAgICAgIH07CiAgICAgIGJ1dHRvbi5pbm5lckhU");
    sb.append("TUwgPSAiU2VuZCI7CiAgICAgIGZvcm0uYXBwZW5kKGJ1dHRvbik7CiAgICAgIC8vIEJ1aWxkRm9ybU9i");
    sb.append("amVjdAogICAgfTsKICAgIHZhciBmaXJzdCA9IG51bGw7CiAgICB2YXIgY2hhbm5lbHNTb3J0ZWQgPSBb");
    sb.append("XTsKICAgIGZvciAodmFyIGNoIGluIGNoYW5uZWxzKSB7CiAgICAgIGNoYW5uZWxzU29ydGVkLnB1c2go");
    sb.append("Y2gpOwogICAgfQogICAgY2hhbm5lbHNTb3J0ZWQuc29ydCgpOwogICAgZm9yICh2YXIgayBpbiBjaGFu");
    sb.append("bmVsc1NvcnRlZCkgewogICAgICB2YXIgY2ggPSBjaGFubmVsc1NvcnRlZFtrXTsKICAgICAgaWYgKGZp");
    sb.append("cnN0ID09IG51bGwpIHsKICAgICAgICBmaXJzdCA9IGNoOwogICAgICB9CiAgICAgIHZhciBtc2dUeXBl");
    sb.append("ID0gY2hhbm5lbHNbY2hdOwogICAgICB2YXIgb3B0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0");
    sb.append("aW9uIik7CiAgICAgIG9wdC5pbm5lckhUTUwgPSBjaCArICIgOiAiICsgbXNnVHlwZTsKICAgICAgb3B0");
    sb.append("LmxhYmVsID0gY2ggKyAiIDogIiArIG1zZ1R5cGU7CiAgICAgIG9wdC52YWx1ZSA9IGNoOwogICAgICBz");
    sb.append("ZWxlY3Rvci5hcHBlbmQob3B0KTsKICAgICAgc2VsZWN0b3Iub25jaGFuZ2UgPSBmdW5jdGlvbigpIHsK");
    sb.append("ICAgICAgICBjaG9vc2Uoc2VsZWN0b3IudmFsdWUpOwogICAgICB9OwogICAgfQoKICAgIGlmIChmaXJz");
    sb.append("dCAhPSBudWxsKSB7CiAgICAgIGNob29zZShmaXJzdCk7CiAgICB9CiAgfTsKCiAgdmFyIHJlbmRlciA9");
    sb.append("IGZ1bmN0aW9uKG5hbWUpIHsKICAgIHZhciBjbyA9IGNvbm5lY3Rpb25zW25hbWVdOwogICAgaWYgKGNv");
    sb.append("LnJlbmRlcmVkID09IGNvLmJvdW5kKSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGNvLnJlbmRlcmVk");
    sb.append("ID0gY28uYm91bmQ7CiAgICBjby5kZWJ1Z190cmVlLm51a2UoKTsKICAgIG51a2Uodmlld0pzb24pOwog");
    sb.append("ICAgbnVrZSh2aWV3Q2hhbm5lbHMpOwoKICAgIHZhciBoYW5kbGVyID0gewogICAgICBzdWNjZXNzOiBm");
    sb.append("dW5jdGlvbiAocGF5bG9hZCkgewogICAgICAgIC8vIGhhbmRsZSB0aGUgZGF0YSBpbnNwZWN0b3IgdGFi");
    sb.append("CiAgICAgICAgdmFyIHJlZmxlY3Rpb24gPSBwYXlsb2FkLnJlZmxlY3Rpb247CiAgICAgICAgdmFyIHJl");
    sb.append("c3VsdCA9IGNvbnZlcnRUeXBlVG9Eb21EZWx0YShyZWZsZWN0aW9uLnR5cGVzWyJfX1Jvb3QiXSwgcmVm");
    sb.append("bGVjdGlvbi50eXBlcyk7CiAgICAgICAgdmlld0pzb24uYXBwZW5kKHJlc3VsdC5kb20pOwogICAgICAg");
    sb.append("IGNvLmRlYnVnX3RyZWUuc3Vic2NyaWJlKHJlc3VsdC51cGRhdGUpOwogICAgICAgIC8vIGhhbmRsZSB0");
    sb.append("aGUgY2hhbm5lbHMgdGFiCiAgICAgICAgbWFrZUNoYW5uZWxEZWJ1Z2dlcihyZWZsZWN0aW9uLmNoYW5u");
    sb.append("ZWxzLCByZWZsZWN0aW9uLnR5cGVzLCBjby5wdHIpOwogICAgICB9LAogICAgICBmYWlsdXJlOiBmdW5j");
    sb.append("dGlvbihyZWFzb24pIHsKICAgICAgICB2aWV3SnNvbi5pbm5lckhUTUwgPSAiW0ZBSUxFRCBUTyBHRVQg");
    sb.append("U0NIRU1BOiIgKyByZWFzb24gKyAiXSI7CiAgICAgICAgdmlld0NoYW5uZWxzLmlubmVySFRNTCA9ICJb");
    sb.append("RkFJTEVEIFRPIEdFVCBTQ0hFTUE6IiArIHJlYXNvbiArICJdIjsKICAgICAgfQogICAgfTsKICAgIGlm");
    sb.append("IChjby52aWFfZG9tYWluKSB7CiAgICAgIGNvLnJhdy5Eb21haW5SZWZsZWN0KGNvLmlkZW50aXR5LCBj");
    sb.append("by5kb21haW4sIGhhbmRsZXIpOwogICAgfSBlbHNlIHsKICAgICAgY28ucmF3LlNwYWNlUmVmbGVjdChj");
    sb.append("by5pZGVudGl0eSwgY28uc3BhY2UsIGNvLmtleSwgaGFuZGxlcik7CiAgICB9CiAgfTsKCiAgdmFyIGNv");
    sb.append("bm5lY3Rpb25TZWxlY3RvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNlbGVjdCIpOwogIGNvbm5l");
    sb.append("Y3Rpb25TZWxlY3Rvci5zdHlsZSA9ICJiYWNrZ3JvdW5kOiAjMzMzOyBjb2xvcjogI2ZmZiI7CiAgdmFy");
    sb.append("IHN3aXRjaF90b19jb25uZWN0aW9uID0gZnVuY3Rpb24obmFtZSkgewogICAgY3VycmVudCA9IG5hbWU7");
    sb.append("CiAgICBudWtlKHZpZXdDaGFubmVscyk7CiAgICBudWtlKHZpZXdKc29uKTsKICAgIHZhciBjbyA9IGNv");
    sb.append("bm5lY3Rpb25zW25hbWVdOwogICAgaWYgKGNvLmJvdW5kID09IGNvLmRlYnVnZ2luZyAmJiB0eXBlb2Yo");
    sb.append("Y28uYm91bmQpID09ICJzdHJpbmciKSB7CiAgICAgIHJlbmRlcihuYW1lKTsKICAgIH0KICB9OwogIGNv");
    sb.append("bm5lY3Rpb25TZWxlY3Rvci5vbmNoYW5nZSA9IGZ1bmN0aW9uKCkgewogICAgLy8gVE9ETwogIH07CiAg");
    sb.append("dmFyIHJlZnJlc2hfc2VsZWN0ID0gZnVuY3Rpb24oKSB7CiAgICBudWtlKGNvbm5lY3Rpb25TZWxlY3Rv");
    sb.append("cik7CiAgICBmb3IgKHZhciBuYW1lIGluIGNvbm5lY3Rpb25zKSB7CiAgICAgIHZhciBvcHQgPSBkb2N1");
    sb.append("bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTsKICAgICAgb3B0LnZhbHVlID0gbmFtZTsKICAgICAg");
    sb.append("b3B0LmlubmVyVGV4dCA9IG5hbWU7CiAgICAgIGNvbm5lY3Rpb25TZWxlY3Rvci5hcHBlbmRDaGlsZChv");
    sb.append("cHQpOwogICAgICBpZiAoY3VycmVudCA9PSBudWxsKSB7CiAgICAgICAgc3dpdGNoX3RvX2Nvbm5lY3Rp");
    sb.append("b24obmFtZSk7CiAgICAgICAgY29ubmVjdGlvblNlbGVjdG9yLnZhbHVlID0gbmFtZTsKICAgICAgfQog");
    sb.append("ICAgfQogIH07CgogIHNlbGYudG9nZ2xlID0gZnVuY3Rpb24oKSB7CiAgICBpZiAoc2VsZi5zaG93bikg");
    sb.append("ewogICAgICB0cnkgewogICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoc2VsZi5yb290KTsK");
    sb.append("ICAgICAgfSBjYXRjaCAobm90cHJlc2VudCkgewogICAgICAgIHNlbGYuc2hvd24gPSAhc2VsZi5zaG93");
    sb.append("bjsKICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZChzZWxmLnJvb3QpOwogICAgICB9CiAgICB9CiAg");
    sb.append("ICBlbHNlCiAgICB7CiAgICAgIHNlbGYucm9vdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIp");
    sb.append("OwogICAgICBkZWJ1Z2dlclBvc2l0aW9uID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIkFkYW1hRGVidWdn");
    sb.append("ZXJQb3NpdGlvbiIpOwogICAgICBpZiAoIWRlYnVnZ2VyUG9zaXRpb24gfHwgZGVidWdnZXJQb3NpdGlv");
    sb.append("biA9PSAiIikgewogICAgICAgIGRlYnVnZ2VyUG9zaXRpb24gPSAidG9wOjBweDsgbGVmdDowcHg7d2lk");
    sb.append("dGg6ODAwcHg7aGVpZ2h0OjYwMHB4IjsKICAgICAgfQogICAgICBzZWxmLnJvb3Quc3R5bGUgPSAicG9z");
    sb.append("aXRpb246YWJzb2x1dGU7IiArIGRlYnVnZ2VyUG9zaXRpb24gKyAiO2JhY2tncm91bmQ6ICMwMDA7Ym9y");
    sb.append("ZGVyOjFweCBzb2xpZCByZWQ7ei1pbmRleDoxMDAwOyBvdmVyZmxvdzpzY3JvbGwiOwogICAgICB2YXIg");
    sb.append("dGl0bGVCYXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgdGl0bGVCYXIuaW5u");
    sb.append("ZXJIVE1MID0gIkFkYW1hIERlYnVnZ2VyIjsKICAgICAgdGl0bGVCYXIuc3R5bGUgPSAiYmFja2dyb3Vu");
    sb.append("ZDogIzIyMjsgY29sb3I6ICMwZjA7IGN1cnNvcjptb3ZlOyB3aWR0aDoxMDAlOyBmb250LXZhcmlhbnQ6");
    sb.append("IHNtYWxsLWNhcHM7IHBhZGRpbmc6MnB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IjsKICAgICAgdGl0bGVC");
    sb.append("YXIub25tb3VzZWRvd24gPSBmdW5jdGlvbihldikgewogICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7");
    sb.append("CiAgICAgICAgdmFyIHJlY3QgPSBzZWxmLnJvb3QuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAg");
    sb.append("ICAgdmFyIHN0YXJ0ID0ge3g6IGV2LmNsaWVudFgsIHk6IGV2LmNsaWVudFl9OwogICAgICAgIHZhciB1");
    sb.append("cGRhdGUgPSBmdW5jdGlvbihueCkgewogICAgICAgICAgc2VsZi5yb290LnN0eWxlLmxlZnQgPSAocmVj");
    sb.append("dC5sZWZ0ICsgbnguY2xpZW50WCAtIHN0YXJ0LngpICsgInB4IjsKICAgICAgICAgIHNlbGYucm9vdC5z");
    sb.append("dHlsZS50b3AgPSAocmVjdC50b3AgKyBueC5jbGllbnRZIC0gc3RhcnQueSkgKyAicHgiOwogICAgICAg");
    sb.append("IH07CiAgICAgICAgd2luZG93Lm9ubW91c2Vtb3ZlID0gZnVuY3Rpb24obngpIHsKICAgICAgICAgIHVw");
    sb.append("ZGF0ZShueCk7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiQWRhbWFEZWJ1Z2dlclBvc2l0");
    sb.append("aW9uIiwgInRvcDoiK3NlbGYucm9vdC5zdHlsZS50b3ArIjsgbGVmdDoiK3NlbGYucm9vdC5zdHlsZS5s");
    sb.append("ZWZ0KyI7d2lkdGg6ODAwcHg7aGVpZ2h0OjYwMHB4Iik7CiAgICAgICAgfTsKICAgICAgICB3aW5kb3cu");
    sb.append("b25tb3VzZXVwID0gZnVuY3Rpb24obngpIHsKICAgICAgICAgIHVwZGF0ZShueCk7CiAgICAgICAgICBs");
    sb.append("b2NhbFN0b3JhZ2Uuc2V0SXRlbSgiQWRhbWFEZWJ1Z2dlclBvc2l0aW9uIiwgInRvcDoiK3NlbGYucm9v");
    sb.append("dC5zdHlsZS50b3ArIjsgbGVmdDoiK3NlbGYucm9vdC5zdHlsZS5sZWZ0KyI7d2lkdGg6ODAwcHg7aGVp");
    sb.append("Z2h0OjYwMHB4Iik7CiAgICAgICAgICB3aW5kb3cub25tb3VzZW1vdmUgPSBmdW5jdGlvbigpIHt9Owog");
    sb.append("ICAgICAgICAgd2luZG93Lm9ubW91c2V1cCA9IGZ1bmN0aW9uKCkge307CiAgICAgICAgfTsKICAgICAg");
    sb.append("ICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgICAgc2VsZi5yb290LmFwcGVuZENoaWxkKHRpdGxlQmFy");
    sb.append("KTsKICAgICAgc2VsZi5yb290LmFwcGVuZENoaWxkKGNvbm5lY3Rpb25TZWxlY3Rvcik7CiAgICAgIHNl");
    sb.append("bGYucm9vdC5hcHBlbmRDaGlsZCh2aWV3SnNvbik7CiAgICAgIHNlbGYucm9vdC5hcHBlbmRDaGlsZCh2");
    sb.append("aWV3Q2hhbm5lbHMpOwogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNlbGYucm9vdCk7CiAg");
    sb.append("ICB9CiAgICBzZWxmLnNob3duID0gIXNlbGYuc2hvd247CiAgfTsKCiAgc2VsZi5yZWdpc3RlciA9IGZ1");
    sb.append("bmN0aW9uKGNvbm5lY3Rpb24pIHsKICAgIGNvbm5lY3Rpb25zW2Nvbm5lY3Rpb24ubmFtZV0gPSBjb25u");
    sb.append("ZWN0aW9uOwogICAgY29ubmVjdGlvbi5kZWJ1Z190cmVlID0gbmV3IEFkYW1hVHJlZSgpOwogICAgY29u");
    sb.append("bmVjdGlvbi5kZWJ1Z2dpbmcgPSAiPyI7CiAgICByZWZyZXNoX3NlbGVjdCgpOwogICAgcmV0dXJuIGZ1");
    sb.append("bmN0aW9uKHBheWxvYWQpIHsKICAgICAgaWYgKGNvbm5lY3Rpb24uYm91bmQgIT0gY29ubmVjdGlvbi5k");
    sb.append("ZWJ1Z2dpbmcgJiYgY3VycmVudCA9PSBjb25uZWN0aW9uLm5hbWUpIHsKICAgICAgICByZW5kZXIoY29u");
    sb.append("bmVjdGlvbi5uYW1lKTsKICAgICAgfQogICAgICBpZiAoImRhdGEiIGluIHBheWxvYWQuZGVsdGEpIHsK");
    sb.append("ICAgICAgICBjb25uZWN0aW9uLmRlYnVnX3RyZWUudXBkYXRlKHBheWxvYWQuZGVsdGEuZGF0YSk7CiAg");
    sb.append("ICAgIH0KICAgICAgLyoKICAgICAgaWYgKCJvdXRzdGFuZGluZyIgaW4gcGF5bG9hZC5kZWx0YSkgewov");
    sb.append("LyAgICAgICAgY28ub25kZWNpZGUocGF5bG9hZC5kZWx0YS5vdXRzdGFuZGluZyk7CiAgICAgIH0KICAg");
    sb.append("ICAgaWYgKCd2aWV3c3RhdGUnIGluIHBheWxvYWQuZGVsdGEpIHsKLy8gICAgICAgIHN0YXRlLnZpZXcu");
    sb.append("dHJlZS51cGRhdGUocGF5bG9hZC5kZWx0YS52aWV3c3RhdGUpOwogICAgICB9CiAgICAgIGlmICgnZ290");
    sb.append("bycgaW4gcGF5bG9hZC5kZWx0YSkgewovLyAgICAgICAgc2VsZi5nb3RvKHBheWxvYWQuZGVsdGEuZ290");
    sb.append("byk7CiAgICAgIH0KICAgICAgKi8KICAgIH0KICB9OwogIHJldHVybiBzZWxmOwp9KSgpOw==");
    return sb.toString();
  }
  public static final String RXHTML = new String(Base64.getDecoder().decode(make_rxhtml()), StandardCharsets.UTF_8);
  private static String make_rxhtml() {
    StringBuilder sb = new StringBuilder();
    sb.append("dmFyIFJ4SFRNTCA9IChmdW5jdGlvbiAoKSB7CiAgdmFyIHNlbGYgPSB7fTsKCiAgdmFyIHRlbXBsYXRl");
    sb.append("cyA9IHt9OwogIHZhciByb3V0ZXIgPSB7fTsKICAvLyBUaGlzIHN0cmFuZ2UgZXNjYXBpbmcgaXMgZm9y");
    sb.append("IGRldmVsb3BlciBtb2RlIHRvIHByb3h5IHRvIGxvY2FsaG9zdC4KICB2YXIgY29ubmVjdGlvbiA9IG5l");
    sb.append("dyBBZGFtYS5Db25uZWN0aW9uKC8qRU5EUE9JTlQ9WyovQWRhbWEuUHJvZHVjdGlvbi8qXSovKTsKICB2");
    sb.append("YXIgY29ubmVjdGlvbnMgPSB7fTsKCiAgdmFyIGNvbm5lY3Rpb25Nb25pdG9yRG9tID0gZG9jdW1lbnQu");
    sb.append("Y3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgY29ubmVjdGlvbi5vbnN0YXR1c2NoYW5nZSA9IGZ1bmN0aW9u");
    sb.append("IChzdGF0dXMpIHsKICAgIHZhciBpY29uID0gZnVuY3Rpb24gKGNvbG9yKSB7IHJldHVybiAiPHN2ZyB4");
    sb.append("bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwi");
    sb.append("MCAwIDI0IDI0XCIgc3Ryb2tlLXdpZHRoPVwiMS41XCIgc3Ryb2tlPVwiIiArIGNvbG9yICsgIlwiIGNs");
    sb.append("YXNzPVwidy02IGgtNlwiPjxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpv");
    sb.append("aW49XCJyb3VuZFwiIGQ9XCJNOC4yODggMTUuMDM4YTUuMjUgNS4yNSAwIDAxNy40MjQgME01LjEwNiAx");
    sb.append("MS44NTZjMy44MDctMy44MDggOS45OC0zLjgwOCAxMy43ODggME0xLjkyNCA4LjY3NGM1LjU2NS01LjU2");
    sb.append("NSAxNC41ODctNS41NjUgMjAuMTUyIDBNMTIuNTMgMTguMjJsLS41My41My0uNTMtLjUzYS43NS43NSAw");
    sb.append("IDAxMS4wNiAwelwiIC8+PC9zdmc+XG4iOyB9OwogICAgaWYgKCFzdGF0dXMpIHsKICAgICAgY29ubmVj");
    sb.append("dGlvbk1vbml0b3JEb20udGl0bGUgPSAiZGlzY29ubmVjdGVkIjsKICAgICAgY29ubmVjdGlvbk1vbml0");
    sb.append("b3JEb20uaW5uZXJIVE1MID0gaWNvbigicmVkIik7CiAgICAgIGNvbm5lY3Rpb24ub25waW5nID0gZnVu");
    sb.append("Y3Rpb24gKF8xLCBfMikgeyB9OwogICAgfSBlbHNlIHsKICAgICAgY29ubmVjdGlvbi5vbnBpbmcgPSBm");
    sb.append("dW5jdGlvbiAoXywgbGF0ZW5jeSkgewogICAgICAgIGNvbm5lY3Rpb25Nb25pdG9yRG9tLnRpdGxlID0g");
    sb.append("ImNvbm5lY3RlZDsgbGF0ZW5jeT0iICsgbGF0ZW5jeSArICJtcyI7CiAgICAgICAgaWYgKGxhdGVuY3kg");
    sb.append("Pj0gMTAwKSB7CiAgICAgICAgICBjb25uZWN0aW9uTW9uaXRvckRvbS5pbm5lckhUTUwgPSBpY29uKCJv");
    sb.append("cmFuZ2UiKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29ubmVjdGlvbk1vbml0b3JEb20uaW5u");
    sb.append("ZXJIVE1MID0gaWNvbigiZ3JlZW4iKTsKICAgICAgICB9CiAgICAgIH07CiAgICB9CiAgfTsKICBjb25u");
    sb.append("ZWN0aW9uTW9uaXRvckRvbS5zdHlsZSA9ICJwb3NpdGlvbjpmaXhlZDsgYm90dG9tOjBweDsgcmlnaHQ6");
    sb.append("MHB4IjsKICBpZiAoQWRhbWEuRGVidWdnZXIpIHsKICAgIGNvbm5lY3Rpb25Nb25pdG9yRG9tLm9uY2xp");
    sb.append("Y2sgPSBBZGFtYS5EZWJ1Z2dlci50b2dnbGU7CiAgfQogIGNvbm5lY3Rpb24uc3RhcnQoKTsKCiAgdmFy");
    sb.append("IHJvb3RSZXBsYWNlID0gIi8iOwogIHZhciBmaXhQYXRoID0gZnVuY3Rpb24gKHBhdGgpIHsKICAgIHJl");
    sb.append("dHVybiBwYXRoOwogIH07CiAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZS5lbmRzV2l0aCgiLmFk");
    sb.append("YW1hLXBsYXRmb3JtLmNvbSIpICYmICF3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUuZW5kc1dpdGgoImlk");
    sb.append("ZS5hZGFtYS1wbGF0Zm9ybS5jb20iKSkgewogICAgdmFyIHBhcnRzID0gd2luZG93LmxvY2F0aW9uLnBh");
    sb.append("dGhuYW1lLnNwbGl0KCIvIik7CiAgICByb290UmVwbGFjZSA9IFtwYXJ0c1swXSwgcGFydHNbMV0sIHBh");
    sb.append("cnRzWzJdLCAiIl0uam9pbigiLyIpOwogICAgdmFyIG9mZnNldCA9IHBhcnRzWzBdLmxlbmd0aCArIHBh");
    sb.append("cnRzWzFdLmxlbmd0aCArIHBhcnRzWzJdLmxlbmd0aCArIDI7CiAgICBmaXhQYXRoID0gZnVuY3Rpb24g");
    sb.append("KHBhdGgpIHsKICAgICAgcmV0dXJuIHBhdGguc3Vic3RyaW5nKG9mZnNldCk7CiAgICB9OwogIH0KCiAg");
    sb.append("dmFyIGZpeEhyZWYgPSBmdW5jdGlvbiAoaHJlZikgewogICAgaWYgKGhyZWYuc3RhcnRzV2l0aCgiLyIp");
    sb.append("KSB7CiAgICAgIHJldHVybiByb290UmVwbGFjZSArIGhyZWYuc3Vic3RyaW5nKDEpOwogICAgfQogICAg");
    sb.append("cmV0dXJuIGhyZWY7CiAgfTsKCiAgdmFyIGdldF9jb25uZWN0aW9uX29iaiA9IGZ1bmN0aW9uIChuYW1l");
    sb.append("KSB7CiAgICBpZiAobmFtZSBpbiBjb25uZWN0aW9ucykgewogICAgICByZXR1cm4gY29ubmVjdGlvbnNb");
    sb.append("bmFtZV07CiAgICB9IGVsc2UgewogICAgICB2YXIgb2JqID0gewogICAgICAgIG5hbWU6IG5hbWUsCiAg");
    sb.append("ICAgICAgcHRyOiBudWxsLAogICAgICAgIHRyZWU6IG5ldyBBZGFtYVRyZWUoKSwKICAgICAgICBvdXRz");
    sb.append("dGFuZGluZzoge30sCiAgICAgICAgZGVjaXNpb25zOiB7fSwKICAgICAgICBjaG9pY2Vfc3Viczoge30s");
    sb.append("CiAgICAgICAgcmVzZXRzOiB7fSwKICAgICAgICBjb25uZWN0aW9uX2V2ZW50czoge30sCiAgICAgICAg");
    sb.append("c3luY19ldmVudHM6IHt9LAogICAgICAgIGlkOiAwLAogICAgICAgIGNvbm5lY3Rpb25fc3RhdGU6IGZh");
    sb.append("bHNlLAogICAgICAgIGNob2ljZXM6IHt9LAogICAgICAgIGJvdW5kOiAiIiwKICAgICAgICB2aWV3c3Rh");
    sb.append("dGVfc2VudDogdHJ1ZSwKICAgICAgICB2aWV3c3RhdGVfY2xvbmU6ICIiLAogICAgICAgIGhhc19maWx0");
    sb.append("ZXI6IGZhbHNlLAogICAgICAgIHN5bmNlZDogZmFsc2UsCiAgICAgICAgZmlsdGVyOiB7fSwKICAgICAg");
    sb.append("ICB2c3NlcTogMCwKICAgICAgICBkZWJ1Z2dlcjogZnVuY3Rpb24gKGRlbHRhKSB7IH0sCiAgICAgICAg");
    sb.append("cmF3OiBjb25uZWN0aW9uCiAgICAgIH07CiAgICAgIG9iai5udWtlID0gZnVuY3Rpb24gKCkgewogICAg");
    sb.append("ICAgIHRoaXMuY29ubmVjdGlvbl9ldmVudHMgPSB7fTsKICAgICAgICB0aGlzLnN5bmNfZXZlbnRzID0g");
    sb.append("e307CiAgICAgICAgdGhpcy5jaG9pY2Vfc3VicyA9IHt9OwogICAgICB9LmJpbmQob2JqKTsKICAgICAg");
    sb.append("aWYgKEFkYW1hLkRlYnVnZ2VyKSB7CiAgICAgICAgb2JqLmRlYnVnZ2VyID0gQWRhbWEuRGVidWdnZXIu");
    sb.append("cmVnaXN0ZXIob2JqKTsKICAgICAgfQogICAgICBvYmouc3luYyA9IGZ1bmN0aW9uICgpIHsKICAgICAg");
    sb.append("ICB2YXIgc3luY2VkID0gdGhpcy5jb25uZWN0aW9uX3N0YXRlICYmIHRoaXMudmlld3N0YXRlX3NlbnQ7");
    sb.append("CiAgICAgICAgaWYgKHRoaXMuc3luY2VkID09IHN5bmNlZCkgewogICAgICAgICAgcmV0dXJuOwogICAg");
    sb.append("ICAgIH0KICAgICAgICB0aGlzLnN5bmNlZCA9IHN5bmNlZDsKICAgICAgICB2YXIgYXhlID0gW107CiAg");
    sb.append("ICAgICAgZm9yICh2YXIgc3ViIGluIG9iai5zeW5jX2V2ZW50cykgewogICAgICAgICAgaWYgKCEob2Jq");
    sb.append("LnN5bmNfZXZlbnRzW3N1Yl0oc3luY2VkKSkpIHsKICAgICAgICAgICAgYXhlLnB1c2goc3ViKTsKICAg");
    sb.append("ICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBheGUubGVuZ3RoOyBr");
    sb.append("KyspIHsKICAgICAgICAgIGRlbGV0ZSBvYmouc3luY19ldmVudHNbYXhlW2tdXTsKICAgICAgICB9CiAg");
    sb.append("ICAgIH0uYmluZChvYmopOwogICAgICBvYmouc3Vic2NyaWJlX3N5bmMgPSBmdW5jdGlvbiAoY2FsbGJh");
    sb.append("Y2spIHsKICAgICAgICB2YXIgcyA9ICItfCIgKyB0aGlzLmlkKys7CiAgICAgICAgdGhpcy5zeW5jX2V2");
    sb.append("ZW50c1tzXSA9IGNhbGxiYWNrOwogICAgICAgIGNhbGxiYWNrKHRoaXMuc3luY2VkKTsKICAgICAgICBy");
    sb.append("ZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgICAgZGVsZXRlIHRoaXMuc3luY19ldmVudHNbc107CiAg");
    sb.append("ICAgICAgfS5iaW5kKHRoaXMpOwogICAgICB9OwogICAgICBvYmouc2V0X2Nvbm5lY3RlZCA9IGZ1bmN0");
    sb.append("aW9uIChjcykgewogICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25fc3RhdGUgPT0gY3MpIHsKICAgICAg");
    sb.append("ICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdGhpcy5jb25uZWN0aW9uX3N0YXRlID0gY3M7CiAg");
    sb.append("ICAgICAgdmFyIGF4ZSA9IFtdOwogICAgICAgIGZvciAodmFyIHN1YiBpbiBvYmouY29ubmVjdGlvbl9l");
    sb.append("dmVudHMpIHsKICAgICAgICAgIGlmICghKG9iai5jb25uZWN0aW9uX2V2ZW50c1tzdWJdKGNzKSkpIHsK");
    sb.append("ICAgICAgICAgICAgYXhlLnB1c2goc3ViKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZm9y");
    sb.append("ICh2YXIgayA9IDA7IGsgPCBheGUubGVuZ3RoOyBrKyspIHsKICAgICAgICAgIGRlbGV0ZSBvYmouY29u");
    sb.append("bmVjdGlvbl9ldmVudHNbYXhlW2tdXTsKICAgICAgICB9CiAgICAgICAgdGhpcy5zeW5jKCk7CiAgICAg");
    sb.append("IH0uYmluZChvYmopOwogICAgICBvYmouY29ubmVjdGVkID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAg");
    sb.append("ICAgICAgdmFyIHMgPSAiLXwiICsgdGhpcy5pZCsrOwogICAgICAgIHRoaXMuY29ubmVjdGlvbl9ldmVu");
    sb.append("dHNbc10gPSBjYWxsYmFjazsKICAgICAgICBjYWxsYmFjayh0aGlzLmNvbm5lY3Rpb25fc3RhdGUpOwog");
    sb.append("ICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBkZWxldGUgdGhpcy5jb25uZWN0aW9u");
    sb.append("X2V2ZW50c1tzXTsKICAgICAgICB9LmJpbmQodGhpcyk7CiAgICAgIH0uYmluZChvYmopOwogICAgICBv");
    sb.append("Ymouc3Vic2NyaWJlX2FueSA9IGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICAgIHZhciBzID0gIi18");
    sb.append("IiArIHRoaXMuaWQrKzsKICAgICAgICB0aGlzLmRlY2lzaW9uc1tzXSA9IGNhbGxiYWNrOwogICAgICAg");
    sb.append("IHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBkZWxldGUgdGhpcy5kZWNpc2lvbnNbc107CiAg");
    sb.append("ICAgICAgfS5iaW5kKHRoaXMpOwogICAgICB9LmJpbmQob2JqKTsKICAgICAgb2JqLnN1YnNjcmliZSA9");
    sb.append("IGZ1bmN0aW9uIChjaGFubmVsLCBjYWxsYmFjaykgewogICAgICAgIHZhciBzID0gY2hhbm5lbCArICJ8");
    sb.append("IiArIHRoaXMuaWQrKzsKICAgICAgICB0aGlzLmRlY2lzaW9uc1tzXSA9IGNhbGxiYWNrOwogICAgICAg");
    sb.append("IHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBkZWxldGUgdGhpcy5kZWNpc2lvbnNbc107CiAg");
    sb.append("ICAgICAgfS5iaW5kKHRoaXMpOwogICAgICB9LmJpbmQob2JqKTsKICAgICAgb2JqLnN1YnNjcmliZV9y");
    sb.append("ZXNldCA9IGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICAgIHZhciBkciA9ICJyZXNldHwiICsgdGhp");
    sb.append("cy5pZCsrOwogICAgICAgIHRoaXMucmVzZXRzW2RyXSA9IGNhbGxiYWNrOwogICAgICAgIHJldHVybiBm");
    sb.append("dW5jdGlvbiAoKSB7CiAgICAgICAgICBkZWxldGUgdGhpcy5yZXNldHNbZHJdOwogICAgICAgIH0uYmlu");
    sb.append("ZCh0aGlzKTsKICAgICAgfS5iaW5kKG9iaik7CiAgICAgIG9iai5zdWJzY3JpYmVfY2hvaWNlID0gZnVu");
    sb.append("Y3Rpb24gKGNoYW5uZWwsIGNhbGxiYWNrKSB7CiAgICAgICAgdmFyIHMgPSBjaGFubmVsICsgInwiICsg");
    sb.append("dGhpcy5pZCsrOwogICAgICAgIHRoaXMuY2hvaWNlX3N1YnNbc10gPSBjYWxsYmFjazsKICAgICAgICBy");
    sb.append("ZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgICAgZGVsZXRlIHRoaXMuY2hvaWNlX3N1YnNbc107CiAg");
    sb.append("ICAgICAgfS5iaW5kKHRoaXMpOwogICAgICB9LmJpbmQob2JqKTsKICAgICAgb2JqLm9uY2hvaWNlcyA9");
    sb.append("IGZ1bmN0aW9uIChjaGFubmVsLCBjaG9pY2UpIHsKICAgICAgICB2YXIgYXhlID0gW107CiAgICAgICAg");
    sb.append("Zm9yICh2YXIgc3ViIGluIG9iai5jaG9pY2Vfc3VicykgewogICAgICAgICAgaWYgKHN1Yi5zdGFydHNX");
    sb.append("aXRoKGNoYW5uZWwgKyAifCIpKSB7CiAgICAgICAgICAgIGlmICghb2JqLmNob2ljZV9zdWJzW3N1Yl0o");
    sb.append("Y2hvaWNlKSkgewogICAgICAgICAgICAgIGF4ZS5wdXNoKHN1Yik7CiAgICAgICAgICAgIH0KICAgICAg");
    sb.append("ICAgIH0KICAgICAgICB9CiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBheGUubGVuZ3RoOyBrKysp");
    sb.append("IHsKICAgICAgICAgIGRlbGV0ZSBvYmouY2hvaWNlX3N1YnNbYXhlW2tdXTsKICAgICAgICB9CiAgICAg");
    sb.append("IH07CiAgICAgIG9iai5vbmRlY2lkZSA9IGZ1bmN0aW9uIChvdXRzdGFuZGluZykgewogICAgICAgIHZh");
    sb.append("ciBheGVSZXNldCA9IFtdOwogICAgICAgIGZvciAodmFyIGRyIGluIG9iai5yZXNldHMpIHsKICAgICAg");
    sb.append("ICAgIHZhciByID0gb2JqLnJlc2V0c1tkcl07CiAgICAgICAgICBpZiAoIShyKCkpKSB7CiAgICAgICAg");
    sb.append("ICAgIGF4ZVJlc2V0LnB1c2goZHIpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmb3IgKHZh");
    sb.append("ciBrID0gMDsgayA8IGF4ZVJlc2V0Lmxlbmd0aDsgaysrKSB7CiAgICAgICAgICBkZWxldGUgb2JqLnJl");
    sb.append("c2V0c1theGVSZXNldFtrXV07CiAgICAgICAgfQogICAgICAgIGZvciAodmFyIGNoIGluIG9iai5vdXRz");
    sb.append("dGFuZGluZykgewogICAgICAgICAgb2JqLm91dHN0YW5kaW5nW2NoXSA9IHsgb3B0aW9uczogW10gfTsK");
    sb.append("ICAgICAgICB9CiAgICAgICAgdmFyIG4gPSBvdXRzdGFuZGluZy5sZW5ndGg7CiAgICAgICAgZm9yICh2");
    sb.append("YXIgayA9IDA7IGsgPCBuOyBrKyspIHsKICAgICAgICAgIHZhciBvID0gb3V0c3RhbmRpbmdba107CiAg");
    sb.append("ICAgICAgICBvYmoub3V0c3RhbmRpbmdbby5jaGFubmVsXSA9IG87CiAgICAgICAgfQogICAgICAgIGZv");
    sb.append("ciAodmFyIGNoIGluIG9iai5vdXRzdGFuZGluZykgewogICAgICAgICAgdmFyIG91dCA9IG9iai5vdXRz");
    sb.append("dGFuZGluZ1tjaF07CiAgICAgICAgICB2YXIgYXhlID0gW107CiAgICAgICAgICBmb3IgKHZhciBzdWIg");
    sb.append("aW4gb2JqLmRlY2lzaW9ucykgewogICAgICAgICAgICBpZiAoc3ViLnN0YXJ0c1dpdGgoY2ggKyAifCIp");
    sb.append("IHx8IHN1Yi5zdGFydHNXaXRoKCItfCIpKSB7CiAgICAgICAgICAgICAgaWYgKCFvYmouZGVjaXNpb25z");
    sb.append("W3N1Yl0ob3V0LCBjaCkpIHsKICAgICAgICAgICAgICAgIGF4ZS5wdXNoKHN1Yik7CiAgICAgICAgICAg");
    sb.append("ICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8");
    sb.append("IGF4ZS5sZW5ndGg7IGsrKykgewogICAgICAgICAgICBkZWxldGUgb2JqLmRlY2lzaW9uc1theGVba11d");
    sb.append("OwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfTsKICAgICAgY29ubmVjdGlvbnNbbmFtZV0gPSBv");
    sb.append("Ymo7CiAgICAgIHJldHVybiBvYmo7CiAgICB9CiAgfTsKICBzZWxmLmdldENvbm5lY3Rpb25CeU5hbWUg");
    sb.append("PSBnZXRfY29ubmVjdGlvbl9vYmo7CgogIHNlbGYubWFrZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVy");
    sb.append("biBuZXcgQWRhbWFUcmVlKCk7CiAgfTsKCiAgLy8gSEVMUEVSIHwgc3Vic2NyaWJlIHRoZSBnaXZlbiAn");
    sb.append("c3ViJyB0byBjaGFuZ2VzIHdpdGhpbiBzdGF0ZSBmb3IgdGhlIGdpdmVuIGZpZWxkIG5hbWVkIG5hbWUK");
    sb.append("ICB2YXIgc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN0YXRlLCBuYW1lLCBzdWIpIHsKICAgIHZhciBzcyA9");
    sb.append("IHNlbGYucEkoc3RhdGUsIG5hbWUpOwogICAgdmFyIHMgPSBzc1tzcy5jdXJyZW50XTsKICAgIGlmICgi");
    sb.append("QGUiIGluIHMuZGVsdGEpIHsKICAgICAgcy5kZWx0YVsiQGUiXS5wdXNoKHN1Yik7CiAgICB9IGVsc2Ug");
    sb.append("ewogICAgICBzLmRlbHRhWyJAZSJdID0gW3N1Yl07CiAgICB9CiAgfTsKICBzZWxmLnN1YnNjcmliZSA9");
    sb.append("IHN1YnNjcmliZTsKCiAgLy8gSEVMUEVSIHwgY3JlYXRlIGZyZXNoIHN0YXRlCiAgdmFyIGZyZXNoID0g");
    sb.append("ZnVuY3Rpb24gKHdoZXJlKSB7CiAgICByZXR1cm4gewogICAgICB0cmVlOiBuZXcgQWRhbWFUcmVlKCks");
    sb.append("CiAgICAgIGRlbHRhOiB7fSwKICAgICAgcGFyZW50OiBudWxsLAogICAgICBwYXRoOiBudWxsLAogICAg");
    sb.append("ICB3aGVyZTogd2hlcmUKICAgIH07CiAgfTsKICBzZWxmLmZyZXNoID0gZnJlc2g7CgogIC8vIEhFTFBF");
    sb.append("UiB8IGNyZWF0ZSBhIG5ldyBkZWx0YSBjb3B5IGZyb20gdGhlIGdpdmVuIHNwZWNpZmljIHN0YXRlIChp");
    sb.append("LmUuIGVpdGhlciBkYXRhIG9yIHZpZXcpCiAgdmFyIG5ld19kZWx0YV9jb3B5ID0gZnVuY3Rpb24gKHNz");
    sb.append("KSB7CiAgICBpZiAoc3MgPT0gbnVsbCkgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICAgIHZhciBw");
    sb.append("YXJlbnQgPSBudWxsOwogICAgaWYgKHNzLnBhcmVudCAhPSBudWxsKSB7CiAgICAgIHBhcmVudCA9IG5l");
    sb.append("d19kZWx0YV9jb3B5KHNzLnBhcmVudCk7CiAgICB9CiAgICB2YXIgbmV3X2RlbHRhID0ge307CiAgICBp");
    sb.append("ZiAocGFyZW50ICE9IG51bGwpIHsKICAgICAgcGFyZW50LmRlbHRhW3NzLnBhdGhdID0gbmV3X2RlbHRh");
    sb.append("OwogICAgfQogICAgcmV0dXJuIHsgdHJlZTogc3MudHJlZSwgcGFyZW50OiBwYXJlbnQsIGRlbHRhOiBu");
    sb.append("ZXdfZGVsdGEsIHBhdGg6IHNzLnBhdGggfTsKICB9OwogIHNlbGYubWFrZURlbHRhQ29weSA9IG5ld19k");
    sb.append("ZWx0YV9jb3B5OwoKICAvLyBIRUxQRVIgfCBjb25zdHJ1Y3QgYSBwYXRoIHRvCiAgdmFyIHBhdGhfdG8g");
    sb.append("PSBmdW5jdGlvbiAoc3MsIG9iaikgewogICAgaWYgKHNzLnBhcmVudCAhPSBudWxsKSB7CiAgICAgIHZh");
    sb.append("ciBwZWVsID0ge307CiAgICAgIHBlZWxbc3MucGF0aF0gPSBvYmo7CiAgICAgIHJldHVybiBwYXRoX3Rv");
    sb.append("KHNzLnBhcmVudCwgcGVlbCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gb2JqOwogICAgfQogIH07");
    sb.append("CiAgc2VsZi5wYXRoVG8gPSBwYXRoX3RvOwoKICAvLyBIRUxQRVIgfCBnZXQgdGhlIHJvb3Qgb2YgdGhl");
    sb.append("IHNwZWNpZmljIHN0YXRlIChpLmUuIGVpdGhlciB0aGUgZGF0YSdzIHJvb3Qgb3IgdGhlIHZpZXcncyBy");
    sb.append("b290KQogIHZhciByb290X29mID0gZnVuY3Rpb24gKHNzKSB7CiAgICB2YXIgeCA9IHNzOwogICAgd2hp");
    sb.append("bGUgKHgucGFyZW50ICE9IG51bGwpIHsKICAgICAgeCA9IHgucGFyZW50OwogICAgfQogICAgcmV0dXJu");
    sb.append("IHg7CiAgfTsKICBzZWxmLnJvb3RPZiA9IHJvb3Rfb2Y7CgogIC8vIEhFTFBFUiB8IHJlbW92ZSBhbGwg");
    sb.append("dGhlIGNoaWxkcmVuIGZyb20gdGhlIGdpdmVuIERPTSBub2RlCiAgdmFyIG51a2UgPSBmdW5jdGlvbiAo");
    sb.append("cGFyZW50KSB7CiAgICB2YXIgbGFzdCA9IHBhcmVudC5sYXN0Q2hpbGQ7CiAgICB3aGlsZSAobGFzdCkg");
    sb.append("ewogICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQobGFzdCk7CiAgICAgIGxhc3QgPSBwYXJlbnQubGFzdENo");
    sb.append("aWxkOwogICAgfQogIH07CiAgc2VsZi5udWtlID0gbnVrZTsKCiAgLy8gSEVMUEVSOiBkZWJvdW5jZSB0");
    sb.append("aGUgZ2l2ZW4gZnVuY3Rpb25hbCB3aGVuIHJhcGlkIGZ1bmN0aW9uIHNwcmVhZCBpcyBleHBlY3RlZAog");
    sb.append("IHZhciBkZWJvdW5jZSA9IGZ1bmN0aW9uIChtcywgZm9vKSB7CiAgICB2YXIgc3RhdHVzID0geyBpbmZs");
    sb.append("aWdodDogZmFsc2UsIHRpbWVvdXQ6IG51bGwgfTsKICAgIHN0YXR1cy5pbmZsaWdodCA9IGZhbHNlOwog");
    sb.append("ICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCFzdGF0dXMuaW5mbGlnaHQpIHsKICAgICAg");
    sb.append("ICBzdGF0dXMuaW5mbGlnaHQgPSB0cnVlOwogICAgICAgIHN0YXR1cy50aW1lb3V0ID0gd2luZG93LnNl");
    sb.append("dFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgc3RhdHVzLmluZmxpZ2h0ID0gZmFsc2U7CiAg");
    sb.append("ICAgICAgICBzdGF0dXMudGltZW91dCA9IG51bGw7CiAgICAgICAgICBmb28oKTsKICAgICAgICB9LCBt");
    sb.append("cyAvKiBtcyAqLyk7IC8vIGRlYm91bmNlIHRoZSBwYXJhbWV0ZXJzCiAgICAgIH0KICAgIH07CiAgfTsK");
    sb.append("ICBzZWxmLmRlYm91bmNlID0gZGVib3VuY2U7CgogIC8vIEhFTFBFUiB8IHByZXBhcmUgYSBmcmVlIHVu");
    sb.append("c3Vic2NyaWJlIG9iamVjdAogIHZhciBtYWtlX3Vuc3ViID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJu");
    sb.append("IHsKICAgICAgX19kYXRhOiBmdW5jdGlvbiAoKSB7CiAgICAgIH0sIF9fdmlldzogZnVuY3Rpb24gKCkg");
    sb.append("ewogICAgICB9CiAgICB9OwogIH07CgogIC8vIEhFTFBFUiB8IGF1Z21lbnQgYW4gZXhpc3Rpbmcgb2Jq");
    sb.append("ZWN0IHdpdGggdW5zdWJzY3JpYmUgZGF0YQogIHZhciBhZGRfdW5zdWIgPSBmdW5jdGlvbiAob2JqKSB7");
    sb.append("CiAgICBvYmouX19kYXRhID0gZnVuY3Rpb24gKCkgewogICAgfTsKICAgIG9iai5fX3ZpZXcgPSBmdW5j");
    sb.append("dGlvbiAoKSB7CiAgICB9OwogIH07CgogIC8vIEhFTFBFUiB8IGZpcmUgdGhlIHVuc3Vic2NyaWJlIGNh");
    sb.append("bGxzIHdpdGhpbiBhbiBvYmplY3QKICB2YXIgZmlyZV91bnN1YiA9IGZ1bmN0aW9uICh1bnN1Yikgewog");
    sb.append("ICAgdW5zdWIuX19kYXRhKCk7CiAgICB1bnN1Yi5fX3ZpZXcoKTsKICB9OwoKICAvLyBIRUxQRVIgfCBz");
    sb.append("dWJzY3JpYmUgdG8gc3RhdGUgYW5kIHBvcHVsYXRlIHVuc3Vic2NyaWJlIG9iamVjdAogIHZhciBzdWJz");
    sb.append("Y3JpYmVfc3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUsIHVuc3ViKSB7CiAgICBpZiAoc3RhdGUuZGF0YSAh");
    sb.append("PSBudWxsKSB7CiAgICAgIHVuc3ViLl9fZGF0YSA9IHN0YXRlLmRhdGEudHJlZS5zdWJzY3JpYmUocm9v");
    sb.append("dF9vZihzdGF0ZS5kYXRhKS5kZWx0YSk7CiAgICB9IGVsc2UgewogICAgICB1bnN1Yi5fX2RhdGEgPSBm");
    sb.append("dW5jdGlvbiAoKSB7CiAgICAgIH07CiAgICB9CiAgICBpZiAoc3RhdGUudmlldyAhPSBudWxsKSB7CiAg");
    sb.append("ICAgIHVuc3ViLl9fdmlldyA9IHN0YXRlLnZpZXcudHJlZS5zdWJzY3JpYmUocm9vdF9vZihzdGF0ZS52");
    sb.append("aWV3KS5kZWx0YSk7CiAgICB9IGVsc2UgewogICAgICB1bnN1Yi5fX3ZpZXcgPSBmdW5jdGlvbiAoKSB7");
    sb.append("CiAgICAgIH07CiAgICB9CiAgfTsKCiAgLy8gUlVOVElNRSB8IFN3aXRjaCB0byB0aGUgdmlldyBvYmpl");
    sb.append("Y3QKICBzZWxmLnBWID0gZnVuY3Rpb24gKHN0YXRlKSB7CiAgICByZXR1cm4geyBzZXJ2aWNlOiBzdGF0");
    sb.append("ZS5zZXJ2aWNlLCBkYXRhOiBzdGF0ZS5kYXRhLCB2aWV3OiBzdGF0ZS52aWV3LCBjdXJyZW50OiAidmll");
    sb.append("dyIgfTsKICB9OwogIHNlbGYubmV3U3RhdGVWaWV3T2YgPSBzZWxmLnBWOwoKICAvLyBSVU5USU1FIHwg");
    sb.append("U3dpdGNoIHRvIHRoZSBkYXRhIG9iamVjdAogIHNlbGYucEQgPSBmdW5jdGlvbiAoc3RhdGUpIHsKICAg");
    sb.append("IHJldHVybiB7IHNlcnZpY2U6IHN0YXRlLnNlcnZpY2UsIGRhdGE6IHN0YXRlLmRhdGEsIHZpZXc6IHN0");
    sb.append("YXRlLnZpZXcsIGN1cnJlbnQ6ICJkYXRhIiB9OwogIH07CiAgc2VsZi5uZXdTdGF0ZURhdGFPZiA9IHNl");
    sb.append("bGYucEQ7CgogIC8vIFJVTlRJTUUgfCBTd2l0Y2ggdG8gdGhlIHJvb3Qgb2JqZWN0IC8gKFJvb3QpCiAg");
    sb.append("c2VsZi5wUiA9IGZ1bmN0aW9uIChzdGF0ZSkgewogICAgdmFyIG5leHQgPSB7IHNlcnZpY2U6IHN0YXRl");
    sb.append("LnNlcnZpY2UsIGRhdGE6IHN0YXRlLmRhdGEsIHZpZXc6IHN0YXRlLnZpZXcsIGN1cnJlbnQ6IHN0YXRl");
    sb.append("LmN1cnJlbnQgfTsKICAgIHZhciBwcmlvciA9IG5leHRbc3RhdGUuY3VycmVudF07CiAgICB3aGlsZSAo");
    sb.append("cHJpb3IgIT0gbnVsbCkgewogICAgICBuZXh0W3N0YXRlLmN1cnJlbnRdID0gcHJpb3I7CiAgICAgIHBy");
    sb.append("aW9yID0gcHJpb3IucGFyZW50OwogICAgfQogICAgcmV0dXJuIG5leHQ7CiAgfTsKICBzZWxmLm5ld1N0");
    sb.append("YXRlUm9vdE9mID0gc2VsZi5wUjsKCiAgLy8gUlVOVElNRSB8IC4uLyAoVXApCiAgc2VsZi5wVSA9IGZ1");
    sb.append("bmN0aW9uIChzdGF0ZSkgewogICAgdmFyIG5leHQgPSB7IHNlcnZpY2U6IHN0YXRlLnNlcnZpY2UsIGRh");
    sb.append("dGE6IHN0YXRlLmRhdGEsIHZpZXc6IHN0YXRlLnZpZXcsIGN1cnJlbnQ6IHN0YXRlLmN1cnJlbnQgfTsK");
    sb.append("ICAgIHZhciBwcmlvciA9IG5leHRbc3RhdGUuY3VycmVudF07CiAgICBpZiAocHJpb3IucGFyZW50ICE9");
    sb.append("IG51bGwpIHsKICAgICAgbmV4dFtzdGF0ZS5jdXJyZW50XSA9IHByaW9yOwogICAgfQogICAgcmV0dXJu");
    sb.append("IG5leHQ7CiAgfTsKICBzZWxmLm5ld1N0YXRlUGFyZW50T2YgPSBzZWxmLnBVOwoKICAvLyBSVU5USU1F");
    sb.append("IHwgZGl2ZSBvbmUgbGV2ZWwgSW50byBwYXRoMS9wYXRoMi8uLi4uL3BhdGhOCiAgc2VsZi5wSSA9IGZ1");
    sb.append("bmN0aW9uIChzdGF0ZSwgbmFtZSkgewogICAgdmFyIHByaW9yID0gc3RhdGVbc3RhdGUuY3VycmVudF07");
    sb.append("CiAgICBpZiAoIShuYW1lIGluIHByaW9yLmRlbHRhKSkgewogICAgICBwcmlvci5kZWx0YVtuYW1lXSA9");
    sb.append("IHt9OwogICAgfQogICAgdmFyIG5leHQgPSB7IHNlcnZpY2U6IHN0YXRlLnNlcnZpY2UsIGRhdGE6IHN0");
    sb.append("YXRlLmRhdGEsIHZpZXc6IHN0YXRlLnZpZXcsIGN1cnJlbnQ6IHN0YXRlLmN1cnJlbnQgfTsKICAgIG5l");
    sb.append("eHRbc3RhdGUuY3VycmVudF0gPSB7CiAgICAgIHRyZWU6IHByaW9yLnRyZWUsCiAgICAgIGRlbHRhOiBw");
    sb.append("cmlvci5kZWx0YVtuYW1lXSwKICAgICAgcGFyZW50OiBwcmlvciwKICAgICAgcGF0aDogbmFtZQogICAg");
    sb.append("fTsKICAgIGlmIChuZXh0LmN1cnJlbnQgPT0gImRhdGEiKSB7CiAgICAgIG5leHQuZGF0YS5jb25uZWN0");
    sb.append("aW9uID0gcHJpb3IuY29ubmVjdGlvbjsKICAgIH0KICAgIHJldHVybiBuZXh0OwogIH07CiAgc2VsZi5u");
    sb.append("ZXdTdGF0ZURpdmVJbnRvID0gc2VsZi5wSTsKCiAgLy8gUlVOVElNRSB8IGV4dGVuZCB0aGUgZ2l2ZW4g");
    sb.append("c3RhdGUgd2l0aCB0aGUgdmlldyBoYXZpbmcgYSBzZXBhcmF0ZSBjaGlsZAogIHNlbGYucEVWID0gZnVu");
    sb.append("Y3Rpb24gKHN0YXRlLCBuYW1lKSB7CiAgICBpZiAoIShuYW1lIGluIHN0YXRlLnZpZXcuZGVsdGEpKSB7");
    sb.append("CiAgICAgIHN0YXRlLnZpZXcuZGVsdGFbbmFtZV0gPSB7fTsKICAgIH0KICAgIHJldHVybiB7CiAgICAg");
    sb.append("IHNlcnZpY2U6IHN0YXRlLnNlcnZpY2UsCiAgICAgIGRhdGE6IHN0YXRlLmRhdGEsCiAgICAgIHZpZXc6");
    sb.append("IHsKICAgICAgICB0cmVlOiBzdGF0ZS52aWV3LnRyZWUsCiAgICAgICAgZGVsdGE6IHN0YXRlLnZpZXcu");
    sb.append("ZGVsdGFbbmFtZV0sCiAgICAgICAgcGFyZW50OiBzdGF0ZS52aWV3LAogICAgICAgIHBhdGg6IG5hbWUK");
    sb.append("ICAgICAgfSwKICAgICAgY3VycmVudDogc3RhdGUuY3VycmVudAogICAgfTsKICB9OwogIHNlbGYubmV3");
    sb.append("U3RhdGVDcmVhdGVWaWV3Q2hpbGQgPSBzZWxmLnBFVjsKCiAgc2VsZi5wSUUgPSBmdW5jdGlvbiAoc3Rh");
    sb.append("dGUsIG5hbWUsIGV4cGFuZFZpZXcpIHsKICAgIHZhciBuZXh0ID0gc2VsZi5wSShzdGF0ZSwgbmFtZSk7");
    sb.append("CiAgICBpZiAoZXhwYW5kVmlldykgewogICAgICByZXR1cm4gc2VsZi5wRVYobmV4dCwgbmFtZSk7CiAg");
    sb.append("ICB9IGVsc2UgewogICAgICByZXR1cm4gbmV4dDsKICAgIH0KICB9OwoKICB2YXIgZm9yayA9IGZ1bmN0");
    sb.append("aW9uIChwcmlvclN0YXRlKSB7CiAgICB2YXIgc3RhdGUgPSB7CiAgICAgIHNlcnZpY2U6IHByaW9yU3Rh");
    sb.append("dGUuc2VydmljZSwKICAgICAgZGF0YTogbmV3X2RlbHRhX2NvcHkocHJpb3JTdGF0ZS5kYXRhKSwKICAg");
    sb.append("ICAgdmlldzogbmV3X2RlbHRhX2NvcHkocHJpb3JTdGF0ZS52aWV3KSwKICAgICAgY3VycmVudDogcHJp");
    sb.append("b3JTdGF0ZS5jdXJyZW50CiAgICB9OwogICAgaWYgKHN0YXRlLmRhdGEgIT0gbnVsbCkgewogICAgICBz");
    sb.append("dGF0ZS5kYXRhLmNvbm5lY3Rpb24gPSBwcmlvclN0YXRlLmRhdGEuY29ubmVjdGlvbjsKICAgIH0KICAg");
    sb.append("IHJldHVybiBzdGF0ZTsKICB9OwoKICAvLyBSVU5USU1FIHwgc3Vic2NyaWJlIGJldHdlZW4gdGhlIHN0");
    sb.append("YXRlIGFuZCB0aGUgb2JqZWN0LgogIC8vIFdoZW4gdGhlIG1lbWJlciBmaWVsZCB3aXRoaW4gc3RhdGUg");
    sb.append("b2YgbmFtZSBjaGFuZ2VzLCBjb3B5IHRoYXQgdmFsdWUgaW50byB0aGUgb2JqIGFuZCBydW4gcmVjb21w");
    sb.append("dXRlKCkKICBzZWxmLlkgPSBmdW5jdGlvbiAoc3RhdGUsIG9iaiwgbmFtZSwgcmVjb21wdXRlKSB7CiAg");
    sb.append("ICB2YXIgc3ViID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIG9ialtuYW1lXSA9IHZhbHVlOwogICAg");
    sb.append("ICByZWNvbXB1dGUoKTsKICAgIH07CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5hbWUsIHN1Yik7CiAgfTsK");
    sb.append("CiAgc2VsZi5ZMiA9IGZ1bmN0aW9uIChzdGF0ZSwgciwga2V5LCBuYW1lLCByZWNvbXB1dGUpIHsKICAg");
    sb.append("IHZhciBzdWIgPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgdmFyIG9iaiA9IHIuX1trZXldOwogICAg");
    sb.append("ICBvYmpbbmFtZV0gPSB2YWx1ZTsKICAgICAgcmVjb21wdXRlKG9iaik7CiAgICAgIHJldHVybiB0cnVl");
    sb.append("OwogICAgfTsKICAgIHN1YnNjcmliZShzdGF0ZSwgbmFtZSwgc3ViKTsKICB9OwoKICAvLyBSVU5USU1F");
    sb.append("OiBidWlsZCBhbiByeG9iagogIHNlbGYuUlggPSBmdW5jdGlvbiAodmFycykgewogICAgdmFyIG8gPSB7");
    sb.append("fTsKICAgIG8uXyA9IHt9OwogICAgZm9yICh2YXIgayA9IDA7IGsgPCB2YXJzLmxlbmd0aDsgaysrKSB7");
    sb.append("CiAgICAgIG8uX1t2YXJzW2tdXSA9IHt9OwogICAgfQogICAgby5fXyA9IGZ1bmN0aW9uKCkge307CiAg");
    sb.append("ICByZXR1cm4gbzsKICB9OwoKICAvLyBSVU5USU1FIHwgSnVzdCBzdWJzY3JpYmVlIHZhbHVlIHRvIHRo");
    sb.append("ZSBvYmplY3QgZmllbGQgb2YgbmFtZSAobm8tcmVjb21wdXRlKQogIHNlbGYuWVMgPSBmdW5jdGlvbiAo");
    sb.append("c3RhdGUsIG9iaiwgbmFtZSkgewogICAgdmFyIHN1YiA9IGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICBv");
    sb.append("YmpbbmFtZV0gPSB2YWx1ZTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9OwogICAgc3Vic2NyaWJlKHN0");
    sb.append("YXRlLCBuYW1lLCBzdWIpOwogIH07CgogIC8vIFJVTlRJTUUgfCAiVGV4dCIKICBzZWxmLlQgPSBmdW5j");
    sb.append("dGlvbiAodHgpIHsKICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0eCk7CiAgfTsKCiAg");
    sb.append("Ly8gY29udmVydCBhIHZhbHVlIGludG8gYSBib29sZWFuCiAgc2VsZi5CID0gZnVuY3Rpb24odmFsKSB7");
    sb.append("CiAgICBpZiAodmFsID09PSB0cnVlKSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgcmV0dXJu");
    sb.append("IHZhbCA9PSAidHJ1ZSI7CiAgfTsKCiAgLy8gUlVOVElNRSB8IDx2aWV3LXdyaXRlIG5hbWU9IiIgdmFs");
    sb.append("dWU9IiI+CiAgc2VsZi5WVyA9IGZ1bmN0aW9uKHN0YXRlLCBuYW1lLCByeE9iaikgewogICAgcnhPYmou");
    sb.append("X18gPSBkZWJvdW5jZSg1MCwgZnVuY3Rpb24oKSB7CiAgICAgIHZhciBvYmogPSB7fTsKICAgICAgdmFy");
    sb.append("IHZhbHVlID0gcnhPYmoudmFsdWU7CiAgICAgIGlmICh0eXBlb2YgKHZhbHVlKSA9PSAiZnVuY3Rpb24i");
    sb.append("KSB7CiAgICAgICAgb2JqW25hbWVdID0gdmFsdWUoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBvYmpb");
    sb.append("bmFtZV0gPSB2YWx1ZTsKICAgICAgfQogICAgICB2YXIgZGVsdGEgPSBwYXRoX3RvKHN0YXRlLnZpZXcs");
    sb.append("IG9iaik7CiAgICAgIHN0YXRlW3N0YXRlLmN1cnJlbnRdLnRyZWUudXBkYXRlKGRlbHRhKTsKICAgIH0p");
    sb.append("OwogIH07CgogIC8vIFJVTlRJTUUgfCA8bG9va3VwIHBhdGg9Li4uPgogIHNlbGYuTCA9IGZ1bmN0aW9u");
    sb.append("IChzdGF0ZSwgbmFtZSkgewogICAgdmFyIGRvbSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKTsK");
    sb.append("ICAgIHZhciBzdWIgPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgZG9tLm5vZGVWYWx1ZSA9IHZhbHVl");
    sb.append("OwogICAgfTsKICAgIHN1YnNjcmliZShzdGF0ZSwgbmFtZSwgc3ViKTsKICAgIHJldHVybiBkb207CiAg");
    sb.append("fTsKCiAgLy8gUlVOVElNRSB8IDxsb29rdXAgcGF0aD0uLi4gdHJhbnNmb3JtPSIkdHJhbnNmb3JtIiAv");
    sb.append("PgogIHNlbGYuTFQgPSBmdW5jdGlvbiAoc3RhdGUsIG5hbWUsIHRyYW5zZm9ybSkgewogICAgdmFyIGRv");
    sb.append("bSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKTsKICAgIHZhciBzdWIgPSBmdW5jdGlvbiAodmFs");
    sb.append("dWUpIHsKICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHsKICAgICAgICBkb20ubm9kZVZhbHVlID0gdHJh");
    sb.append("bnNmb3JtKHZhbHVlKTsKICAgICAgfQogICAgfTsKICAgIHN1YnNjcmliZShzdGF0ZSwgbmFtZSwgc3Vi");
    sb.append("KTsKICAgIHJldHVybiBkb207CiAgfTsKCiAgLy8gUlVOVElNRSB8IDx0YWc+CiAgc2VsZi5FID0gZnVu");
    sb.append("Y3Rpb24gKHRhZywgbnMpIHsKICAgIGlmIChucyA9PSB1bmRlZmluZWQgfHwgbnMgPT0gbnVsbCkgewog");
    sb.append("ICAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpOwogICAgfSBlbHNlIHsKICAgICAg");
    sb.append("dmFyIHJlc3VsdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhucywgdGFnKTsKICAgICAgcmVzdWx0");
    sb.append("LnNldEF0dHJpYnV0ZSgieG1sbnMiLCBucyk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgfTsK");
    sb.append("CiAgLy8gUlVOVElNRSB8IDxwaWNrIG5hbWU9Li4uPgogIHNlbGYuUCA9IGZ1bmN0aW9uIChwYXJlbnQs");
    sb.append("IHByaW9yU3RhdGUsIHJ4T2JqLCBjaGlsZE1ha2VyQ29ubmVjdGVkLCBjaGlsZE1ha2VyRGlzY29ubmVj");
    sb.append("dGVkKSB7CiAgICB2YXIgdW5zdWIgPSBtYWtlX3Vuc3ViKCk7CiAgICByeE9iai5fXyA9IGZ1bmN0aW9u");
    sb.append("ICgpIHsKICAgICAgaWYgKCEoJ25hbWUnIGluIHJ4T2JqKSkgewogICAgICAgIHJldHVybjsKICAgICAg");
    sb.append("fQogICAgICBpZiAodGhpcy5uYW1lID09IHJ4T2JqLm5hbWUpIHsKICAgICAgICByZXR1cm47CiAgICAg");
    sb.append("IH0KICAgICAgdmFyIGNvID0gZ2V0X2Nvbm5lY3Rpb25fb2JqKHJ4T2JqLm5hbWUpOwogICAgICB0aGlz");
    sb.append("Lm5hbWUgPSByeE9iai5uYW1lOwogICAgICBjby5jb25uZWN0ZWQoZnVuY3Rpb24gKGNzKSB7CiAgICAg");
    sb.append("ICAgbnVrZShwYXJlbnQpOwogICAgICAgIGZpcmVfdW5zdWIodW5zdWIpOwogICAgICAgIHZhciBzdGF0");
    sb.append("ZSA9IHsKICAgICAgICAgIHNlcnZpY2U6IHByaW9yU3RhdGUuc2VydmljZSwKICAgICAgICAgIGRhdGE6");
    sb.append("IHsgY29ubmVjdGlvbjogY28sIHRyZWU6IGNvLnRyZWUsIGRlbHRhOiB7fSwgcGFyZW50OiBudWxsLCBw");
    sb.append("YXRoOiBudWxsIH0sCiAgICAgICAgICB2aWV3OiBuZXdfZGVsdGFfY29weShwcmlvclN0YXRlLnZpZXcp");
    sb.append("LAogICAgICAgICAgY3VycmVudDogImRhdGEiCiAgICAgICAgfTsKICAgICAgICBpZiAoY3MpIHsKICAg");
    sb.append("ICAgICAgIGNoaWxkTWFrZXJDb25uZWN0ZWQocGFyZW50LCBzdGF0ZSk7CiAgICAgICAgfSBlbHNlIHsK");
    sb.append("ICAgICAgICAgIGNoaWxkTWFrZXJEaXNjb25uZWN0ZWQocGFyZW50LCBzdGF0ZSk7CiAgICAgICAgfQog");
    sb.append("ICAgICAgIHN1YnNjcmliZV9zdGF0ZShzdGF0ZSwgdW5zdWIpOwogICAgICAgIC8vIFRPRE86IHJldHVy");
    sb.append("biBmYWxzZSB0byB1bnN1YgogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9KTsKICAgIH0uYmluZCh7");
    sb.append("IG5hbWU6ICIiIH0pOwogIH07CgogIC8vIFJVTlRJTUUgfCA8dGVtcGxhdGUgbmFtZT0iLi4uIj4KICBz");
    sb.append("ZWxmLlRQID0gZnVuY3Rpb24gKG5hbWUsIGZvbykgewogICAgdGVtcGxhdGVzW25hbWVdID0gZm9vOwog");
    sb.append("IH07CgogIC8vIFJVTlRJTUUgfCA8dGFnIHJ4OnRlbXBsYXRlPSRuYW1lPgogIHNlbGYuVVQgPSBmdW5j");
    sb.append("dGlvbiAocGFyZW50LCBzdGF0ZSwgbmFtZSwgY2hpbGRfbWFrZXIpIHsKICAgIHZhciBmb28gPSB0ZW1w");
    sb.append("bGF0ZXNbbmFtZV07CiAgICBmb28ocGFyZW50LCBzdGF0ZSwgY2hpbGRfbWFrZXIpOwogIH07CgogIC8v");
    sb.append("IFJVTlRJTUUgfCA8dGFnIHJ4OnN3aXRjaD1wYXRoIC4uPgogIHNlbGYuU1cgPSBmdW5jdGlvbiAocGFy");
    sb.append("ZW50LCBwcmlvclN0YXRlLCBuYW1lLCBjaGlsZHJlbk1ha2VyKSB7CiAgICB2YXIgc3dzdCA9IHsgcHJp");
    sb.append("b3I6IG51bGwgfTsKICAgIGFkZF91bnN1Yihzd3N0KTsKICAgIHZhciBzdWIgPSBmdW5jdGlvbiAodmFs");
    sb.append("dWUpIHsKICAgICAgaWYgKHZhbHVlID09IHRoaXMucHJpb3IpIHsKICAgICAgICByZXR1cm47CiAgICAg");
    sb.append("IH0KICAgICAgdGhpcy5wcmlvciA9IHZhbHVlOwogICAgICBmaXJlX3Vuc3ViKHRoaXMpOwogICAgICBu");
    sb.append("dWtlKHBhcmVudCk7CiAgICAgIHZhciBzdGF0ZSA9IGZvcmsocHJpb3JTdGF0ZSk7CiAgICAgIGNoaWxk");
    sb.append("cmVuTWFrZXIocGFyZW50LCBzdGF0ZSwgIiIgKyB2YWx1ZSk7CiAgICAgIHN1YnNjcmliZV9zdGF0ZShz");
    sb.append("dGF0ZSwgdGhpcyk7CgogICAgfS5iaW5kKHN3c3QpOwogICAgc3Vic2NyaWJlKHByaW9yU3RhdGUsIG5h");
    sb.append("bWUsIHN1Yik7CiAgfTsKCiAgLy8gUlVOVElNRSB8IDx0YWcgcng6aXRlcmF0ZT1wYXRoIC4uLj4KICBz");
    sb.append("ZWxmLklUID0gZnVuY3Rpb24gKHBhcmVudERvbSwgc3RhdGUsIG5hbWUsIGV4cGFuZFZpZXcsIG1ha2Vy");
    sb.append("KSB7CiAgICB2YXIgaXRfc3RhdGUgPSBzZWxmLnBJRShzdGF0ZSwgbmFtZSwgZXhwYW5kVmlldyk7CiAg");
    sb.append("ICB2YXIgZG9tQnlLZXkgPSB7fTsKICAgIHZhciB2aWV3VW5TdWJCeUtleSA9IHt9OwogICAgdmFyIGtp");
    sb.append("bGwgPSBmdW5jdGlvbiAoKSB7CiAgICAgIGZvciAodmFyIGtleSBpbiB2aWV3VW5TdWJCeUtleSkgewog");
    sb.append("ICAgICAgIGZpcmVfdW5zdWIodmlld1VuU3ViQnlLZXlba2V5XSk7CiAgICAgICAgZGVsZXRlIHZpZXdV");
    sb.append("blN1YkJ5S2V5W2tleV07CiAgICAgIH0KICAgICAgZm9yICh2YXIga2V5IGluIGRvbUJ5S2V5KSB7CiAg");
    sb.append("ICAgICAgZGVsZXRlIGRvbUJ5S2V5W2tleV07CiAgICAgIH0KICAgIH07CgogICAgdmFyIHN1YiA9IHsK");
    sb.append("ICAgICAgIisiOiBmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgdmFyIG5ld19zdGF0ZSA9IGZvcmsoc2Vs");
    sb.append("Zi5wSUUoaXRfc3RhdGUsIGtleSwgZXhwYW5kVmlldykpOwogICAgICAgIHZhciB1bnN1YiA9IG1ha2Vf");
    sb.append("dW5zdWIoKTsKICAgICAgICB2YXIgZG9tID0gbWFrZXIobmV3X3N0YXRlKTsKICAgICAgICBkb21CeUtl");
    sb.append("eVtrZXldID0gZG9tOwogICAgICAgIHZpZXdVblN1YkJ5S2V5W2tleV0gPSB1bnN1YjsKICAgICAgICBw");
    sb.append("YXJlbnREb20uYXBwZW5kKGRvbSk7CiAgICAgICAgdmFyIGl0ZW1fZGVsdGEgPSBuZXdfc3RhdGUuZGF0");
    sb.append("YS5kZWx0YTsKICAgICAgICBuZXdfc3RhdGUuZGF0YS5kZWx0YSA9IHt9OwogICAgICAgIHN1YnNjcmli");
    sb.append("ZV9zdGF0ZShuZXdfc3RhdGUsIHVuc3ViKTsKICAgICAgICByZXR1cm4gaXRlbV9kZWx0YTsKICAgICAg");
    sb.append("fSwKICAgICAgIi0iOiBmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgaWYgKGtleSBpbiBkb21CeUtleSkg");
    sb.append("ewogICAgICAgICAgcGFyZW50RG9tLnJlbW92ZUNoaWxkKGRvbUJ5S2V5W2tleV0pOwogICAgICAgICAg");
    sb.append("ZGVsZXRlIGRvbUJ5S2V5W2tleV07CiAgICAgICAgfQogICAgICAgIGlmIChrZXkgaW4gdmlld1VuU3Vi");
    sb.append("QnlLZXkpIHsKICAgICAgICAgIGZpcmVfdW5zdWIodmlld1VuU3ViQnlLZXlba2V5XSk7CiAgICAgICAg");
    sb.append("ICBkZWxldGUgdmlld1VuU3ViQnlLZXlba2V5XTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgICJ+Ijog");
    sb.append("ZnVuY3Rpb24gKG9yZCkgewogICAgICAgIG51a2UocGFyZW50RG9tKTsKICAgICAgICBpZiAob3JkID09");
    sb.append("IG51bGwpIHsKICAgICAgICAgIGtpbGwoKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAg");
    sb.append("ICAgZm9yICh2YXIgayA9IDA7IGsgPCBvcmQubGVuZ3RoOyBrKyspIHsKICAgICAgICAgIHBhcmVudERv");
    sb.append("bS5hcHBlbmQoZG9tQnlLZXlbb3JkW2tdXSk7CiAgICAgICAgfQogICAgICB9CiAgICB9OwogICAgc3Vi");
    sb.append("c2NyaWJlKHN0YXRlLCBuYW1lLCBzdWIpOwogIH07CgogIHZhciBmaW5kID0gZnVuY3Rpb24gKHN0YXRl");
    sb.append("LCBjaGFubmVsLCBrZXksIHZhbHVlKSB7CiAgICBpZiAoY2hhbm5lbCBpbiBzdGF0ZVsiZGF0YSJdLmNv");
    sb.append("bm5lY3Rpb24ub3V0c3RhbmRpbmcpIHsKICAgICAgdmFyIGFyciA9IHN0YXRlWyJkYXRhIl0uY29ubmVj");
    sb.append("dGlvbi5vdXRzdGFuZGluZ1tjaGFubmVsXS5vcHRpb25zOwogICAgICBmb3IgKHZhciBrID0gMDsgayA8");
    sb.append("IGFyci5sZW5ndGg7IGsrKykgewogICAgICAgIHZhciBzID0gYXJyW2tdOwogICAgICAgIGlmIChrZXkg");
    sb.append("aW4gcyAmJiBzW2tleV0gPT0gdmFsdWUpIHsKICAgICAgICAgIHJldHVybiBzOwogICAgICAgIH0KICAg");
    sb.append("ICAgfQogICAgICByZXR1cm4gbnVsbDsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBudWxsOwogICAg");
    sb.append("fQogIH07CgogIHZhciBjdXN0b21zID0ge307CgogIHNlbGYuUFJDVUFDID0gZnVuY3Rpb24gKG5hbWUs");
    sb.append("IGZvbykgewogICAgY3VzdG9tc1tuYW1lXSA9IGZvbzsKICB9OwoKICBzZWxmLmV4Q0MgPSBmdW5jdGlv");
    sb.append("biAoZG9tLCB0eXBlLCBzdGF0ZSwgY3VzdG9tQ29tbWFuZE5hbWUpIHsKICAgIHJlZ19ldmVudChzdGF0");
    sb.append("ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoKSB7CiAgICAgIGlmIChjdXN0b21Db21tYW5kTmFtZSBpbiBj");
    sb.append("dXN0b21zKSB7CiAgICAgICAgY3VzdG9tc1tjdXN0b21Db21tYW5kTmFtZV0oc3RhdGUsIGRvbSk7CiAg");
    sb.append("ICAgIH0KICAgIH0pOwogIH07CgogIC8vIGN1c3RvbSBldmVudCBvbiBmb3Jtczsgcng6c3VjY2Vzcz0i");
    sb.append("Li4uIgogIHZhciBmaXJlX3N1Y2Nlc3MgPSBmdW5jdGlvbiAoZG9tKSB7CiAgICBkb20uZGlzcGF0Y2hF");
    sb.append("dmVudChuZXcgRXZlbnQoInN1Y2Nlc3MiKSk7CiAgfTsKICBzZWxmLmZpcmVfc3VjY2VzcyA9IGZpcmVf");
    sb.append("c3VjY2VzczsKCiAgLy8gY3VzdG9tIGV2ZW50IG9uIGZvcm1zOyByeDpmYWlsZWQ9Ii4uLiIKICB2YXIg");
    sb.append("ZmlyZV9mYWlsdXJlID0gZnVuY3Rpb24gKGRvbSwgbXNnKSB7CiAgICB2YXIgZSA9IG5ldyBFdmVudCgi");
    sb.append("ZmFpbHVyZSIpOwogICAgZS5tZXNzYWdlID0gbXNnOwogICAgY29uc29sZS5sb2coIkZBSUxVUkU6IiAr");
    sb.append("IG1zZyk7CiAgICBkb20uZGlzcGF0Y2hFdmVudChlKTsKICB9OwogIHNlbGYuZmlyZV9mYWlsdXJlID0g");
    sb.append("ZmlyZV9mYWlsdXJlOwoKICBzZWxmLmFDQyA9IGZ1bmN0aW9uIChmb3JtLCBzdGF0ZSwgY3VzdG9tQ29t");
    sb.append("bWFuZE5hbWUpIHsKICAgIHZhciBzaWduYWwgPSBmdW5jdGlvbiAobXNnKSB7CiAgICAgIGlmIChzaWdu");
    sb.append("YWwgPT0gbnVsbCkgewogICAgICAgIGZpcmVfc3VjY2Vzcyhmb3JtKTsKICAgICAgfSBlbHNlIHsKICAg");
    sb.append("ICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgbXNnKTsKICAgICAgfQogICAgfTsKICAgIGZvcm0ub25zdWJt");
    sb.append("aXQgPSBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgIGlmIChjdXN0b21Db21tYW5kTmFtZSBpbiBjdXN0b21z");
    sb.append("KSB7CiAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgdmFyIG9iaiA9IGdldF9mb3Jt");
    sb.append("KGZvcm0sIGZhbHNlKTsKICAgICAgICBjdXN0b21zW2N1c3RvbUNvbW1hbmROYW1lXShvYmosIHN0YXRl");
    sb.append("LCBzaWduYWwsIHNlbGYpOwogICAgICAgIGZpcmVfc3VjY2Vzcyhmb3JtKTsKICAgICAgfSBlbHNlIHsK");
    sb.append("ICAgICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgIkZhaWxlZCB0byBmaW5kICciICsgY3VzdG9tQ29tbWFu");
    sb.append("ZE5hbWUgKyAiJyIpOwogICAgICB9CiAgICB9OwogIH07CgogIHZhciBtYWtlX2Nob2ljZV9hcnJheSA9");
    sb.append("IGZ1bmN0aW9uIChzdGF0ZSwgY2hhbm5lbCkgewogICAgdmFyIGNob2ljZXMgPSBzdGF0ZS5kYXRhLmNv");
    sb.append("bm5lY3Rpb24uY2hvaWNlczsKICAgIGlmICghKGNoYW5uZWwgaW4gY2hvaWNlcykpIHsKICAgICAgY2hv");
    sb.append("aWNlc1tjaGFubmVsXSA9IHt9OwogICAgfQogICAgdmFyIGNob2ljZSA9IGNob2ljZXNbY2hhbm5lbF07");
    sb.append("CiAgICB2YXIgYXJyID0gW107CiAgICBmb3IgKHZhciBpZCBpbiBjaG9pY2UpIHsKICAgICAgYXJyLnB1");
    sb.append("c2goY2hvaWNlW2lkXSk7CiAgICB9CiAgICByZXR1cm4gYXJyOwogIH0KCiAgc2VsZi5leEZJTiA9IGZ1");
    sb.append("bmN0aW9uIChkb20sIHR5cGUsIHN0YXRlLCBjaGFubmVsKSB7CiAgICByZWdfZXZlbnQoc3RhdGUsIGRv");
    sb.append("bSwgdHlwZSwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgYXJyID0gbWFrZV9jaG9pY2VfYXJyYXkoc3Rh");
    sb.append("dGUsIGNoYW5uZWwpOwogICAgICB2YXIgY2xlYXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgZGVsZXRl");
    sb.append("IHN0YXRlLmRhdGEuY29ubmVjdGlvbi5jaG9pY2VzW2NoYW5uZWxdOwogICAgICAgIHN0YXRlLmRhdGEu");
    sb.append("Y29ubmVjdGlvbi5vbmNob2ljZXMoY2hhbm5lbCwge30pOwogICAgICB9OwogICAgICBzdGF0ZS5kYXRh");
    sb.append("LmNvbm5lY3Rpb24ucHRyLnNlbmQoY2hhbm5lbCwgYXJyLCB7CiAgICAgICAgZmFpbHVyZTogZnVuY3Rp");
    sb.append("b24gKHJlYXNvbikgewogICAgICAgICAgY2xlYXIoKTsKICAgICAgICAgIGNvbnNvbGUubG9nKCJmYWls");
    sb.append("ZWQ6IiArIHJlYXNvbik7CiAgICAgICAgfSwKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocGF5bG9h");
    sb.append("ZCkgewogICAgICAgICAgY2xlYXIoKTsKICAgICAgICAgIGNvbnNvbGUubG9nKCJTdWNjZXNzfCIgKyBw");
    sb.append("YXlsb2FkLnNlcSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwogIH07CgogIHNlbGYuRklOID0g");
    sb.append("ZnVuY3Rpb24gKHBhcmVudCwgcHJpb3JTdGF0ZSwgY2hhbm5lbCwgc2hvdWxkQmUsIF9leHBhbmQsIG1h");
    sb.append("a2VyVHJ1ZSwgbWFrZXJGYWxzZSkgewogICAgdmFyIGZpbmFsaXplID0gewogICAgICBvd25lcjogcGFy");
    sb.append("ZW50LAogICAgICBzaG93bjogZmFsc2UKICAgIH07CiAgICBhZGRfdW5zdWIoZmluYWxpemUpOwoKICAg");
    sb.append("IHZhciBjaGFuZ2UgPSBmdW5jdGlvbiAoc2hvdykgewogICAgICBmaXJlX3Vuc3ViKGZpbmFsaXplKTsK");
    sb.append("ICAgICAgbnVrZShwYXJlbnQpOwogICAgICB2YXIgc3RhdGUgPSBmb3JrKHByaW9yU3RhdGUpOwogICAg");
    sb.append("ICBpZiAoc2hvdyA9PT0gc2hvdWxkQmUpIHsKICAgICAgICBtYWtlclRydWUocGFyZW50LCBzdGF0ZSk7");
    sb.append("CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbWFrZXJGYWxzZShwYXJlbnQsIHN0YXRlKTsKICAgICAgfQog");
    sb.append("ICAgICBzdWJzY3JpYmVfc3RhdGUoc3RhdGUsIGZpbmFsaXplKTsKICAgIH07CgogICAgZmluYWxpemUu");
    sb.append("dXBkYXRlID0gZnVuY3Rpb24gKCkgewogICAgICB2YXIgb3V0ID0gcHJpb3JTdGF0ZS5kYXRhLmNvbm5l");
    sb.append("Y3Rpb24ub3V0c3RhbmRpbmdbY2hhbm5lbF07CiAgICAgIGlmICghKG91dCkpIHJldHVybjsKICAgICAg");
    sb.append("dmFyIGFyciA9IG1ha2VfY2hvaWNlX2FycmF5KHByaW9yU3RhdGUsIGNoYW5uZWwpOwogICAgICB2YXIg");
    sb.append("ZXZhbCA9ICgnbWluJyBpbiBvdXQgJiYgJ21heCcgaW4gb3V0KSA/IChvdXQubWluIDw9IGFyci5sZW5n");
    sb.append("dGggJiYgYXJyLmxlbmd0aCA8PSBvdXQubWF4KSA6IHRydWU7CiAgICAgIGlmIChmaW5hbGl6ZS5ldmFs");
    sb.append("ICE9IGV2YWwpIHsKICAgICAgICBmaW5hbGl6ZS5ldmFsID0gZXZhbDsKICAgICAgICBjaGFuZ2UoZmlu");
    sb.append("YWxpemUuZXZhbCk7CiAgICAgIH0KICAgIH07CgogICAgcHJpb3JTdGF0ZS5kYXRhLmNvbm5lY3Rpb24u");
    sb.append("c3Vic2NyaWJlX2Nob2ljZShjaGFubmVsLCBmdW5jdGlvbiAoKSB7CiAgICAgIGZpbmFsaXplLnVwZGF0");
    sb.append("ZSgpOwogICAgICAvLyBUT0RPOiByZXR1cm4gd2hldGhlciBvciBub3QgdGhpcyBuZWVkcyB0byBiZSBh");
    sb.append("eGVkCiAgICAgIHJldHVybiB0cnVlOwogICAgfSk7CiAgfTsKCiAgLy8gY2hvb3NlCiAgc2VsZi5leENI");
    sb.append("ID0gZnVuY3Rpb24gKGRvbSwgdHlwZSwgc3RhdGUsIG5hbWUsIGNoYW5uZWwsIGtleSkgewogICAgdmFy");
    sb.append("IGRlY2lkZSA9IHsgdmFsdWU6IG51bGwgfTsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBm");
    sb.append("dW5jdGlvbiAoKSB7CiAgICAgIHZhciByZXN1bHQgPSBmaW5kKHN0YXRlLCBjaGFubmVsLCBrZXksIGRl");
    sb.append("Y2lkZS52YWx1ZSk7CiAgICAgIGlmIChyZXN1bHQgIT0gbnVsbCkgewogICAgICAgIHZhciBjaG9pY2Vz");
    sb.append("ID0gc3RhdGUuZGF0YS5jb25uZWN0aW9uLmNob2ljZXM7CiAgICAgICAgaWYgKCEoY2hhbm5lbCBpbiBj");
    sb.append("aG9pY2VzKSkgewogICAgICAgICAgY2hvaWNlc1tjaGFubmVsXSA9IHt9OwogICAgICAgIH0KICAgICAg");
    sb.append("ICB2YXIgY2hvaWNlID0gY2hvaWNlc1tjaGFubmVsXTsKICAgICAgICB2YXIgdmFsS2V5ID0gcmVzdWx0");
    sb.append("W2tleV07CiAgICAgICAgaWYgKHZhbEtleSBpbiBjaG9pY2UpIHsKICAgICAgICAgIGRlbGV0ZSBjaG9p");
    sb.append("Y2VbdmFsS2V5XTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY2hvaWNlW3ZhbEtleV0gPSByZXN1");
    sb.append("bHQ7CiAgICAgICAgfQogICAgICAgIHN0YXRlLmRhdGEuY29ubmVjdGlvbi5vbmNob2ljZXMoY2hhbm5l");
    sb.append("bCwgY2hvaWNlKTsKICAgICAgfQogICAgfSk7CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5hbWUsIGZ1bmN0");
    sb.append("aW9uICh2YWx1ZSkgewogICAgICBkZWNpZGUudmFsdWUgPSB2YWx1ZTsKICAgIH0pOwogIH07CgogIHNl");
    sb.append("bGYuZXhEID0gZnVuY3Rpb24gKGRvbSwgdHlwZSwgc3RhdGUsIG5hbWUsIGNoYW5uZWwsIGtleSkgewog");
    sb.append("ICAgdmFyIGRlY2lkZSA9IHsgdmFsdWU6IG51bGwgfTsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0");
    sb.append("eXBlLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciByZXN1bHQgPSBmaW5kKHN0YXRlLCBjaGFubmVsLCBr");
    sb.append("ZXksIGRlY2lkZS52YWx1ZSk7CiAgICAgIGlmIChyZXN1bHQgIT0gbnVsbCkgewogICAgICAgIGxldCBz");
    sb.append("dGFydCA9IHBlcmZvcm1hbmNlLm5vdygpOwogICAgICAgIHN0YXRlLmRhdGEuY29ubmVjdGlvbi5wdHIu");
    sb.append("c2VuZChjaGFubmVsLCByZXN1bHQsIHsKICAgICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24p");
    sb.append("IHsKCiAgICAgICAgICB9LAogICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHBheWxvYWQpIHsKICAg");
    sb.append("ICAgICAgICAgY29uc29sZS5sb2coIlN1Y2Nlc3N8IiArIHBheWxvYWQuc2VxICsgIjtsYXRlbmN5PSIg");
    sb.append("KyAocGVyZm9ybWFuY2Uubm93KCkgLSBzdGFydCkpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAg");
    sb.append("ICB9CiAgICB9KTsKICAgIHN1YnNjcmliZShzdGF0ZSwgbmFtZSwgZnVuY3Rpb24gKHZhbHVlKSB7CiAg");
    sb.append("ICAgIGRlY2lkZS52YWx1ZSA9IHZhbHVlOwogICAgfSk7CiAgfTsKCiAgdmFyIHJlZ19ldmVudCA9IGZ1");
    sb.append("bmN0aW9uIChzdGF0ZSwgZG9tLCB0eXBlLCBydW5uYWJsZSkgewogICAgLy8gVE9ETzogY29ubmVjdGVk");
    sb.append("L2Rpc2Nvbm5lY3RlZCBhcyBzcGVjaWFsIGV2ZW50cyB0byBjb25zaWRlcgogICAgaWYgKHR5cGUgPT0g");
    sb.append("ImxvYWQiKSB7CiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KHJ1bm5hYmxlLCAxKTsKICAgIH0gZWxzZSB7");
    sb.append("CiAgICAgIGRvbS5hZGRFdmVudExpc3RlbmVyKHR5cGUsIHJ1bm5hYmxlKTsKICAgIH0KICB9CgogIC8v");
    sb.append("IFJVTlRJTUU6IDx0YWcgLi4gcng6ZXZlbnQ9Ii4uLiBmaXJlOmNoYW5uZWwgLi4uIiAuLi4+CiAgc2Vs");
    sb.append("Zi5vbkZSID0gZnVuY3Rpb24gKHN0YXRlLCBkb20sIHR5cGUsIGNoYW5uZWwpIHsKICAgIHJlZ19ldmVu");
    sb.append("dChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoKSB7CiAgICAgIHN0YXRlLmRhdGEuY29ubmVjdGlv");
    sb.append("bi5wdHIuc2VuZChjaGFubmVsLCB7fSwgewogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHsKICAg");
    sb.append("ICAgICAgIGNvbnNvbGUubG9nKCJTRU5UICciICsgY2hhbm5lbCArICInIik7CiAgICAgICAgfSwKICAg");
    sb.append("ICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiRkFJ");
    sb.append("TEVEIFRPIEZJUkUgJyIgKyBjaGFubmVsICsgIicgRFVFOiIgKyByZWFzb24pOyAnJwogICAgICAgIH0K");
    sb.append("ICAgICAgfSk7CiAgICB9KTsKICB9CgogIC8vIFJVTlRJTUU6IDx0YWcgLi4gcng6ZXZlbnQ9Ii4uLiBm");
    sb.append("b3JjZS1hdXRoPW5hbWUsdG9rZW4gLi4uIj4KICBzZWxmLm9uRk9SQ0VfQVVUSCA9IGZ1bmN0aW9uIChk");
    sb.append("b20sIHR5cGUsIGlkZW50aXR5TmFtZSwgaWRlbnRpdHkpIHsKICAgIHJlZ19ldmVudChudWxsLCBkb20s");
    sb.append("IHR5cGUsIGZ1bmN0aW9uICgpIHsKICAgICAgaWRlbnRpdGllc1tpZGVudGl0eU5hbWVdID0gaWRlbnRp");
    sb.append("dHk7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpZGVudGl0eV8iICsgaWRlbnRpdHlOYW1lLCBp");
    sb.append("ZGVudGl0eSk7CiAgICB9KTsKICB9OwoKICAvLyBSVU5USU1FOiA8dGFnIC4uIHJ4OmV2ZW50PSIuLi4g");
    sb.append("c2V0Om5hbWU9dmFsdWUgLi4uIj4KICBzZWxmLm9uUyA9IGZ1bmN0aW9uIChkb20sIHR5cGUsIHN0YXRl");
    sb.append("LCBuYW1lLCB2YWx1ZSkgewogICAgcmVnX2V2ZW50KHN0YXRlLCBkb20sIHR5cGUsIGZ1bmN0aW9uICgp");
    sb.append("IHsKICAgICAgdmFyIG9iaiA9IHt9OwogICAgICBpZiAodHlwZW9mICh2YWx1ZSkgPT0gImZ1bmN0aW9u");
    sb.append("IikgewogICAgICAgIG9ialtuYW1lXSA9IHZhbHVlKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgb2Jq");
    sb.append("W25hbWVdID0gdmFsdWU7CiAgICAgIH0KICAgICAgdmFyIGRlbHRhID0gcGF0aF90byhzdGF0ZS52aWV3");
    sb.append("LCBvYmopOwogICAgICBzdGF0ZVtzdGF0ZS5jdXJyZW50XS50cmVlLnVwZGF0ZShkZWx0YSk7CiAgICB9");
    sb.append("KTsKICB9OwoKICAvLyBSVU5USU1FOiA8dGFnIC4uIHJ4OmV2ZW50PSIuLi4gdGU6bmFtZSAuLi4iPgog");
    sb.append("IHNlbGYub25UTSA9IGZ1bmN0aW9uIChkb20sIHR5cGUsIHN0YXRlLCBuYW1lLCBveCwgb3kpIHsKICAg");
    sb.append("IHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgdmFyIG9i");
    sb.append("aiA9IHt9OwogICAgICBvYmpbbmFtZV0gPSB7CiAgICAgICAgeDpldmVudC5jbGllbnRYICsgd2luZG93");
    sb.append("LnNjcm9sbFggKyBveCwKICAgICAgICB5OmV2ZW50LmNsaWVudFkgKyB3aW5kb3cuc2Nyb2xsWSArIG95");
    sb.append("CiAgICAgIH07CiAgICAgIHZhciBkZWx0YSA9IHBhdGhfdG8oc3RhdGUudmlldywgb2JqKTsKICAgICAg");
    sb.append("c3RhdGVbc3RhdGUuY3VycmVudF0udHJlZS51cGRhdGUoZGVsdGEpOwogICAgfSk7CiAgfTsKCiAgLy8g");
    sb.append("UlVOVElNRTogPHRhZyAuLiByeDpldmVudD0iLi4uIHRlOm5hbWUgLi4uIj4KICBzZWxmLm9uVEUgPSBm");
    sb.append("dW5jdGlvbiAoZG9tLCB0eXBlLCBzdGF0ZSwgbmFtZSkgewogICAgcmVnX2V2ZW50KHN0YXRlLCBkb20s");
    sb.append("IHR5cGUsIGZ1bmN0aW9uIChldmVudCkgewogICAgICB2YXIgb2JqID0ge307CiAgICAgIG9ialtuYW1l");
    sb.append("XSA9IGV2ZW50Lm1lc3NhZ2U7CiAgICAgIHZhciBkZWx0YSA9IHBhdGhfdG8oc3RhdGUudmlldywgb2Jq");
    sb.append("KTsKICAgICAgc3RhdGVbc3RhdGUuY3VycmVudF0udHJlZS51cGRhdGUoZGVsdGEpOwogICAgfSk7CiAg");
    sb.append("fTsKCiAgLy8gUlVOVElNRTogPHRhZyAuLiByeDpldmVudD0iLi4uIHJlc2V0IC4uLiI+CiAgc2VsZi5v");
    sb.append("UlNUID0gZnVuY3Rpb24gKGRvbSwgdHlwZSwgc3RhdGUpIHsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9t");
    sb.append("LCB0eXBlLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgZG9tLnJlc2V0KCk7CiAgICB9KTsKICB9OwoK");
    sb.append("ICAvLyBSVU5USU1FOiA8dGFnIC4uIHJ4OmV2ZW50PSIuLi4gcmVzZXQgLi4uIj4KICBzZWxmLm9TQk1U");
    sb.append("ID0gZnVuY3Rpb24gKGRvbSwgdHlwZSwgc3RhdGUpIHsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0");
    sb.append("eXBlLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgdmFyIG5leHQgPSBkb207CiAgICAgIHdoaWxlIChu");
    sb.append("ZXh0ICE9IG51bGwpIHsKICAgICAgICBpZiAobmV4dC50YWdOYW1lLnRvVXBwZXJDYXNlKCkgPT0gIkZP");
    sb.append("Uk0iKSB7CiAgICAgICAgICBuZXh0Lm9uc3VibWl0KG5ldyBTdWJtaXRFdmVudCgic3VibWl0IikpOwog");
    sb.append("ICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBuZXh0ID0gbmV4dC5wYXJlbnRFbGVtZW50");
    sb.append("OwogICAgICB9CiAgICB9KTsKICB9OwoKICAvLyBSVU5USU1FOiA8dGFnIC4uIHJ4OmV2ZW50PSIuLi4g");
    sb.append("Z290bzp1cmkgLi4uIj4KICBzZWxmLm9uR08gPSBmdW5jdGlvbiAoZG9tLCB0eXBlLCBzdGF0ZSwgdmFs");
    sb.append("dWUpIHsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZh");
    sb.append("ciB1cmkgPSAodHlwZW9mICh2YWx1ZSkgPT0gImZ1bmN0aW9uIikgPyB2YWx1ZSgpIDogdmFsdWU7CiAg");
    sb.append("ICAgIHNlbGYuZ290byh1cmkpOwogICAgfSk7CiAgfTsKCiAgLy8gUlVOVElNRTogPHRhZyAuLiByeDpl");
    sb.append("dmVudD0iLi4uIHRvZ2dsZTpuYW1lIC4uLiI+CiAgc2VsZi5vblQgPSBmdW5jdGlvbiAoZG9tLCB0eXBl");
    sb.append("LCBzdGF0ZSwgbmFtZSkgewogICAgdmFyIGNhcHR1cmVkID0geyB2YWx1ZTogZmFsc2UgfTsKICAgIHJl");
    sb.append("Z19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBvYmogPSB7fTsK");
    sb.append("ICAgICAgb2JqW25hbWVdID0gIWNhcHR1cmVkLnZhbHVlOwogICAgICB2YXIgZGVsdGEgPSBwYXRoX3Rv");
    sb.append("KHN0YXRlLnZpZXcsIG9iaik7CiAgICAgIHN0YXRlW3N0YXRlLmN1cnJlbnRdLnRyZWUudXBkYXRlKGRl");
    sb.append("bHRhKTsKICAgIH0pOwogICAgc3Vic2NyaWJlKHN0YXRlLCBuYW1lLCBmdW5jdGlvbiAodmFsdWUpIHsK");
    sb.append("ICAgICAgY2FwdHVyZWQudmFsdWUgPSB2YWx1ZSA9PSB0cnVlOwogICAgfSk7CiAgfTsKCiAgLy8gUlVO");
    sb.append("VElNRTogPHRhZyAuLiByeDpldmVudD0iLi4uIGRlbHRhOm5hbWU9ZGlmZiIgLi4uIj4KICBzZWxmLm9u");
    sb.append("RCA9IGZ1bmN0aW9uIChkb20sIHR5cGUsIHN0YXRlLCBuYW1lLCBkaWZmKSB7CiAgICB2YXIgY2FwdHVy");
    sb.append("ZWQgPSB7IHZhbHVlOiAwIH07CiAgICByZWdfZXZlbnQoc3RhdGUsIGRvbSwgdHlwZSwgZnVuY3Rpb24g");
    sb.append("KCkgewogICAgICB2YXIgb2JqID0ge307CiAgICAgIG9ialtuYW1lXSA9IGNhcHR1cmVkLnZhbHVlICsg");
    sb.append("ZGlmZjsKICAgICAgdmFyIGRlbHRhID0gcGF0aF90byhzdGF0ZS52aWV3LCBvYmopOwogICAgICBzdGF0");
    sb.append("ZVtzdGF0ZS5jdXJyZW50XS50cmVlLnVwZGF0ZShkZWx0YSk7CiAgICB9KTsKICAgIHN1YnNjcmliZShz");
    sb.append("dGF0ZSwgbmFtZSwgZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIGlmICh0eXBlb2YgKHZhbHVlKSA9PSAi");
    sb.append("bnVtYmVyIikgewogICAgICAgIGNhcHR1cmVkLnZhbHVlID0gdmFsdWU7CiAgICAgIH0gZWxzZSB7CiAg");
    sb.append("ICAgICAgdmFyIHZhbCA9IHBhcnNlRmxvYXQodmFsdWUpOwogICAgICAgIGlmICghaXNOYU4odmFsKSkg");
    sb.append("ewogICAgICAgICAgY2FwdHVyZWQudmFsdWUgPSB2YWw7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsK");
    sb.append("ICB9OwogIHNlbGYuQ1NFTiA9IGZ1bmN0aW9uIChwYXJlbnQsIHByaW9yU3RhdGUsIGV2YWxTdGF0ZSwg");
    sb.append("Y2hhbm5lbCwga2V5LCBuYW1lLCBzaG91bGRCZSwgX2V4cGFuZCwgbWFrZXJUcnVlLCBtYWtlckZhbHNl");
    sb.append("KSB7CiAgICB2YXIgY2hvc2VuID0gewogICAgICB2YWx1ZTogIiIsCiAgICAgIG93bmVyOiBwYXJlbnQs");
    sb.append("CiAgICAgIHNob3duOiBmYWxzZSwKICAgICAgZXZhbDogbnVsbAogICAgfTsKICAgIGFkZF91bnN1Yihj");
    sb.append("aG9zZW4pOwogICAgdmFyIGNoYW5nZSA9IGZ1bmN0aW9uIChzaG93KSB7CiAgICAgIGZpcmVfdW5zdWIo");
    sb.append("Y2hvc2VuKTsKICAgICAgbnVrZShwYXJlbnQpOwogICAgICB2YXIgc3RhdGUgPSBmb3JrKHByaW9yU3Rh");
    sb.append("dGUpOwogICAgICBpZiAoc2hvdyA9PT0gc2hvdWxkQmUpIHsKICAgICAgICBtYWtlclRydWUocGFyZW50");
    sb.append("LCBzdGF0ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbWFrZXJGYWxzZShwYXJlbnQsIHN0YXRlKTsK");
    sb.append("ICAgICAgfQogICAgICBzdWJzY3JpYmVfc3RhdGUoc3RhdGUsIGNob3Nlbik7CiAgICB9OwoKICAgIGNo");
    sb.append("b3Nlbi51cGRhdGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBvdXQgPSBwcmlvclN0YXRlLmRhdGEu");
    sb.append("Y29ubmVjdGlvbi5vdXRzdGFuZGluZ1tjaGFubmVsXTsKICAgICAgaWYgKCEob3V0KSkgcmV0dXJuOwoK");
    sb.append("ICAgICAgdmFyIGNob2ljZXMgPSBwcmlvclN0YXRlLmRhdGEuY29ubmVjdGlvbi5jaG9pY2VzOwogICAg");
    sb.append("ICBpZiAoIShjaGFubmVsIGluIGNob2ljZXMpKSB7CiAgICAgICAgY2hvaWNlc1tjaGFubmVsXSA9IHt9");
    sb.append("OwogICAgICB9CiAgICAgIHZhciBjaG9pY2UgPSBjaG9pY2VzW2NoYW5uZWxdOwogICAgICB2YXIgZXZh");
    sb.append("bCA9IGNob3Nlbi52YWx1ZSBpbiBjaG9pY2U7CiAgICAgIGlmIChjaG9zZW4uZXZhbCAhPSBldmFsKSB7");
    sb.append("CiAgICAgICAgY2hvc2VuLmV2YWwgPSBldmFsOwogICAgICAgIGNoYW5nZShjaG9zZW4uZXZhbCk7CiAg");
    sb.append("ICAgIH0KICAgIH07CgogICAgcHJpb3JTdGF0ZS5kYXRhLmNvbm5lY3Rpb24uc3Vic2NyaWJlX2Nob2lj");
    sb.append("ZShjaGFubmVsLCBmdW5jdGlvbiAoKSB7CiAgICAgIGNob3Nlbi51cGRhdGUoKTsKICAgICAgcmV0dXJu");
    sb.append("IHRydWU7CiAgICB9KTsKCiAgICBzdWJzY3JpYmUoZXZhbFN0YXRlLCBuYW1lLCBmdW5jdGlvbiAodmFs");
    sb.append("dWUpIHsKICAgICAgY2hvc2VuLnZhbHVlID0gdmFsdWU7CiAgICAgIGNob3Nlbi51cGRhdGUoKTsKICAg");
    sb.append("IH0pOwogIH07CgogIHNlbGYuREUgPSBmdW5jdGlvbiAocGFyZW50LCBwcmlvclN0YXRlLCBldmFsU3Rh");
    sb.append("dGUsIGNoYW5uZWwsIGtleSwgbmFtZSwgc2hvdWxkQmUsIF9leHBhbmQsIG1ha2VyVHJ1ZSwgbWFrZXJG");
    sb.append("YWxzZSkgewogICAgdmFyIGRlY2lkZSA9IHsKICAgICAgdmFsdWU6ICIiLAogICAgICBvd25lcjogcGFy");
    sb.append("ZW50LAogICAgICBzaG93bjogZmFsc2UsCiAgICAgIGV2YWw6IG51bGwKICAgIH07CiAgICBhZGRfdW5z");
    sb.append("dWIoZGVjaWRlKTsKICAgIHZhciBjaGFuZ2UgPSBmdW5jdGlvbiAoc2hvdykgewogICAgICBmaXJlX3Vu");
    sb.append("c3ViKGRlY2lkZSk7CiAgICAgIG51a2UocGFyZW50KTsKICAgICAgdmFyIHN0YXRlID0gZm9yayhwcmlv");
    sb.append("clN0YXRlKTsKICAgICAgaWYgKHNob3cgPT09IHNob3VsZEJlKSB7CiAgICAgICAgbWFrZXJUcnVlKHBh");
    sb.append("cmVudCwgc3RhdGUpOwogICAgICB9IGVsc2UgewogICAgICAgIG1ha2VyRmFsc2UocGFyZW50LCBzdGF0");
    sb.append("ZSk7CiAgICAgIH0KICAgICAgc3Vic2NyaWJlX3N0YXRlKHN0YXRlLCBkZWNpZGUpOwogICAgfTsKCiAg");
    sb.append("ICBkZWNpZGUudXBkYXRlID0gZnVuY3Rpb24gKCkgewogICAgICB2YXIgZXZhbCA9IGZpbmQocHJpb3JT");
    sb.append("dGF0ZSwgY2hhbm5lbCwga2V5LCBkZWNpZGUudmFsdWUpICE9IG51bGw7CiAgICAgIGlmIChkZWNpZGUu");
    sb.append("ZXZhbCAhPSBldmFsKSB7CiAgICAgICAgZGVjaWRlLmV2YWwgPSBldmFsOwogICAgICAgIGNoYW5nZShk");
    sb.append("ZWNpZGUuZXZhbCk7CiAgICAgIH0KICAgIH07CgogICAgcHJpb3JTdGF0ZS5kYXRhLmNvbm5lY3Rpb24u");
    sb.append("c3Vic2NyaWJlKGNoYW5uZWwsIGZ1bmN0aW9uICgpIHsKICAgICAgZGVjaWRlLnVwZGF0ZSgpOwogICAg");
    sb.append("ICAvLyBUT0RPOiByZXR1cm4gd2hldGhlciBvciBub3QgdGhpcyBuZWVkcyB0byBiZSBheGVkCiAgICAg");
    sb.append("IHJldHVybiB0cnVlOwogICAgfSk7CgogICAgc3Vic2NyaWJlKGV2YWxTdGF0ZSwgbmFtZSwgZnVuY3Rp");
    sb.append("b24gKHZhbHVlKSB7CiAgICAgIGRlY2lkZS52YWx1ZSA9IHZhbHVlOwogICAgICBkZWNpZGUudXBkYXRl");
    sb.append("KCk7CiAgICB9KTsKICB9OwoKICBzZWxmLklGID0gZnVuY3Rpb24gKHBhcmVudCwgcHJpb3JTdGF0ZSwg");
    sb.append("bmFtZSwgc2hvdWxkQmUsIGV4cGFuZFZpZXcsIG1ha2VyVHJ1ZSwgbWFrZXJGYWxzZSkgewogICAgdmFy");
    sb.append("IHVuc3ViID0gbWFrZV91bnN1YigpOwogICAgdmFyIHNldCA9IGZ1bmN0aW9uICh2YWx1ZSkgewogICAg");
    sb.append("ICB2YXIgc2hvdyA9ICh2YWx1ZSA/IHRydWUgOiBmYWxzZSkgPT09IHNob3VsZEJlOwogICAgICBpZiAo");
    sb.append("dGhpcy5zaG93biA9PSBzaG93KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHRoaXMuc2hv");
    sb.append("d24gPSBzaG93OwogICAgICBudWtlKHBhcmVudCk7CiAgICAgIGZpcmVfdW5zdWIodW5zdWIpOwogICAg");
    sb.append("ICB2YXIgc3RhdGUgPSBmb3JrKHByaW9yU3RhdGUpOwogICAgICB2YXIgbmV4dCA9IHN0YXRlOwogICAg");
    sb.append("ICBpZiAodHlwZW9mICh2YWx1ZSkgPT0gIm9iamVjdCIpIHsKICAgICAgICBuZXh0ID0gc2VsZi5wSShu");
    sb.append("ZXh0LCBuYW1lKTsKICAgICAgICBpZiAoZXhwYW5kVmlldykgewogICAgICAgICAgbmV4dCA9IHNlbGYu");
    sb.append("cEVWKG5leHQsIG5hbWUpOwogICAgICAgIH0KICAgICAgfQogICAgICAvLyB3ZSBkZWZhdWx0IGJhY2sg");
    sb.append("dG8gZGF0YSBpbiB0aGUgSUYgY2FzZQogICAgICBuZXh0LmN1cnJlbnQgPSAnZGF0YSc7CiAgICAgIGlm");
    sb.append("IChzaG93KSB7CiAgICAgICAgbWFrZXJUcnVlKHBhcmVudCwgbmV4dCk7CiAgICAgIH0gZWxzZSB7CiAg");
    sb.append("ICAgICAgbWFrZXJGYWxzZShwYXJlbnQsIG5leHQpOwogICAgICB9CiAgICAgIHN1YnNjcmliZV9zdGF0");
    sb.append("ZShzdGF0ZSwgdW5zdWIpOwogICAgfS5iaW5kKHsgc2hvd246ICdubycgfSk7CiAgICBzdWJzY3JpYmUo");
    sb.append("cHJpb3JTdGF0ZSwgbmFtZSwgc2V0KTsKICB9OwoKICAvLy8gUlVOVElNRSB8IHJ4OmFjdGlvbj1jb3B5");
    sb.append("OnBhdGgKICBzZWxmLmFDUCA9IGZ1bmN0aW9uIChmb3JtLCBzdGF0ZSwgbmFtZSkgewogICAgZm9ybS5v");
    sb.append("bnN1Ym1pdCA9IGZ1bmN0aW9uIChldnQpIHsKICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAg");
    sb.append("IHZhciBvYmogPSBnZXRfZm9ybShmb3JtLCBmYWxzZSk7CiAgICAgIGlmIChuYW1lICE9ICIuIiAmJiBu");
    sb.append("YW1lICE9ICIiKSB7CiAgICAgICAgdmFyIG5vID0ge307CiAgICAgICAgbm9bbmFtZV0gPSBvYmo7CiAg");
    sb.append("ICAgICAgb2JqID0gbm87CiAgICAgIH0KICAgICAgdmFyIGRlbHRhID0gcGF0aF90byhzdGF0ZS52aWV3");
    sb.append("LCBvYmopOwogICAgICBzdGF0ZS52aWV3LnRyZWUudXBkYXRlKGRlbHRhKTsKICAgICAgZmlyZV9zdWNj");
    sb.append("ZXNzKGZvcm0pOwogICAgfTsKICB9OwoKICAvLyBSVU5USU1FIHwgPGlucHV0IC4uLiByeDpzeW5jPXBh");
    sb.append("dGggLi4uPgogIHNlbGYuU1kgPSBmdW5jdGlvbiAoZWwsIHN0YXRlLCBuYW1lLCBtcykgewogICAgdmFy");
    sb.append("IHR5cGUgPSAoInR5cGUiIGluIGVsKSA/IGVsLnR5cGUudG9VcHBlckNhc2UoKSA6ICJ0ZXh0IjsKICAg");
    sb.append("IHZhciBzaWduYWwgPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgdmFyIG9iaiA9IHt9OwogICAgICBv");
    sb.append("YmpbbmFtZV0gPSBlbC52YWx1ZTsKICAgICAgdmFyIGRlbHRhID0gcGF0aF90byhzdGF0ZS52aWV3LCBv");
    sb.append("YmopOwogICAgICBzdGF0ZS52aWV3LnRyZWUudXBkYXRlKGRlbHRhKTsKICAgIH07CiAgICBpZiAodHlw");
    sb.append("ZSA9PSAiQ0hFQ0tCT1giKSB7CiAgICAgIGVsLm9uY2hhbmdlID0gZGVib3VuY2UobXMsIGZ1bmN0aW9u");
    sb.append("IChldnQpIHsKICAgICAgICBzaWduYWwoZWwuY2hlY2tlZCA/IHRydWUgOiBmYWxzZSk7CiAgICAgIH0p");
    sb.append("OwogICAgfSBlbHNlIGlmICh0eXBlID09ICJSQURJTyIpIHsKICAgICAgZWwub25jaGFuZ2UgPSBkZWJv");
    sb.append("dW5jZShtcywgZnVuY3Rpb24gKGV2dCkgewogICAgICAgIGlmIChlbC5jaGVja2VkKSB7CiAgICAgICAg");
    sb.append("ICBzaWduYWwoZWwudmFsdWUpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9IGVsc2UgewogICAgICBl");
    sb.append("bC5vbmNoYW5nZSA9IGRlYm91bmNlKG1zLCBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgICAgc2lnbmFsKGVs");
    sb.append("LnZhbHVlKTsKICAgICAgfSk7CiAgICAgIGVsLm9ua2V5dXAgPSBlbC5vbmNoYW5nZTsKICAgICAgd2lu");
    sb.append("ZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHNpZ25hbChlbC52YWx1ZSk7CiAgICAg");
    sb.append("IH0sIDEpOwogICAgfQogIH07CgogIHZhciBmaXJzdE9jY3VyID0gZnVuY3Rpb24oYSwgYikgewogICAg");
    sb.append("aWYgKGEgPiAwICYmIGIgPiAwKSB7CiAgICAgIHJldHVybiBNYXRoLm1pbihhLCBiKTsKICAgIH0KICAg");
    sb.append("IGlmIChhID4gMCkgewogICAgICByZXR1cm4gYTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBiOwog");
    sb.append("ICAgfQogIH07CiAgLy8gSEVMUEVSIHwgZXh0cmFjdCBhbGwgdGhlIGlucHV0cyBmcm9tIHRoZSBnaXZl");
    sb.append("biBlbGVtZW50IGFuZCBidWlsZCBhbiBvYmplY3QKICB2YXIgYnVpbGRfb2JqID0gZnVuY3Rpb24gKGVs");
    sb.append("LCBvYmpUb0luc2VydEludG8sIGFsbG93X3Bhc3N3b3JkcykgewogICAgdmFyIGp1c3RTZXQgPSBlbC50");
    sb.append("YWdOYW1lLnRvVXBwZXJDYXNlKCkgPT0gIlRFWFRBUkVBIiB8fCBlbC50YWdOYW1lLnRvVXBwZXJDYXNl");
    sb.append("KCkgPT0gIlNFTEVDVCI7CiAgICB2YXIgaXNJbnB1dEJveCA9IGVsLnRhZ05hbWUudG9VcHBlckNhc2Uo");
    sb.append("KSA9PSAiSU5QVVQiOwogICAgdmFyIGlzRmllbGRTZXQgPSBlbC50YWdOYW1lLnRvVXBwZXJDYXNlKCkg");
    sb.append("PT0gIkZJRUxEU0VUIjsKICAgIHZhciBoYXNOYW1lID0gIm5hbWUiIGluIGVsOwogICAgdmFyIGluc2Vy");
    sb.append("dEF0ID0gb2JqVG9JbnNlcnRJbnRvOwogICAgLy8gdGhlIGFwcGx5IGZ1bmN0aW9uIGlzIGhvdyB3ZSBp");
    sb.append("bmplY3QgdGhlIHZhbHVlIGludG8gdGhlIG9iamVjdAogICAgdmFyIGFwcGx5ID0gZnVuY3Rpb24gKHZh");
    sb.append("bCkgeyB9OwoKICAgIGlmIChoYXNOYW1lICYmIChqdXN0U2V0IHx8IGlzSW5wdXRCb3ggfHwgaXNGaWVs");
    sb.append("ZFNldCkpIHsKICAgICAgdmFyIG5hbWUgPSAiIjsKICAgICAgbmFtZSA9IGVsLm5hbWU7CiAgICAgIGlm");
    sb.append("IChuYW1lID09ICIiKSB7IC8vIHRoaXMgaXMgYSBzcGVjaWFsIG5hbWUgZm9yIHRoaW5ncyB0aGF0IGRv");
    sb.append("bid0IGdldCBwaWNrZWQgdXAKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIGtEb3RPclNs");
    sb.append("YXNoID0gZmlyc3RPY2N1cihuYW1lLmluZGV4T2YoJy4nKSwgbmFtZS5pbmRleE9mKCcvJykpOwogICAg");
    sb.append("ICB3aGlsZSAoa0RvdE9yU2xhc2ggPiAwKSB7CiAgICAgICAgdmFyIHBhciA9IG5hbWUuc3Vic3RyaW5n");
    sb.append("KDAsIGtEb3RPclNsYXNoKTsKICAgICAgICBpZiAoIShwYXIgaW4gaW5zZXJ0QXQpKSB7CiAgICAgICAg");
    sb.append("ICBpbnNlcnRBdFtwYXJdID0ge307CiAgICAgICAgfQogICAgICAgIGluc2VydEF0ID0gaW5zZXJ0QXRb");
    sb.append("cGFyXTsKICAgICAgICBuYW1lID0gbmFtZS5zdWJzdHJpbmcoa0RvdE9yU2xhc2ggKyAxKTsKICAgICAg");
    sb.append("ICBrRG90T3JTbGFzaCA9IGZpcnN0T2NjdXIobmFtZS5pbmRleE9mKCcuJyksIG5hbWUuaW5kZXhPZign");
    sb.append("LycpKTsKICAgICAgfQoKICAgICAgaWYgKG5hbWUuZW5kc1dpdGgoIisiKSkgewogICAgICAgIC8vIGhl");
    sb.append("cmUsIHdlIHB1c2ggdGhlIHZhbHVlIGludG8gdGhlIGFycmF5CiAgICAgICAgbmFtZSA9IG5hbWUuc3Vi");
    sb.append("c3RyaW5nKDAsIG5hbWUubGVuZ3RoIC0gMSk7CiAgICAgICAgYXBwbHkgPSBmdW5jdGlvbiAodikgewog");
    sb.append("ICAgICAgICAgaWYgKCEobmFtZSBpbiBpbnNlcnRBdCkpIHsKICAgICAgICAgICAgaW5zZXJ0QXRbbmFt");
    sb.append("ZV0gPSBbdl07CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpbnNlcnRBdFtuYW1lXS5wdXNo");
    sb.append("KHYpOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gaGVyZSB3");
    sb.append("ZSBzZXQgdGhlIG9iamVjdAogICAgICAgIGFwcGx5ID0gZnVuY3Rpb24gKHYpIHsKICAgICAgICAgIGlu");
    sb.append("c2VydEF0W25hbWVdID0gdjsKICAgICAgICB9OwogICAgICB9CiAgICB9CgogICAgaWYgKGp1c3RTZXQp");
    sb.append("IHsKICAgICAgYXBwbHkoZWwudmFsdWUpOwogICAgfSBlbHNlIGlmIChpc0ZpZWxkU2V0KSB7CiAgICAg");
    sb.append("IHZhciBuZXh0T2JqZWN0ID0ge307CiAgICAgIGlmICgiY2hpbGRyZW4iIGluIGVsKSB7CiAgICAgICAg");
    sb.append("dmFyIGFyciA9IGVsLmNoaWxkcmVuOwogICAgICAgIHZhciBuID0gYXJyLmxlbmd0aDsKICAgICAgICBm");
    sb.append("b3IgKHZhciBrID0gMDsgayA8IG47IGsrKykgewogICAgICAgICAgdmFyIGNoID0gZWwuY2hpbGRyZW5b");
    sb.append("a107CiAgICAgICAgICBidWlsZF9vYmooY2gsIG5leHRPYmplY3QsIGFsbG93X3Bhc3N3b3Jkcyk7CiAg");
    sb.append("ICAgICAgfQogICAgICB9CiAgICAgIGFwcGx5KG5leHRPYmplY3QpOwogICAgfSBlbHNlIGlmIChpc0lu");
    sb.append("cHV0Qm94KSB7CiAgICAgIHZhciB0eXBlID0gKCJ0eXBlIiBpbiBlbCkgPyBlbC50eXBlLnRvVXBwZXJD");
    sb.append("YXNlKCkgOiAiVEVYVCI7CiAgICAgIGlmICh0eXBlID09ICJTVUJNSVQiIHx8IHR5cGUgPT0gIlJFU0VU");
    sb.append("IikgcmV0dXJuOwogICAgICBpZiAodHlwZSA9PSAiUEFTU1dPUkQiICYmICFhbGxvd19wYXNzd29yZHMp");
    sb.append("IHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKHR5cGUgPT0gIkNIRUNLQk9YIikgewog");
    sb.append("ICAgICAgIGFwcGx5KGVsLmNoZWNrZWQgPyB0cnVlIDogZmFsc2UpOwogICAgICB9IGVsc2UgaWYgKHR5");
    sb.append("cGUgPT0gIlJBRElPIikgewogICAgICAgIGlmIChlbC5jaGVja2VkKSB7CiAgICAgICAgICBhcHBseShl");
    sb.append("bC52YWx1ZSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGFwcGx5KGVsLnZhbHVlKTsK");
    sb.append("ICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgaWYgKCJjaGlsZHJlbiIgaW4gZWwpIHsKICAgICAgICB2");
    sb.append("YXIgYXJyID0gZWwuY2hpbGRyZW47CiAgICAgICAgdmFyIG4gPSBhcnIubGVuZ3RoOwogICAgICAgIGZv");
    sb.append("ciAodmFyIGsgPSAwOyBrIDwgbjsgaysrKSB7CiAgICAgICAgICB2YXIgY2ggPSBlbC5jaGlsZHJlbltr");
    sb.append("XTsKICAgICAgICAgIGJ1aWxkX29iaihjaCwgb2JqVG9JbnNlcnRJbnRvLCBhbGxvd19wYXNzd29yZHMp");
    sb.append("OwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIHNlbGYuQnVpbGRGb3JtT2JqZWN0ID0gZnVu");
    sb.append("Y3Rpb24oZm9ybSkgewogICAgdmFyIG9iaiA9IHt9OwogICAgYnVpbGRfb2JqKGZvcm0sIG9iaiwgZmFs");
    sb.append("c2UpOwogICAgcmV0dXJuIG9iajsKICB9OwoKICAvLyBIRUxQRVIgfCByZXR1cm4gYW4gb2JqZWN0IG9m");
    sb.append("IGFsbCB0aGUgaW5wdXRzIG9mIHRoZSBnaXZlbiBmb3JtIGVsZW1lbnQKICB2YXIgZ2V0X2Zvcm0gPSBm");
    sb.append("dW5jdGlvbiAoZm9ybSwgYWxsb3dfcGFzc3dvcmRzKSB7CiAgICB2YXIgb2JqID0ge307CiAgICBidWls");
    sb.append("ZF9vYmooZm9ybSwgb2JqLCBhbGxvd19wYXNzd29yZHMpOwogICAgcmV0dXJuIG9iajsKICB9OwoKICAv");
    sb.append("LyBIRUxQRVIgfCByZXR1cm4gYSBwYXNzd29yZCBmcm9tIHRoZSBnaXZlbiBmb3JtCiAgdmFyIGdldF9w");
    sb.append("YXNzd29yZCA9IGZ1bmN0aW9uIChlbCkgewogICAgaWYgKGVsLnRhZ05hbWUudG9VcHBlckNhc2UoKSA9");
    sb.append("PSAiSU5QVVQiICYmIGVsLnR5cGUudG9VcHBlckNhc2UoKSA9PSAiUEFTU1dPUkQiKSB7CiAgICAgIHJl");
    sb.append("dHVybiBbZWwubmFtZSwgZWwudmFsdWVdOwogICAgfQogICAgaWYgKCJjaGlsZHJlbiIgaW4gZWwpIHsK");
    sb.append("ICAgICAgdmFyIGFyciA9IGVsLmNoaWxkcmVuOwogICAgICB2YXIgbiA9IGFyci5sZW5ndGg7CiAgICAg");
    sb.append("IGZvciAodmFyIGsgPSAwOyBrIDwgbjsgaysrKSB7CiAgICAgICAgdmFyIGNoID0gZWwuY2hpbGRyZW5b");
    sb.append("a107CiAgICAgICAgdmFyIHJlc3VsdCA9IGdldF9wYXNzd29yZChjaCk7CiAgICAgICAgaWYgKHJlc3Vs");
    sb.append("dCAhPT0gbnVsbCkgewogICAgICAgICAgcmV0dXJuIHJlc3VsdDsKICAgICAgICB9CiAgICAgIH0KICAg");
    sb.append("IH0KICAgIHJldHVybiBudWxsOwogIH07CgogIHZhciB3cmFwcGVycyA9IHt9OwogIHZhciB3cmFwcGVy");
    sb.append("c19vbmxvYWQgPSB7fTsKICBzZWxmLlBSV1AgPSBmdW5jdGlvbiAobmFtZSwgZm9vKSB7CiAgICB3cmFw");
    sb.append("cGVyc1tuYW1lXSA9IGZvbzsKICAgIGlmIChuYW1lIGluIHdyYXBwZXJzX29ubG9hZCkgewogICAgICB2");
    sb.append("YXIgdG9sb2FkID0gd3JhcHBlcnNfb25sb2FkW25hbWVdOwogICAgICBmb3IgKHZhciBrID0gMDsgayA8");
    sb.append("IHRvbG9hZC5sZW5ndGg7IGsrKykgewogICAgICAgIHRvbG9hZFtrXSgpOwogICAgICB9CiAgICB9CiAg");
    sb.append("fTsKCiAgLy8gPC4uLiByeDp3cmFwPWNvbnN0ID4KICBzZWxmLldQID0gZnVuY3Rpb24gKGRvbSwgc3Rh");
    sb.append("dGUsIG5hbWUsIHJ4b2JqLCBjaGlsZE1ha2VyV2l0aENhc2UpIHsKICAgIGlmIChuYW1lIGluIHdyYXBw");
    sb.append("ZXJzKSB7CiAgICAgIHdyYXBwZXJzW25hbWVdKGRvbSwgc3RhdGUsIHJ4b2JqLCBjaGlsZE1ha2VyV2l0");
    sb.append("aENhc2UsIHNlbGYpOwogICAgfSBlbHNlIHsKICAgICAgdmFyIGxvYWRlciA9IGZ1bmN0aW9uICgpIHsK");
    sb.append("ICAgICAgICB3cmFwcGVyc1tuYW1lXShkb20sIHN0YXRlLCByeG9iaiwgY2hpbGRNYWtlcldpdGhDYXNl");
    sb.append("LCBzZWxmKTsKICAgICAgfTsKICAgICAgaWYgKG5hbWUgaW4gd3JhcHBlcnNfb25sb2FkKSB7CiAgICAg");
    sb.append("ICAgd3JhcHBlcnNfb25sb2FkW25hbWVdLnB1c2gobG9hZGVyKTsKICAgICAgfSBlbHNlIHsKICAgICAg");
    sb.append("ICB3cmFwcGVyc19vbmxvYWRbbmFtZV0gPSBbbG9hZGVyXTsKICAgICAgfQogICAgfQogIH07CgogIC8v");
    sb.append("IFJVTlRJTUUgfCByZWdpc3RlciB0aGUgcGFnZSBmb3IgdGhlIHVyaSB0byB0aGUgZ2l2ZW4gZm9vKCku");
    sb.append("CiAgc2VsZi5QRyA9IGZ1bmN0aW9uICh1cmksIGZvbykgewogICAgdmFyIGhlYWQgPSByb3V0ZXI7CiAg");
    sb.append("ICBmb3IgKHZhciBrID0gMDsgayA8IHVyaS5sZW5ndGg7IGsrKykgewogICAgICB2YXIgcGFydCA9IHVy");
    sb.append("aVtrXTsKICAgICAgaWYgKCEocGFydCBpbiBoZWFkKSkgewogICAgICAgIGhlYWRbcGFydF0gPSB7fTsK");
    sb.append("ICAgICAgfQogICAgICBoZWFkID0gaGVhZFtwYXJ0XTsKICAgIH0KICAgIGhlYWRbIkAiXSA9IGZvbzsK");
    sb.append("ICB9OwoKICB2YXIgcm91dGUgPSBmdW5jdGlvbiAocGFydHMsIGF0LCBoZWFkLCB2aWV3KSB7CiAgICBp");
    sb.append("ZiAoYXQgPCBwYXJ0cy5sZW5ndGgpIHsKICAgICAgaWYgKCJudW1iZXIiIGluIGhlYWQpIHsKICAgICAg");
    sb.append("ICB2YXIgbmVjayA9IGhlYWRbIm51bWJlciJdOwogICAgICAgIHZhciB2YWwgPSBwYXJzZUZsb2F0KHBh");
    sb.append("cnRzW2F0XSk7CiAgICAgICAgaWYgKCFpc05hTih2YWwpKSB7CiAgICAgICAgICBmb3IgKHZhciBicmFu");
    sb.append("Y2ggaW4gbmVjaykgewogICAgICAgICAgICB2aWV3W2JyYW5jaF0gPSB2YWw7CiAgICAgICAgICAgIHZh");
    sb.append("ciBjYW5kaWRhdGUgPSByb3V0ZShwYXJ0cywgYXQgKyAxLCBuZWNrW2JyYW5jaF0sIHZpZXcpOwogICAg");
    sb.append("ICAgICAgICBpZiAoY2FuZGlkYXRlICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgcmV0dXJuIGNhbmRp");
    sb.append("ZGF0ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBkZWxldGUgdmlld1ticmFuY2hdOwogICAgICAg");
    sb.append("ICAgfQogICAgICAgIH0KCiAgICAgIH0KICAgICAgaWYgKCJ0ZXh0IiBpbiBoZWFkKSB7CiAgICAgICAg");
    sb.append("dmFyIG5lY2sgPSBoZWFkWyJ0ZXh0Il07CiAgICAgICAgdmFyIHZhbCA9IHBhcnRzW2F0XTsKICAgICAg");
    sb.append("ICBmb3IgKHZhciBicmFuY2ggaW4gbmVjaykgewogICAgICAgICAgdmlld1ticmFuY2hdID0gdmFsOwog");
    sb.append("ICAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IHJvdXRlKHBhcnRzLCBhdCArIDEsIG5lY2tbYnJhbmNoXSwg");
    sb.append("dmlldyk7CiAgICAgICAgICBpZiAoY2FuZGlkYXRlICE9PSBudWxsKSB7CiAgICAgICAgICAgIHJldHVy");
    sb.append("biBjYW5kaWRhdGU7CiAgICAgICAgICB9CiAgICAgICAgICBkZWxldGUgdmlld1ticmFuY2hdOwogICAg");
    sb.append("ICAgIH0KICAgICAgfQogICAgICBpZiAoImZpeGVkIiBpbiBoZWFkKSB7CiAgICAgICAgdmFyIG5lY2sg");
    sb.append("PSBoZWFkWyJmaXhlZCJdOwogICAgICAgIGZvciAodmFyIGJyYW5jaCBpbiBuZWNrKSB7CiAgICAgICAg");
    sb.append("ICBpZiAoYnJhbmNoID09IHBhcnRzW2F0XSkgewogICAgICAgICAgICB2YXIgY2FuZGlkYXRlID0gcm91");
    sb.append("dGUocGFydHMsIGF0ICsgMSwgbmVja1ticmFuY2hdLCB2aWV3KTsKICAgICAgICAgICAgaWYgKGNhbmRp");
    sb.append("ZGF0ZSAhPT0gbnVsbCkgewogICAgICAgICAgICAgIHJldHVybiBjYW5kaWRhdGU7CiAgICAgICAgICAg");
    sb.append("IH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGlmICgiQCIg");
    sb.append("aW4gaGVhZCkgewogICAgICAgIHJldHVybiBoZWFkWyJAIl07CiAgICAgIH0KICAgIH0KICB9OwoKICBz");
    sb.append("ZWxmLmdvdG8gPSBmdW5jdGlvbiAodXJpKSB7CiAgICBjb25zb2xlLmxvZygiZ29pbmcgdG86IiArIHVy");
    sb.append("aSk7CiAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIGlmICh1cmkuc3RhcnRz");
    sb.append("V2l0aCgiLyIpKSB7CiAgICAgICAgc2VsZi5ydW4oZG9jdW1lbnQuYm9keSwgdXJpLCB0cnVlKTsKICAg");
    sb.append("ICAgfSBlbHNlIHsKICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IGZpeEhyZWYodXJpKTsKICAg");
    sb.append("ICAgfQogICAgfSwgMTApOwogIH07CgogIHNlbGYuaW5pdCA9IGZ1bmN0aW9uICgpIHsKICAgIHNlbGYu");
    sb.append("cnVuKGRvY3VtZW50LmJvZHksIGZpeFBhdGgod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICsgd2luZG93");
    sb.append("LmxvY2F0aW9uLmhhc2gpLCBmYWxzZSk7CiAgICB3aW5kb3cub25wb3BzdGF0ZSA9IGZ1bmN0aW9uICgp");
    sb.append("IHsKICAgICAgc2VsZi5ydW4oZG9jdW1lbnQuYm9keSwgZml4UGF0aCh3aW5kb3cubG9jYXRpb24ucGF0");
    sb.append("aG5hbWUgKyB3aW5kb3cubG9jYXRpb24uaGFzaCksIGZhbHNlKTsKICAgIH07CiAgfTsKCiAgLy8gQVBJ");
    sb.append("IHwgUnVuIHRoZSBwYWdlIGluIHRoZSBnaXZlbiBwbGFjZQogIHNlbGYucnVuID0gZnVuY3Rpb24gKHdo");
    sb.append("ZXJlLCByYXdQYXRoLCBwdXNoKSB7CiAgICB2YXIgcGF0aCA9IHJhd1BhdGg7CiAgICB3aGlsZSAocGF0");
    sb.append("aC5lbmRzV2l0aCgiLyIpICYmIHBhdGggIT0gIi8iKSB7CiAgICAgIHBhdGggPSBwYXRoLnN1YnN0cmlu");
    sb.append("ZygwLCBwYXRoLmxlbmd0aCAtIDEpOwogICAgfQogICAgZm9yIChjb25LZXkgaW4gY29ubmVjdGlvbnMp");
    sb.append("IHsKICAgICAgY29ubmVjdGlvbnNbY29uS2V5XS50cmVlLm51a2UoKTsKICAgICAgY29ubmVjdGlvbnNb");
    sb.append("Y29uS2V5XS5udWtlKCk7CiAgICB9CiAgICB2YXIgcGFydHMgPSAocGF0aC5zdGFydHNXaXRoKCIvIikg");
    sb.append("PyBwYXRoLnN1YnN0cmluZygxKSA6IHBhdGgpLnNwbGl0KCIvIik7CiAgICB2YXIgaW5pdCA9IHt9Owog");
    sb.append("ICAgdmFyIGZvbyA9IHJvdXRlKHBhcnRzLCAwLCByb3V0ZXIsIGluaXQpOwogICAgbnVrZSh3aGVyZSk7");
    sb.append("CiAgICBpZiAoZm9vICE9IG51bGwpIHsKICAgICAgdmFyIHN0YXRlID0geyBzZXJ2aWNlOiBjb25uZWN0");
    sb.append("aW9uLCBkYXRhOiBudWxsLCB2aWV3OiBmcmVzaCh3aGVyZSksIGN1cnJlbnQ6ICJ2aWV3IiB9OwogICAg");
    sb.append("ICBzdGF0ZS52aWV3LmluaXQgPSBpbml0OwogICAgICBmb28od2hlcmUsIHN0YXRlKTsKICAgICAgc3Rh");
    sb.append("dGUudmlldy50cmVlLnN1YnNjcmliZShzdGF0ZS52aWV3LmRlbHRhKTsKICAgICAgc3RhdGUudmlldy50");
    sb.append("cmVlLnVwZGF0ZShpbml0KTsKICAgICAgaWYgKHB1c2gpIHsKICAgICAgICB3aW5kb3cuaGlzdG9yeS5w");
    sb.append("dXNoU3RhdGUoe30sICIiLCBmaXhIcmVmKHBhdGgpKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAg");
    sb.append("aWYgKHBhdGggIT0gIi80MDQiKSB7CiAgICAgICAgc2VsZi5ydW4od2hlcmUsICIvNDA0Iik7CiAgICAg");
    sb.append("IH0gZWxzZSB7CiAgICAgICAgLy8gZGVmYXVsdCA0MDQKICAgICAgfQogICAgfQogICAgd2hlcmUuYXBw");
    sb.append("ZW5kQ2hpbGQoY29ubmVjdGlvbk1vbml0b3JEb20pOwogIH07CgogIHZhciBpZGVudGl0aWVzID0ge307");
    sb.append("CgogIHNlbGYuU0lHTk9VVCA9IGZ1bmN0aW9uICgpIHsKICAgIGlkZW50aXRpZXMgPSB7fTsKICAgIGxv");
    sb.append("Y2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJpZGVudGl0eV9kZWZhdWx0Iik7CiAgICB2YXIgYXhlID0gW107");
    sb.append("CiAgICBmb3IgKHZhciBjaWQgaW4gY29ubmVjdGlvbnMpIHsKICAgICAgdmFyIGNvID0gY29ubmVjdGlv");
    sb.append("bnNbY2lkXTsKICAgICAgaWYgKGNvLnB0ciAhPSBudWxsKSB7CiAgICAgICAgY28ucHRyLmVuZCh7IHN1");
    sb.append("Y2Nlc3M6IGZ1bmN0aW9uICgpIHsgfSwgZmFpbHVyZTogZnVuY3Rpb24gKCkgeyB9IH0pOwogICAgICB9");
    sb.append("CiAgICAgIGF4ZS5wdXNoKGNpZCk7CiAgICB9CiAgICBmb3IgKHZhciBrID0gMDsgayA8IGF4ZS5sZW5n");
    sb.append("dGg7IGsrKykgewogICAgICBkZWxldGUgY29ubmVjdGlvbnNbYXhlW2tdXTsKICAgIH0KCiAgICBzZWxm");
    sb.append("LmdvdG8oIi8iKTsKICB9OwoKICBzZWxmLkdPT0dMRV9TSUdOX09OID0gZnVuY3Rpb24gKGFjY2Vzc1Rv");
    sb.append("a2VuKSB7CiAgICBjb25uZWN0aW9uLkluaXRDb252ZXJ0R29vZ2xlVXNlcihhY2Nlc3NUb2tlbiwgewog");
    sb.append("ICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocGF5bG9hZCkgewogICAgICAgIGlkZW50aXRpZXNbImRlZmF1");
    sb.append("bHQiXSA9IHBheWxvYWQuaWRlbnRpdHk7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImlkZW50");
    sb.append("aXR5X2RlZmF1bHQiLCBwYXlsb2FkLmlkZW50aXR5KTsKICAgICAgICBzZWxmLmdvdG8oIi8iKTsKICAg");
    sb.append("ICAgfSwKICAgICAgZmFpbHVyZTogZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgIGNvbnNvbGUubG9n");
    sb.append("KCJHb29nbGUgZmFpbHVyZTogIiArIHJlYXNvbik7CiAgICAgIH0KICAgIH0pOwogIH07CgogIC8qKiBS");
    sb.append("VU5USU1FIHwgcmVkaXJlY3QgdG8gYSBwYWdlIHdpdGggc3RhdGUgKi8KICBzZWxmLmFSRHAgPSBmdW5j");
    sb.append("dGlvbiAoc3RhdGUsIHB1bGxlcikgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHVy");
    sb.append("aSA9IHB1bGxlcihzdGF0ZS52aWV3LmluaXQpOwogICAgICByZXR1cm4gdXJpOwogICAgfTsKICB9OwoK");
    sb.append("ICAvKiogUlVOVElNRSB8IHJlZGlyZWN0IHRvIGEgc3RhdGljIHBhZ2UgKi8KICBzZWxmLmFSRHogPSBm");
    sb.append("dW5jdGlvbiAocmF3KSB7CiAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICByZXR1cm4gcmF3Owog");
    sb.append("ICAgfQogIH07CgogIC8qKiBmb3IgY3VzdG9tIGVsZW1lbnRzIHRvIGxlYXJuIG9mIHRoZSBpZGVudGl0");
    sb.append("eSAqLwogIHNlbGYuSUQgPSBmdW5jdGlvbiAoaWRlbnRpdHlOYW1lLCByZWRpcmVjdFRvRnVuYykgewog");
    sb.append("ICAgaWYgKGlkZW50aXR5TmFtZSA9PT0gdHJ1ZSkgewogICAgICBpZGVudGl0eU5hbWUgPSAiZGVmYXVs");
    sb.append("dCI7CiAgICB9CiAgICAvLyBJRiBpZGVudGl0eSBjb250YWlucyBkb3RzCiAgICB2YXIgaWRlbnRpdHkg");
    sb.append("PSBudWxsOwogICAgdmFyIGNsZWFudXAgPSBmdW5jdGlvbiAoKSB7CiAgICB9OwoKICAgIHZhciB2YWwg");
    sb.append("PSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiaWRlbnRpdHlfIiArIGlkZW50aXR5TmFtZSk7CiAgICBpZiAo");
    sb.append("dmFsKSB7CiAgICAgIGlkZW50aXRpZXNbaWRlbnRpdHlOYW1lXSA9IHZhbDsKICAgIH0KCiAgICBpZiAo");
    sb.append("aWRlbnRpdHlOYW1lLnN0YXJ0c1dpdGgoImRpcmVjdDoiKSkgewogICAgICAvLyBVc2UsIGFzIGlzCiAg");
    sb.append("ICAgIGlkZW50aXR5ID0gaWRlbnRpdHlOYW1lLnN1YnN0cmluZyg3KTsKICAgIH0gZWxzZSBpZiAoaWRl");
    sb.append("bnRpdHlOYW1lIGluIGlkZW50aXRpZXMpIHsKICAgICAgaWRlbnRpdHkgPSBpZGVudGl0aWVzW2lkZW50");
    sb.append("aXR5TmFtZV07CiAgICAgIGNsZWFudXAgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgZGVsZXRlIGlkZW50");
    sb.append("aXRpZXNbaWRlbnRpdHlOYW1lXTsKICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgiaWRlbnRp");
    sb.append("dHlfIiArIGlkZW50aXR5TmFtZSk7CiAgICAgICAgc2VsZi5nb3RvKHJlZGlyZWN0VG9GdW5jKCkpOwog");
    sb.append("ICAgICB9OwogICAgfSBlbHNlIHsKICAgICAgLy8gd2hhdGV2ZXIgcGFnZSB3ZSBhcmUsIG5lZWRzIHRv");
    sb.append("IGRpZSB3aGljaCBtZWFucyB3ZSBuZWVkIHRvIG51a2UgZXZlcnl0aGluZyEKICAgICAgd2luZG93LnNl");
    sb.append("dFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHNlbGYuZ290byhyZWRpcmVjdFRvRnVuYygpKTsK");
    sb.append("ICAgICAgfSwgMTApOwogICAgICByZXR1cm4geyBhYm9ydDogdHJ1ZSB9OwogICAgfQoKICAgIHJldHVy");
    sb.append("biB7IGFib3J0OiBmYWxzZSwgY2xlYW51cDogY2xlYW51cCwgaWRlbnRpdHk6IGlkZW50aXR5IH07CiAg");
    sb.append("fTsKCiAgLyogRm9yIGN1c3RvbSBjYWxsYmFja3MgdG8gcmVkaXJlY3QgYW5kIGludmFsaWRhdGUgSUQg");
    sb.append("ZmFpbHVyZXMgKi8KICBzZWxmLkZJRENMID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBsb29rdXApIHsKICAg");
    sb.append("IHJldHVybiB7CiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXN1bHQpIHsKICAgICAgICBjYWxsYmFj");
    sb.append("ay5zdWNjZXNzKHJlc3VsdCk7CiAgICAgIH0sCiAgICAgIG5leHQ6IGZ1bmN0aW9uIChpdGVtKSB7CiAg");
    sb.append("ICAgICAgY2FsbGJhY2submV4dChpdGVtKTsKICAgICAgfSwKICAgICAgY29tcGxldGU6IGZ1bmN0aW9u");
    sb.append("ICgpIHsKICAgICAgICBjYWxsYmFjay5jb21wbGV0ZSgpOwogICAgICB9LAogICAgICBmYWlsdXJlOiBm");
    sb.append("dW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgY2FsbGJhY2suZmFpbHVyZShyZWFzb24pOwogICAgICAg");
    sb.append("IGlmIChyZWFzb24gPT0gNDAzNDAzKSB7CiAgICAgICAgICBsb29rdXAuY2xlYW51cCgpOwogICAgICAg");
    sb.append("IH0KICAgICAgfQogICAgfTsKICB9OwoKICB2YXIgY3VzdG9tRGF0YVNvdXJjZXMgPSB7fTsKCiAgLyoq");
    sb.append("IHByb3ZpZGUgY3VzdG9tIGRhdGEgKi8KICBzZWxmLlBSQ1VEQSA9IGZ1bmN0aW9uIChuYW1lLCBmb28p");
    sb.append("IHsKICAgIGN1c3RvbURhdGFTb3VyY2VzW25hbWVdID0gZm9vOwogIH07CgogIC8vIDxjdXN0b21kYXRh");
    sb.append("IHNyYz1zcmMgKHBhcmFtZXRlcjp4PXkpKiA+CiAgc2VsZi5DVURBID0gZnVuY3Rpb24gKHBhcmVudCwg");
    sb.append("cHJpb3JTdGF0ZSwgc3JjLCByeG9iaiwgcmVkaXJlY3RUbywgY2hpbGRNYWtlcikgewogICAgdmFyIHVu");
    sb.append("c3ViID0gbWFrZV91bnN1YigpOwogICAgcnhvYmouX18gPSBkZWJvdW5jZSgxMCwgZnVuY3Rpb24gKCkg");
    sb.append("ewogICAgICBmaXJlX3Vuc3ViKHVuc3ViKTsKICAgICAgbnVrZShwYXJlbnQpOwogICAgICB2YXIgY3Vz");
    sb.append("dG9tVHJlZSA9IGZhbHNlOwogICAgICBpZiAoc3JjIGluIGN1c3RvbURhdGFTb3VyY2VzKSB7CiAgICAg");
    sb.append("ICAgdmFyIGNvbnMgPSBjdXN0b21EYXRhU291cmNlc1tzcmNdOwogICAgICAgIGlmICh0eXBlb2YgKGNv");
    sb.append("bnMpID09ICJmdW5jdGlvbiIpIHsKICAgICAgICAgIGN1c3RvbVRyZWUgPSBjb25zKHJ4b2JqLCBwcmlv");
    sb.append("clN0YXRlLCByZWRpcmVjdFRvLCBzZWxmKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKCFjdXN0");
    sb.append("b21UcmVlKSB7CiAgICAgICAgY3VzdG9tVHJlZSA9IG5ldyBBZGFtYVRyZWUoKTsKICAgICAgfQogICAg");
    sb.append("ICB2YXIgc3RhdGUgPSB7CiAgICAgICAgc2VydmljZTogcHJpb3JTdGF0ZS5zZXJ2aWNlLAogICAgICAg");
    sb.append("IGRhdGE6IHsgY29ubmVjdGlvbjogcHJpb3JTdGF0ZS5jb25uZWN0aW9uLCB0cmVlOiBjdXN0b21UcmVl");
    sb.append("LCBkZWx0YToge30sIHBhcmVudDogbnVsbCwgcGF0aDogbnVsbCB9LAogICAgICAgIHZpZXc6IG5ld19k");
    sb.append("ZWx0YV9jb3B5KHByaW9yU3RhdGUudmlldyksCiAgICAgICAgY3VycmVudDogImRhdGEiCiAgICAgIH07");
    sb.append("CiAgICAgIGNoaWxkTWFrZXIoc3RhdGUpOwogICAgICBzdWJzY3JpYmVfc3RhdGUoc3RhdGUsIHVuc3Vi");
    sb.append("KTsKICAgIH0pOwogIH07CgogIC8vIDx0aXRsZSB2YWx1ZT0iLi4uIiAvPgogIHNlbGYuU1QgPSBmdW5j");
    sb.append("dGlvbiAocnhvYmopIHsKICAgIGRvY3VtZW50LnRpdGxlID0gcnhvYmoudmFsdWU7CiAgICByeG9iai5f");
    sb.append("XyA9IGRlYm91bmNlKDEsIGZ1bmN0aW9uICgpIHsKICAgICAgZG9jdW1lbnQudGl0bGUgPSByeG9iai52");
    sb.append("YWx1ZTsKICAgIH0pOwogIH07CgogIC8vIDx2aWV3c3luYz4KICBzZWxmLlZTeSA9IGZ1bmN0aW9uIChw");
    sb.append("YXJlbnQsIHByaW9yU3RhdGUsIGF2YWlsLCBub3RhdmFpbCkgewogICAgdmFyIHVuc3ViID0gbWFrZV91");
    sb.append("bnN1YigpOwogICAgcHJpb3JTdGF0ZS5kYXRhLmNvbm5lY3Rpb24uc3Vic2NyaWJlX3N5bmMoZnVuY3Rp");
    sb.append("b24gKHN5bmNlZCkgewogICAgICBudWtlKHBhcmVudCk7CiAgICAgIGZpcmVfdW5zdWIodW5zdWIpOwog");
    sb.append("ICAgICB2YXIgc3RhdGUgPSBmb3JrKHByaW9yU3RhdGUpOwogICAgICBpZiAoc3luY2VkKSB7CiAgICAg");
    sb.append("ICAgYXZhaWwocGFyZW50LCBzdGF0ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbm90YXZhaWwocGFy");
    sb.append("ZW50LCBzdGF0ZSk7CiAgICAgIH0KICAgICAgc3Vic2NyaWJlX3N0YXRlKHN0YXRlLCB1bnN1Yik7CiAg");
    sb.append("ICAgIC8vIFRPRE86IHJldHVybiBmYWxzZSB0byB1bnN1YgogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0p");
    sb.append("OwogIH07CgogIHZhciBiaW5kX3Jlc3BvbmRlciA9IGZ1bmN0aW9uIChjbywgc3RhdGUsIGNsZWFudXAs");
    sb.append("IHJldHJ5X3NtKSB7CiAgICByZXRyeV9zbS51bmV4cGVjdGVkX2Vycm9ycyA9IDA7CiAgICByZXRyeV9z");
    sb.append("bS5iYWNrb2ZmID0gMTsKICAgIHJldHVybiB7CiAgICAgIG5leHQ6IGZ1bmN0aW9uIChwYXlsb2FkKSB7");
    sb.append("CiAgICAgICAgY28uZGVidWdnZXIocGF5bG9hZCk7CiAgICAgICAgY28uc2V0X2Nvbm5lY3RlZCh0cnVl");
    sb.append("KTsKICAgICAgICByZXRyeV9zbS51bmV4cGVjdGVkX2Vycm9ycyA9IDA7CiAgICAgICAgcmV0cnlfc20u");
    sb.append("YmFja29mZiA9IDE7CiAgICAgICAgaWYgKCJkYXRhIiBpbiBwYXlsb2FkLmRlbHRhKSB7CiAgICAgICAg");
    sb.append("ICBjby50cmVlLnVwZGF0ZShwYXlsb2FkLmRlbHRhLmRhdGEpOwogICAgICAgIH0KICAgICAgICBpZiAo");
    sb.append("Im91dHN0YW5kaW5nIiBpbiBwYXlsb2FkLmRlbHRhKSB7CiAgICAgICAgICBjby5vbmRlY2lkZShwYXls");
    sb.append("b2FkLmRlbHRhLm91dHN0YW5kaW5nKTsKICAgICAgICB9CiAgICAgICAgaWYgKCd2aWV3c3RhdGUnIGlu");
    sb.append("IHBheWxvYWQuZGVsdGEpIHsKICAgICAgICAgIHN0YXRlLnZpZXcudHJlZS51cGRhdGUocGF5bG9hZC5k");
    sb.append("ZWx0YS52aWV3c3RhdGUpOwogICAgICAgIH0KICAgICAgICBpZiAoJ2xvZycgaW4gcGF5bG9hZC5kZWx0");
    sb.append("YSkgewogICAgICAgICAgY29uc29sZS5sb2cocGF5bG9hZC5kZWx0YS5sb2cpOwogICAgICAgIH0KICAg");
    sb.append("ICAgICBpZiAoJ3ZpZXdwb3J0JyBpbiBwYXlsb2FkLmRlbHRhICYmICdtZXNzYWdlJyBpbiBwYXlsb2Fk");
    sb.append("LmRlbHRhKSB7CiAgICAgICAgICB2YXIgdmlld3BvcnQgPSBwYXlsb2FkLmRlbHRhLnZpZXdwb3J0Owog");
    sb.append("ICAgICAgICAgaWYgKHZpZXdwb3J0IGluIGNvLmhhbmRsZXJzKSB7CiAgICAgICAgICAgIGNvLmhhbmRs");
    sb.append("ZXJzW3ZpZXdwb3J0XShwYXlsb2FkLmRlbHRhLm1lc3NhZ2UsIGNvKTsKICAgICAgICAgIH0KICAgICAg");
    sb.append("ICB9CiAgICAgICAgaWYgKCd2aWV3LXN0YXRlLWZpbHRlcicgaW4gcGF5bG9hZC5kZWx0YSkgewogICAg");
    sb.append("ICAgICAgdmFyIGZpbHRlciA9IHt9OwogICAgICAgICAgdmFyIGtleXMgPSBwYXlsb2FkLmRlbHRhWyd2");
    sb.append("aWV3LXN0YXRlLWZpbHRlciddOwogICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBrZXlzLmxlbmd0");
    sb.append("aDsgaysrKSB7CiAgICAgICAgICAgIGZpbHRlcltrZXlzW2tdXSA9IHRydWU7CiAgICAgICAgICB9CiAg");
    sb.append("ICAgICAgICBjby5maWx0ZXIgPSBmaWx0ZXI7CiAgICAgICAgICBjby5oYXNfZmlsdGVyID0gdHJ1ZTsK");
    sb.append("ICAgICAgICB9CiAgICAgICAgaWYgKCdnb3RvJyBpbiBwYXlsb2FkLmRlbHRhKSB7CiAgICAgICAgICBz");
    sb.append("ZWxmLmdvdG8ocGF5bG9hZC5kZWx0YS5nb3RvKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGNvbXBs");
    sb.append("ZXRlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgLy8gc2hvdWxkbid0IHJlYWxpc3RpY2FsbHkgaGFwcGVu");
    sb.append("IFRPRE86IHZhbGlkYXRlIDwtIHRydXRoCiAgICAgICAgY28uc2V0X2Nvbm5lY3RlZChmYWxzZSk7CiAg");
    sb.append("ICAgICAgY28ucHRyID0gbnVsbDsKICAgICAgfSwKICAgICAgZmFpbHVyZTogZnVuY3Rpb24gKHJlYXNv");
    sb.append("bikgewogICAgICAgIC8vIHJlZ2lzdGVyIHRoZSBmYWlsdXJlCiAgICAgICAgY28uc2V0X2Nvbm5lY3Rl");
    sb.append("ZChmYWxzZSk7CiAgICAgICAgY28ucHRyID0gbnVsbDsKICAgICAgICBpZiAocmVhc29uID09IDQwMzQw");
    sb.append("MykgewogICAgICAgICAgY2xlYW51cCgpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAg");
    sb.append("ICAvLyBpcyBpdCBhbiBleHBlY3RlZCBlcnJvciB0aGF0IHdpbGwgaGFwcGVuIGEgYnVuY2g/CiAgICAg");
    sb.append("ICAgdmFyIGV4cGVjdGVkX2Vycm9yID0gcmVhc29uID09IDk5OTsKICAgICAgICAvLyBkbyB3ZSBub3Qg");
    sb.append("a25vdyBhYm91dCBhbiBlcnJvciB0aGF0IGhhcHBlbnMgYSBidW5jaD8gaWYgc28sIHRoZW4gbGV0J3Mg");
    sb.append("YXQgbGVhc3QgdHJ5IGFnYWluIGEgbnVtYmVyIG9mIGZpbml0ZSB0aW1lcy4KICAgICAgICB2YXIgYmxp");
    sb.append("bmRfcmV0cnkgPSByZXRyeV9zbS51bmV4cGVjdGVkX2Vycm9ycyA8IDEwOwogICAgICAgIGlmIChibGlu");
    sb.append("ZF9yZXRyeSkgewogICAgICAgICAgcmV0cnlfc20udW5leHBlY3RlZF9lcnJvcnMrKzsKICAgICAgICB9");
    sb.append("CiAgICAgICAgLy8gcmV0cnkgb24gZWl0aGVyIGNhc2UKICAgICAgICBpZiAoZXhwZWN0ZWRfZXJyb3Ig");
    sb.append("fHwgYmxpbmRfcmV0cnkpIHsKICAgICAgICAgIHJldHJ5X3NtLmJhY2tvZmYgPSBNYXRoLmNlaWwoTWF0");
    sb.append("aC5taW4ocmV0cnlfc20uYmFja29mZiArIE1hdGgucmFuZG9tKCkgKiByZXRyeV9zbS5iYWNrb2ZmICsg");
    sb.append("KGJsaW5kX3JldHJ5ID8gMTAwIDogMSksIDEwMDApKTsKICAgICAgICAgIGNvbnNvbGUubG9nKCJjb25u");
    sb.append("ZWN0LWZhaWx1cmV8cmV0cnlpbmcuLi4gKCIgKyByZXRyeV9zbS5iYWNrb2ZmICsgIik7IHJlYXNvbj0i");
    sb.append("ICsgcmVhc29uICsgKGJsaW5kX3JldHJ5ID8gIiBbYmxpbmRdIiA6ICIiKSk7CiAgICAgICAgICAvLyBU");
    sb.append("T0RPOiBuZWVkIGEgZGlmZmVyZW50IGZlZWRiYWNrIG1lY2hhbmlzbSAobWF5YmUgYSBudW1iZXIgdW5k");
    sb.append("ZXIgdGhlIHdpZmkgaWNvbj8pCiAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHsK");
    sb.append("ICAgICAgICAgICAgcmV0cnlfc20uZ28oKTsKICAgICAgICAgIH0sIHJldHJ5X3NtLmJhY2tvZmYpOwog");
    sb.append("ICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiZ2F2ZSB1cCBjb25uZWN0aW9uOyIg");
    sb.append("KyBjby5sYWJlbCArICI7IHJlYXNvbj0iICsgcmVhc29uKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0K");
    sb.append("ICB9OwoKICB2YXIgc2V0dXBfY28gPSBmdW5jdGlvbihkZXNpcmVkLCB1bnN1YiwgY28sIHN0YXRlKSB7");
    sb.append("CiAgICB2YXIgc3luY190cmVlID0gZnVuY3Rpb24gKCkgewogICAgICAvLyBsZXQncyBjb3B5IG91dCB0");
    sb.append("aGUgdHJlZSBmcm9tIHRoZSB2aWV3c3RhdGUKICAgICAgdmFyIG5ld190cmVlID0gc3RhdGUudmlldy50");
    sb.append("cmVlLmNvcHkoKTsKCiAgICAgIC8vIGlmIHdlIGhhdmUgZ290IGEgZmlsdGVyIGZyb20gdGhlIHNlcnZl");
    sb.append("ciwgdGhlbiBsZXQncyBmaWx0ZXIKICAgICAgaWYgKGNvLmhhc19maWx0ZXIpIHsKICAgICAgICAvLyBy");
    sb.append("ZWNvbnN0cnVjdCB0aGUgbmV3IHZpZXcgYmFzZWQgb24gdGhlIGludGVyc2VjdGlvbiBvZiB0aGUgZmls");
    sb.append("dGVyIGFuZCB0aGUgbmV3IHN0YXRlCiAgICAgICAgdmFyIGZpbHRlcmVkID0ge307CiAgICAgICAgZm9y");
    sb.append("ICh2YXIgayBpbiBuZXdfdHJlZSkgewogICAgICAgICAgaWYgKGNvLmZpbHRlcltrXSkgewogICAgICAg");
    sb.append("ICAgICBmaWx0ZXJlZFtrXSA9IG5ld190cmVlW2tdOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAg");
    sb.append("ICAvLyBhc3N1bWUgdGhlIG5ldyB0cmVlCiAgICAgICAgbmV3X3RyZWUgPSBmaWx0ZXJlZDsKICAgICAg");
    sb.append("fQogICAgICAvLyBpZiB0aGUgY2xvbmUgKGkuZS4gc3RyaW5naWZpZWQgdmVyc2lvbikgaXMgdGhlIHNh");
    sb.append("bWUgYXMgd2hhdCB3ZSBsYXN0IHNlbnQsIHRoZW4gZG9uJ3Qgc2VuZCBhbnl0aGluZwogICAgICB2YXIg");
    sb.append("cHJpb3JfY2xvbmUgPSBKU09OLnN0cmluZ2lmeShuZXdfdHJlZSk7CiAgICAgIGlmIChwcmlvcl9jbG9u");
    sb.append("ZSA9PSBjby52aWV3c3RhdGVfY2xvbmUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgY28u");
    sb.append("dmlld3N0YXRlX3NlbnQgPSBmYWxzZTsKICAgICAgY28udnNzZXErKzsKICAgICAgY28uc3luYygpOwog");
    sb.append("ICAgICB2YXIgc3luY2VkID0gZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChjby52c3NlcSA9PSB0aGlz");
    sb.append("LmJvdW5kKSB7CiAgICAgICAgICBjby52aWV3c3RhdGVfc2VudCA9IHRydWU7CiAgICAgICAgICBjby5z");
    sb.append("eW5jKCk7CiAgICAgICAgfQogICAgICB9LmJpbmQoeyBib3VuZDogY28udnNzZXEgfSk7CiAgICAgIGNv");
    sb.append("LnZpZXdzdGF0ZV9jbG9uZSA9IEpTT04uc3RyaW5naWZ5KG5ld190cmVlKTsKICAgICAgY28ucHRyLnVw");
    sb.append("ZGF0ZShuZXdfdHJlZSwgeyBzdWNjZXNzOiBzeW5jZWQsIGZhaWx1cmU6IHN5bmNlZCB9KTsKICAgIH07");
    sb.append("CiAgICB2YXIgYmluZCA9IGZ1bmN0aW9uIChzZW5kTm93KSB7CiAgICAgIHVuc3ViLnZpZXcgPSBzdGF0");
    sb.append("ZS52aWV3LnRyZWUuc3Vic2NyaWJlKGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoY28ucHRyID09IG51");
    sb.append("bGwpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgc3luY190cmVlKCk7CiAgICAg");
    sb.append("IH0pOwogICAgICBpZiAoc2VuZE5vdykgewogICAgICAgIHN5bmNfdHJlZSgpOwogICAgICB9CiAgICB9");
    sb.append("OwogICAgaWYgKGNvLnB0ciAhPSBudWxsICYmIGNvLmJvdW5kID09IGRlc2lyZWQpIHsKICAgICAgYmlu");
    sb.append("ZCh0cnVlKTsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgaWYgKGNvLnB0ciAhPSBudWxsKSB7");
    sb.append("CiAgICAgIGNvLnB0ci5lbmQoeyBzdWNjZXNzOiBmdW5jdGlvbiAoKSB7IH0sIGZhaWx1cmU6IGZ1bmN0");
    sb.append("aW9uICgpIHsgfSB9KTsKICAgICAgY28ucHRyID0gbnVsbDsKICAgIH0KICAgIHJldHVybiBiaW5kOwog");
    sb.append("IH07CgogIC8vIDxjb25uZWN0aW9uIHVzZS1kb21haW4gLi4uPgogIHNlbGYuRENPTk5FQ1QgPSBmdW5j");
    sb.append("dGlvbiAoc3RhdGUsIHJ4b2JqKSB7CiAgICB2YXIgdW5zdWIgPSB7CiAgICAgIHZpZXc6IGZ1bmN0aW9u");
    sb.append("ICgpIHsKICAgICAgfQogICAgfTsKICAgIHJ4b2JqLl9fID0gZGVib3VuY2UoNSwgZnVuY3Rpb24gKCkg");
    sb.append("ewogICAgICBpZiAoISgnbmFtZScgaW4gcnhvYmopKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAg");
    sb.append("ICAgIHZhciBpZExvb2t1cCA9IHNlbGYuSUQocnhvYmouaWRlbnRpdHksIGZ1bmN0aW9uICgpIHsgcmV0");
    sb.append("dXJuIHJ4b2JqLnJlZGlyZWN0OyB9KTsKICAgICAgaWYgKGlkTG9va3VwLmFib3J0KSB7CiAgICAgICAg");
    sb.append("cmV0dXJuOwogICAgICB9CiAgICAgIHZhciBjbyA9IGdldF9jb25uZWN0aW9uX29iaihyeG9iai5uYW1l");
    sb.append("KTsKICAgICAgdmFyIGRvbWFpbiA9IGxvY2F0aW9uLmhvc3Quc3BsaXQoIjoiKVswXTsKICAgICAgdmFy");
    sb.append("IGRlc2lyZWQgPSBkb21haW4gKyBpZExvb2t1cC5pZGVudGl0eTsKICAgICAgdmFyIGJpbmQgPSBzZXR1");
    sb.append("cF9jbyhkZXNpcmVkLCB1bnN1YiwgY28sIHN0YXRlKTsKICAgICAgaWYgKGJpbmQgPT09IGZhbHNlKSB7");
    sb.append("CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGNvLmJvdW5kID0gZGVzaXJlZDsKCiAgICAgIHZh");
    sb.append("ciBpZGVudGl0eSA9IGlkTG9va3VwLmlkZW50aXR5OwogICAgICB2YXIgY2xlYW51cCA9IGlkTG9va3Vw");
    sb.append("LmNsZWFudXA7CiAgICAgIHVuc3ViLnZpZXcoKTsKICAgICAgY28uaWRlbnRpdHkgPSBpZGVudGl0eTsK");
    sb.append("ICAgICAgY28uaGFuZGxlcnMgPSB7fTsKICAgICAgY28udmlld3N0YXRlX3NlbnQgPSB0cnVlOwogICAg");
    sb.append("ICBjby5sYWJlbCA9ICJEb21haW46IiArIGRvbWFpbiArICIgWyAiICsgcnhvYmoubmFtZSArICJdIjsK");
    sb.append("ICAgICAgY28udmlhX2RvbWFpbiA9IHRydWU7CiAgICAgIGNvLmRvbWFpbiA9IGRvbWFpbjsKICAgICAg");
    sb.append("dmFyIHJldHJ5X3NtID0ge307CiAgICAgIHJldHJ5X3NtLnJlc3BvbmRlciA9IGJpbmRfcmVzcG9uZGVy");
    sb.append("KGNvLCBzdGF0ZSwgY2xlYW51cCwgcmV0cnlfc20pOwogICAgICByZXRyeV9zbS5nbyA9IGZ1bmN0aW9u");
    sb.append("KCkgewogICAgICAgIC8vIGJpYXMgdG8gbm90aGluZyBuZXcKICAgICAgICBjby52aWV3c3RhdGVfY2xv");
    sb.append("bmUgPSAie30iOwogICAgICAgIGNvLnB0ciA9IGNvbm5lY3Rpb24uQ29ubmVjdGlvbkNyZWF0ZVZpYURv");
    sb.append("bWFpbihpZGVudGl0eSwgZG9tYWluLCBzdGF0ZS52aWV3LnRyZWUuY29weSgpLCByZXRyeV9zbS5yZXNw");
    sb.append("b25kZXIpOwogICAgICB9OwogICAgICByZXRyeV9zbS5nbygpOwogICAgICBjby50cmVlLnVwZGF0ZSh7");
    sb.append("fSk7CiAgICAgIGJpbmQoZmFsc2UpOwogICAgfSk7CiAgfTsKCiAgLy8gPGNvbm5lY3Rpb24gLi4uPgog");
    sb.append("IHNlbGYuQ09OTkVDVCA9IGZ1bmN0aW9uIChzdGF0ZSwgcnhvYmopIHsKICAgIHZhciB1bnN1YiA9IHsK");
    sb.append("ICAgICAgdmlldzogZnVuY3Rpb24gKCkgewogICAgICB9CiAgICB9OwogICAgcnhvYmouX18gPSBkZWJv");
    sb.append("dW5jZSg1LCBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB2YWxpZCA9ICdrZXknIGluIHJ4b2JqICYmICdz");
    sb.append("cGFjZScgaW4gcnhvYmogJiYgJ25hbWUnIGluIHJ4b2JqOwogICAgICBpZiAoIXZhbGlkKSB7CiAgICAg");
    sb.append("ICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZhciBpZExvb2t1cCA9IHNlbGYuSUQocnhvYmouaWRlbnRp");
    sb.append("dHksIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJ4b2JqLnJlZGlyZWN0OyB9KTsKICAgICAgaWYgKGlkTG9v");
    sb.append("a3VwLmFib3J0KSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHZhciBjbyA9IGdldF9jb25u");
    sb.append("ZWN0aW9uX29iaihyeG9iai5uYW1lKTsKICAgICAgdmFyIGRlc2lyZWQgPSByeG9iai5zcGFjZSArICIv");
    sb.append("IiArIHJ4b2JqLmtleSArICIvIiArIGlkTG9va3VwLmlkZW50aXR5OyAvLyBUT0RPOiBuZWVkIHNvbWUg");
    sb.append("a2luZCBvZiBoYXNoaW5nIGZ1bmN0aW9uIGhlcmUKICAgICAgdmFyIGJpbmQgPSBzZXR1cF9jbyhkZXNp");
    sb.append("cmVkLCB1bnN1YiwgY28sIHN0YXRlKTsKICAgICAgaWYgKGJpbmQgPT09IGZhbHNlKSB7CiAgICAgICAg");
    sb.append("cmV0dXJuOwogICAgICB9CiAgICAgIGNvLmJvdW5kID0gZGVzaXJlZDsKCiAgICAgIHZhciBpZGVudGl0");
    sb.append("eSA9IGlkTG9va3VwLmlkZW50aXR5OwogICAgICB2YXIgY2xlYW51cCA9IGlkTG9va3VwLmNsZWFudXA7");
    sb.append("CiAgICAgIHVuc3ViLnZpZXcoKTsKICAgICAgY28uc3BhY2UgPSByeG9iai5zcGFjZTsKICAgICAgY28u");
    sb.append("a2V5ID0gcnhvYmoua2V5OwogICAgICBjby5pZGVudGl0eSA9IGlkZW50aXR5OwogICAgICBjby5oYW5k");
    sb.append("bGVycyA9IHt9OwogICAgICBjby52aWV3c3RhdGVfc2VudCA9IHRydWU7CiAgICAgIGNvLmxhYmVsID0g");
    sb.append("Y28uc3BhY2UgKyAiLyIgKyBjby5rZXkgKyAiIFsgIiArIHJ4b2JqLm5hbWUgKyAiXSI7CiAgICAgIGNv");
    sb.append("LnZpYV9kb21haW4gPSBmYWxzZTsKICAgICAgdmFyIHJldHJ5X3NtID0ge307CiAgICAgIHJldHJ5X3Nt");
    sb.append("LnJlc3BvbmRlciA9IGJpbmRfcmVzcG9uZGVyKGNvLCBzdGF0ZSwgY2xlYW51cCwgcmV0cnlfc20pOwog");
    sb.append("ICAgICByZXRyeV9zbS5nbyA9IGZ1bmN0aW9uKCkgewogICAgICAgIC8vIGJpYXMgdG8gbm90aGluZyBu");
    sb.append("ZXcKICAgICAgICBjby52aWV3c3RhdGVfY2xvbmUgPSAie30iOwogICAgICAgIGNvLnB0ciA9IGNvbm5l");
    sb.append("Y3Rpb24uQ29ubmVjdGlvbkNyZWF0ZShpZGVudGl0eSwgcnhvYmouc3BhY2UsIHJ4b2JqLmtleSwgc3Rh");
    sb.append("dGUudmlldy50cmVlLmNvcHkoKSwgcmV0cnlfc20ucmVzcG9uZGVyKTsKICAgICAgfTsKICAgICAgcmV0");
    sb.append("cnlfc20uZ28oKTsKICAgICAgY28udHJlZS51cGRhdGUoe30pOwogICAgICBiaW5kKGZhbHNlKTsKICAg");
    sb.append("IH0pOwogIH07CgogIHNlbGYuSU5URVJOQUwgPSBmdW5jdGlvbiAocHJpb3JTdGF0ZSkgewogICAgcmV0");
    sb.append("dXJuIHsKICAgICAgc2VydmljZTogcHJpb3JTdGF0ZS5zZXJ2aWNlLAogICAgICBkYXRhOiB7IGNvbm5l");
    sb.append("Y3Rpb246IG51bGwsIHRyZWU6IG5ldyBBZGFtYVRyZWUoKSwgZGVsdGE6IHt9LCBwYXJlbnQ6IG51bGws");
    sb.append("IHBhdGg6IG51bGwgfSwKICAgICAgdmlldzogbmV3X2RlbHRhX2NvcHkocHJpb3JTdGF0ZS52aWV3KSwK");
    sb.append("ICAgICAgY3VycmVudDogImRhdGEiCiAgICB9OwogIH07CgogIHZhciByZWNhbGxfZW1haWwgPSBmdW5j");
    sb.append("dGlvbiAoZWwpIHsKICAgIGlmIChlbC50YWdOYW1lLnRvVXBwZXJDYXNlKCkgPT0gIklOUFVUIikgewog");
    sb.append("ICAgICBpZiAoImVtYWlsIiA9PSBlbC50eXBlICYmICJlbWFpbCIgPT0gZWwubmFtZSkgewogICAgICAg");
    sb.append("IGVsLnZhbHVlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oImVtYWlsX3JlbWVtYmVyIik7CiAgICAgIH0K");
    sb.append("ICAgIH0gZWxzZSB7CiAgICAgIGlmICgiY2hpbGRyZW4iIGluIGVsKSB7CiAgICAgICAgdmFyIGFyciA9");
    sb.append("IGVsLmNoaWxkcmVuOwogICAgICAgIHZhciBuID0gYXJyLmxlbmd0aDsKICAgICAgICBmb3IgKHZhciBr");
    sb.append("ID0gMDsgayA8IG47IGsrKykgewogICAgICAgICAgcmVjYWxsX2VtYWlsKGVsLmNoaWxkcmVuW2tdKTsK");
    sb.append("ICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9OwoKICBzZWxmLmFVUCA9IGZ1bmN0aW9uIChmb3JtLCBz");
    sb.append("dGF0ZSwgaWRlbnRpdHlOYW1lLCByeG9iaikgewogICAgdmFyIGlkTG9va3VwID0gc2VsZi5JRChpZGVu");
    sb.append("dGl0eU5hbWUsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJ4b2JqLnJ4X2ZvcndhcmQ7IH0pOyAvLyBUT0RP");
    sb.append("OiBtYWtlIHJ4dmFyCiAgICBpZiAoaWRMb29rdXAuYWJvcnQpIHsKICAgICAgcmV0dXJuOwogICAgfQog");
    sb.append("ICAgZm9ybS5hY3Rpb24gPSAiaHR0cHM6Ly9hd3MtdXMtZWFzdC0yLmFkYW1hLXBsYXRmb3JtLmNvbS9+");
    sb.append("dXBsb2FkIjsKICAgIGZvcm0ubWV0aG9kID0gInBvc3QiOwogICAgZm9ybS5lbmN0eXBlID0gIm11bHRp");
    sb.append("cGFydC9mb3JtLWRhdGEiOwogICAgdmFyIGlkZW50aXR5SW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVt");
    sb.append("ZW50KCJpbnB1dCIpOwogICAgaWRlbnRpdHlJbnB1dC50eXBlID0gImhpZGRlbiI7CiAgICBpZGVudGl0");
    sb.append("eUlucHV0Lm5hbWUgPSAiaWRlbnRpdHkiOwogICAgaWRlbnRpdHlJbnB1dC52YWx1ZSA9IGlkTG9va3Vw");
    sb.append("LmlkZW50aXR5OwogICAgZm9ybS5hcHBlbmRDaGlsZChpZGVudGl0eUlucHV0KTsKICAgIHZhciBpZnJh");
    sb.append("bWVUYXJnZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKTsKICAgIGlmcmFtZVRhcmdl");
    sb.append("dC5uYW1lID0gIlVQTE9BRF8iICsgTWF0aC5yYW5kb20oKTsKICAgIGlmcmFtZVRhcmdldC53aWR0aCA9");
    sb.append("ICIxIjsKICAgIGlmcmFtZVRhcmdldC5oZWlnaHQgPSAiMSI7CgogICAgZm9ybS5hcHBlbmRDaGlsZChp");
    sb.append("ZnJhbWVUYXJnZXQpOwogICAgZm9ybS50YXJnZXQgPSBpZnJhbWVUYXJnZXQubmFtZTsKICB9OwoKICBz");
    sb.append("ZWxmLmFEVVAgPSBmdW5jdGlvbiAoZm9ybSwgc3RhdGUsIGlkZW50aXR5TmFtZSwgcnhvYmopIHsKICAg");
    sb.append("IHZhciBpZExvb2t1cCA9IHNlbGYuSUQoaWRlbnRpdHlOYW1lLCBmdW5jdGlvbiAoKSB7IHJldHVybiBy");
    sb.append("eG9iai5yeF9mb3J3YXJkOyB9KTsgLy8gVE9ETzogbWFrZSByeHZhcgogICAgaWYgKGlkTG9va3VwLmFi");
    sb.append("b3J0KSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGZvcm0uYWN0aW9uID0gImh0dHBzOi8vYXdzLXVz");
    sb.append("LWVhc3QtMi5hZGFtYS1wbGF0Zm9ybS5jb20vfnVwbG9hZCI7CiAgICBmb3JtLm1ldGhvZCA9ICJwb3N0");
    sb.append("IjsKICAgIGZvcm0uZW5jdHlwZSA9ICJtdWx0aXBhcnQvZm9ybS1kYXRhIjsKICAgIHsKICAgICAgdmFy");
    sb.append("IGlkZW50aXR5SW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwogICAgICBpZGVu");
    sb.append("dGl0eUlucHV0LnR5cGUgPSAiaGlkZGVuIjsKICAgICAgaWRlbnRpdHlJbnB1dC5uYW1lID0gImlkZW50");
    sb.append("aXR5IjsKICAgICAgaWRlbnRpdHlJbnB1dC52YWx1ZSA9IGlkTG9va3VwLmlkZW50aXR5OwogICAgICBm");
    sb.append("b3JtLmFwcGVuZENoaWxkKGlkZW50aXR5SW5wdXQpOwogICAgfQogICAgewogICAgICB2YXIgZG9tYWlu");
    sb.append("SW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwogICAgICBkb21haW5JbnB1dC50");
    sb.append("eXBlID0gImhpZGRlbiI7CiAgICAgIGRvbWFpbklucHV0Lm5hbWUgPSAiZG9tYWluIjsKICAgICAgZG9t");
    sb.append("YWluSW5wdXQudmFsdWUgPSBsb2NhdGlvbi5ob3N0bmFtZTsKICAgICAgZm9ybS5hcHBlbmRDaGlsZChk");
    sb.append("b21haW5JbnB1dCk7CiAgICB9CiAgICB2YXIgaWZyYW1lVGFyZ2V0ID0gZG9jdW1lbnQuY3JlYXRlRWxl");
    sb.append("bWVudCgiaWZyYW1lIik7CiAgICBpZnJhbWVUYXJnZXQubmFtZSA9ICJVUExPQURfIiArIE1hdGgucmFu");
    sb.append("ZG9tKCk7CiAgICBpZnJhbWVUYXJnZXQud2lkdGggPSAiMSI7CiAgICBpZnJhbWVUYXJnZXQuaGVpZ2h0");
    sb.append("ID0gIjEiOwogICAgZm9ybS5hcHBlbmRDaGlsZChpZnJhbWVUYXJnZXQpOwogICAgZm9ybS50YXJnZXQg");
    sb.append("PSBpZnJhbWVUYXJnZXQubmFtZTsKICB9OwoKICAvLyBSVU5USU1FIHwgcng6YWN0aW9uPWRvbWFpbjpz");
    sb.append("aWduLWluCiAgc2VsZi5hZERTTyA9IGZ1bmN0aW9uIChmb3JtLCBzdGF0ZSwgaWRlbnRpdHlOYW1lLCBy");
    sb.append("eG9iaikgewogICAgcnhvYmouX18gPSBmdW5jdGlvbiAoKSB7IH07CiAgICBmb3JtLm9uc3VibWl0ID0g");
    sb.append("ZnVuY3Rpb24gKGV2dCkgewogICAgICBldnQucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIHJlcSA9");
    sb.append("IGdldF9mb3JtKGZvcm0sIHRydWUpOwogICAgICBjb25uZWN0aW9uLkRvY3VtZW50QXV0aG9yaXplRG9t");
    sb.append("YWluKGxvY2F0aW9uLmhvc3RuYW1lLCByZXEudXNlcm5hbWUsIHJlcS5wYXNzd29yZCwgewogICAgICAg");
    sb.append("IHN1Y2Nlc3M6IGZ1bmN0aW9uIChwYXlsb2FkKSB7CiAgICAgICAgICBpZGVudGl0aWVzW2lkZW50aXR5");
    sb.append("TmFtZV0gPSBwYXlsb2FkLmlkZW50aXR5OwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImlk");
    sb.append("ZW50aXR5XyIgKyBpZGVudGl0eU5hbWUsIHBheWxvYWQuaWRlbnRpdHkpOwogICAgICAgICAgLy8gVE9E");
    sb.append("TzogYmxvdyBhd2F5IGNvbm5lY3Rpb25zCiAgICAgICAgICBzZWxmLmdvdG8ocnhvYmoucnhfZm9yd2Fy");
    sb.append("ZCk7CiAgICAgICAgICBmaXJlX3N1Y2Nlc3MoZm9ybSk7CiAgICAgICAgfSwKICAgICAgICBmYWlsdXJl");
    sb.append("OiBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgIkZhaWxlZCBz");
    sb.append("aWduaW5nIGludG8gZG9jdW1lbnQ6IiArIHJlYXNvbik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH07");
    sb.append("CiAgfQoKICAvLyBSVU5USU1FIHwgcng6YWN0aW9uPWRvY3VtZW50OnNpZ24taW4KICBzZWxmLmFEU08g");
    sb.append("PSBmdW5jdGlvbiAoZm9ybSwgc3RhdGUsIGlkZW50aXR5TmFtZSwgcnhvYmopIHsKICAgIHJ4b2JqLl9f");
    sb.append("ID0gZnVuY3Rpb24gKCkgeyB9OwogICAgZm9ybS5vbnN1Ym1pdCA9IGZ1bmN0aW9uIChldnQpIHsKICAg");
    sb.append("ICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciByZXEgPSBnZXRfZm9ybShmb3JtLCB0cnVl");
    sb.append("KTsKICAgICAgY29ubmVjdGlvbi5Eb2N1bWVudEF1dGhvcml6ZShyZXEuc3BhY2UsIHJlcS5rZXksIHJl");
    sb.append("cS51c2VybmFtZSwgcmVxLnBhc3N3b3JkLCB7CiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHBheWxv");
    sb.append("YWQpIHsKICAgICAgICAgIGlkZW50aXRpZXNbaWRlbnRpdHlOYW1lXSA9IHBheWxvYWQuaWRlbnRpdHk7");
    sb.append("CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaWRlbnRpdHlfIiArIGlkZW50aXR5TmFtZSwg");
    sb.append("cGF5bG9hZC5pZGVudGl0eSk7CiAgICAgICAgICAvLyBUT0RPOiBibG93IGF3YXkgY29ubmVjdGlvbnMK");
    sb.append("ICAgICAgICAgIHNlbGYuZ290byhyeG9iai5yeF9mb3J3YXJkKTsKICAgICAgICAgIGZpcmVfc3VjY2Vz");
    sb.append("cyhmb3JtKTsKICAgICAgICB9LAogICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24pIHsKICAg");
    sb.append("ICAgICAgIGZpcmVfZmFpbHVyZShmb3JtLCAiRmFpbGVkIHNpZ25pbmcgaW50byBkb2N1bWVudDoiICsg");
    sb.append("cmVhc29uKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfTsKICB9OwogIC8vIHRyYW5zZm9ybSA9IGZv");
    sb.append("cm1hdF9kYXRlX3VzYQoKICB2YXIgdHJhbnNmb3JtcyA9IHt9OwogIHRyYW5zZm9ybXNbJ3ByaW5jaXBh");
    sb.append("bC5hZ2VudCddID0gZnVuY3Rpb24oeCkgeyByZXR1cm4geC5hZ2VudDsgfTsKICB0cmFuc2Zvcm1zWydw");
    sb.append("cmluY2lwYWwuYXV0aG9yaXR5J10gPSBmdW5jdGlvbih4KSB7IHJldHVybiB4LmF1dGhvcml0eTsgfTsK");
    sb.append("ICB0cmFuc2Zvcm1zWyd0cmltJ10gPSBmdW5jdGlvbih4KSB7IHJldHVybiAoJycgKyB4KS50cmltKCk7");
    sb.append("IH07CiAgdHJhbnNmb3Jtc1sndXBwZXInXSA9IGZ1bmN0aW9uKHgpIHsgcmV0dXJuICgnJyArIHgpLnRv");
    sb.append("VXBwZXJDYXNlKCk7IH07CiAgdHJhbnNmb3Jtc1snbG93ZXInXSA9IGZ1bmN0aW9uKHgpIHsgcmV0dXJu");
    sb.append("ICgnJyArIHgpLnRvTG93ZXJDYXNlKCk7IH07CiAgdHJhbnNmb3Jtc1snaXNfZW1wdHlfc3RyJ10gPSBm");
    sb.append("dW5jdGlvbih4KSB7IHJldHVybiB4ID09ICIiOyB9OwogIHRyYW5zZm9ybXNbJ2lzX25vdF9lbXB0eV9z");
    sb.append("dHInXSA9IGZ1bmN0aW9uKHgpIHsgcmV0dXJuIHggIT0gIiI7IH07CiAgdHJhbnNmb3Jtc1snanNvbmlm");
    sb.append("eSddID0gZnVuY3Rpb24oeCkgeyByZXR1cm4gSlNPTi5zdHJpbmdpZnkoeCk7IH07CgogIHNlbGYuUlRS");
    sb.append("ID0gZnVuY3Rpb24obmFtZSwgdHJhbnNmb3JtKSB7CiAgICB0cmFuc2Zvcm1zW25hbWVdID0gdHJhbnNm");
    sb.append("b3JtOwogIH07CiAgc2VsZi5yZWdpc3RlclRyYW5zZm9ybSA9IHNlbGYuUlRSOwoKICAvLyB7YmxhaHxu");
    sb.append("YW1lfQogIHNlbGYuVFIgPSBmdW5jdGlvbihuYW1lKSB7CiAgICBpZiAobmFtZSBpbiB0cmFuc2Zvcm1z");
    sb.append("KSB7CiAgICAgIHJldHVybiB0cmFuc2Zvcm1zW25hbWVdOwogICAgfQogICAgcmV0dXJuIGZ1bmN0aW9u");
    sb.append("KHgpIHsgcmV0dXJuIHg7IH07CiAgfTsKCiAgLy8gVE9ETwogIHZhciB2YWxpZGF0b3JzID0ge307CiAg");
    sb.append("c2VsZi5SViA9IGZ1bmN0aW9uKG5hbWUsIHZhbGlkYXRvcikgewogICAgdmFsaWRhdG9yc1tuYW1lXSA9");
    sb.append("IHZhbGlkYXRvcjsKICB9OwogIHNlbGYucmVnaXN0ZXJWYWxpZGF0b3IgPSBzZWxmLlJWOwoKICB2YXIg");
    sb.append("Y29tbW9uUHV0ID0gZnVuY3Rpb24gKGZvcm0sIHN0YXRlLCBpZGVudGl0eU5hbWUsIHJ4b2JqLCB1cmxm");
    sb.append("YWN0b3J5KSB7CiAgICAvLyBXSVAKICAgIHJ4b2JqLl9fID0gZnVuY3Rpb24gKCkgeyB9OwogICAgZm9y");
    sb.append("bS5vbnN1Ym1pdCA9IGZ1bmN0aW9uIChldnQpIHsKICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAg");
    sb.append("ICAgIHZhciByZXEgPSBnZXRfZm9ybShmb3JtLCBmYWxzZSk7CiAgICAgIC8vIFRPRE86IHRoaXMgYXNz");
    sb.append("dW1lcyBleGFjdGx5IG9uZSBwYXNzd29yZCBpbiB0aGUgcm9vdCBtZXNzYWdlCiAgICAgIHZhciBwd3Mg");
    sb.append("PSBnZXRfcGFzc3dvcmQoZm9ybSk7CgogICAgICB2YXIgbmV4dCA9IGZ1bmN0aW9uICgpIHsKICAgICAg");
    sb.append("ICB2YXIgdXJsID0gdXJsZmFjdG9yeShyeG9iaik7CiAgICAgICAgdmFyIHhodHRwID0gbmV3IFhNTEh0");
    sb.append("dHBSZXF1ZXN0KCk7CiAgICAgICAgeGh0dHAub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkg");
    sb.append("ewogICAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PSA0KSB7CiAgICAgICAgICAgIGlmICh0aGlz");
    sb.append("LnN0YXR1cyA9PSAyMDApIHsKICAgICAgICAgICAgICB2YXIgdHlwZSA9IHRoaXMuZ2V0UmVzcG9uc2VI");
    sb.append("ZWFkZXIoIkNvbnRlbnQtVHlwZSIpOwogICAgICAgICAgICAgIGlmICh0eXBlID09ICJ0ZXh0L2Vycm9y");
    sb.append("IikgewogICAgICAgICAgICAgICAgZmlyZV9mYWlsdXJlKGZvcm0sIHRoaXMucmVzcG9uc2VUZXh0KTsK");
    sb.append("ICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gImFw");
    sb.append("cGxpY2F0aW9uL2pzb24iKSB7CiAgICAgICAgICAgICAgICB2YXIgcGF5bG9hZCA9IEpTT04ucGFyc2Uo");
    sb.append("dGhpcy5yZXNwb25zZVRleHQpOwogICAgICAgICAgICAgICAgaWYgKCdpZGVudGl0eScgaW4gcGF5bG9h");
    sb.append("ZCkgewogICAgICAgICAgICAgICAgICBpZGVudGl0aWVzW2lkZW50aXR5TmFtZV0gPSBwYXlsb2FkLmlk");
    sb.append("ZW50aXR5OwogICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaWRlbnRpdHlfIiAr");
    sb.append("IGlkZW50aXR5TmFtZSwgcGF5bG9hZC5pZGVudGl0eSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAg");
    sb.append("ICAgICAgfQogICAgICAgICAgICAgIHNlbGYuZ290byhyeG9iai5yeF9mb3J3YXJkKTsKICAgICAgICAg");
    sb.append("ICAgICBmaXJlX3N1Y2Nlc3MoZm9ybSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAg");
    sb.append("ZmlyZV9mYWlsdXJlKGZvcm0sICJGYWlsZWQgdG8gY29tbXVuaWNhdGUgdG8gc2VydmVyIik7CiAgICAg");
    sb.append("ICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIHhodHRwLm9wZW4oIlBVVCIsIHVy");
    sb.append("bCwgdHJ1ZSk7CiAgICAgICAgeGh0dHAud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTsKICAgICAgICB4aHR0");
    sb.append("cC5zZW5kKEpTT04uc3RyaW5naWZ5KHJlcSkpOwogICAgICB9OwoKICAgICAgaWYgKHB3cyAhPT0gbnVs");
    sb.append("bCkgewogICAgICAgIGNvbm5lY3Rpb24uRG9jdW1lbnRzSGFzaFBhc3N3b3JkKHB3c1sxXSwgewogICAg");
    sb.append("ICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGhhc2hlZF9wdykgewogICAgICAgICAgICByZXFbcHdzWzBd");
    sb.append("XSA9IGhhc2hlZF9wdy5wYXNzd29yZEhhc2g7CiAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgIH0s");
    sb.append("CiAgICAgICAgICBmYWlsZWQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgZmlyZV9mYWlsdXJlKGZv");
    sb.append("cm0sICJGYWlsZWQgdG8gaGFzaCBwYXNzd29yZCIpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAg");
    sb.append("ICB9IGVsc2UgewogICAgICAgIG5leHQoKTsKICAgICAgfQogICAgfTsKICB9CgogIC8vIFJVTlRJTUUg");
    sb.append("fCByeDphY3Rpb249ZG9tYWluOnB1dAogIHNlbGYuYWREUFVUID0gZnVuY3Rpb24gKGZvcm0sIHN0YXRl");
    sb.append("LCBpZGVudGl0eU5hbWUsIHJ4b2JqKSB7CiAgICBjb21tb25QdXQoZm9ybSwgc3RhdGUsIGlkZW50aXR5");
    sb.append("TmFtZSwgcnhvYmosIGZ1bmN0aW9uIChyeG9iaikgeyByZXR1cm4gbG9jYXRpb24ucHJvdG9jb2wgKyAi");
    sb.append("Ly8iICsgbG9jYXRpb24uaG9zdCArICIvIiArIHJ4b2JqLnBhdGg7IH0pCiAgfTsKCiAgLy8gUlVOVElN");
    sb.append("RSB8IHJ4OmFjdGlvbj1kb2N1bWVudDpwdXQKICBzZWxmLmFEUFVUID0gZnVuY3Rpb24gKGZvcm0sIHN0");
    sb.append("YXRlLCBpZGVudGl0eU5hbWUsIHJ4b2JqKSB7CiAgICBjb21tb25QdXQoZm9ybSwgc3RhdGUsIGlkZW50");
    sb.append("aXR5TmFtZSwgcnhvYmosIGZ1bmN0aW9uIChyeG9iaikgeyByZXR1cm4gImh0dHBzOi8vIiArIGNvbm5l");
    sb.append("Y3Rpb24uaG9zdCArICIvIiArIHJ4b2JqLnNwYWNlICsgIi8iICsgcnhvYmoua2V5ICsgIi8iICsgcnhv");
    sb.append("YmoucGF0aDsgfSkKICB9OwoKICAvLyBSVU5USU1FIHwgcng6YWN0aW9uPWFkYW1hOnNpZ24taW4KICBz");
    sb.append("ZWxmLmFTTyA9IGZ1bmN0aW9uIChmb3JtLCBzdGF0ZSwgaWRlbnRpdHlOYW1lLCByeG9iaikgewogICAg");
    sb.append("cnhvYmouX18gPSBmdW5jdGlvbiAoKSB7IH07CiAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAo");
    sb.append("KSB7CiAgICAgIHJlY2FsbF9lbWFpbChmb3JtKTsKICAgIH0sIDEpOwogICAgLy8gVE9ETzogcHVsbCBl");
    sb.append("bWFpbCBvdXQgb2YgdGhpbiBhaXIKICAgIGZvcm0ub25zdWJtaXQgPSBmdW5jdGlvbiAoZXZ0KSB7CiAg");
    sb.append("ICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgcmVxID0gZ2V0X2Zvcm0oZm9ybSwgdHJ1");
    sb.append("ZSk7CiAgICAgIGlmIChyZXEucmVtZW1iZXIpIHsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgi");
    sb.append("ZW1haWxfcmVtZW1iZXIiLCByZXEuZW1haWwpOwogICAgICB9IGVsc2UgewogICAgICAgIGxvY2FsU3Rv");
    sb.append("cmFnZS5zZXRJdGVtKCJlbWFpbF9yZW1lbWJlciIsICIiKTsKICAgICAgfQogICAgICBjb25uZWN0aW9u");
    sb.append("LkFjY291bnRMb2dpbihyZXEuZW1haWwsIHJlcS5wYXNzd29yZCwgewogICAgICAgIHN1Y2Nlc3M6IGZ1");
    sb.append("bmN0aW9uIChwYXlsb2FkKSB7CiAgICAgICAgICBpZGVudGl0aWVzW2lkZW50aXR5TmFtZV0gPSBwYXls");
    sb.append("b2FkLmlkZW50aXR5OwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImlkZW50aXR5XyIgKyBp");
    sb.append("ZGVudGl0eU5hbWUsIHBheWxvYWQuaWRlbnRpdHkpOwogICAgICAgICAgc2VsZi5nb3RvKHJ4b2JqLnJ4");
    sb.append("X2ZvcndhcmQpOwogICAgICAgICAgZmlyZV9zdWNjZXNzKGZvcm0pOwogICAgICAgIH0sCiAgICAgICAg");
    sb.append("ZmFpbHVyZTogZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgZmlyZV9mYWlsdXJlKGZvcm0sICJB");
    sb.append("Y2NvdW50TG9naW4gRmFpbGVkOiIgKyByZWFzb24pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9Owog");
    sb.append("IH07CgogIC8vIFJVTlRJTUUgfCByeDphY3Rpb249YWRhbWE6c2lnbi11cAogIHNlbGYuYVNVID0gZnVu");
    sb.append("Y3Rpb24gKGZvcm0sIHN0YXRlLCBmb3J3YXJkVG8pIHsKICAgIGZvcm0ub25zdWJtaXQgPSBmdW5jdGlv");
    sb.append("biAoZXZ0KSB7CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgcmVxID0gZ2V0X2Zv");
    sb.append("cm0oZm9ybSk7CiAgICAgIGNvbm5lY3Rpb24uSW5pdFNldHVwQWNjb3VudChyZXEuZW1haWwsIHsKICAg");
    sb.append("ICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoLyogcGF5bG9hZCAqLykgewogICAgICAgICAgbG9jYWxTdG9y");
    sb.append("YWdlLnNldEl0ZW0oImVtYWlsIiwgcmVxLmVtYWlsKTsKICAgICAgICAgIHNlbGYuZ290byhmb3J3YXJk");
    sb.append("VG8pOwogICAgICAgICAgZmlyZV9zdWNjZXNzKGZvcm0pOwogICAgICAgIH0sCiAgICAgICAgZmFpbHVy");
    sb.append("ZTogZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgZmlyZV9mYWlsdXJlKGZvcm0sICJJbml0U2V0");
    sb.append("dXBBY2NvdW50IEZhaWxlZDoiICsgcmVhc29uKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfTsKICB9");
    sb.append("OwoKICAvLyBSVU5USU1FIHwgcng6YWN0aW9uPWFkYW1hOnNldC1wYXNzd29yZAogIHNlbGYuYVNQID0g");
    sb.append("ZnVuY3Rpb24gKGZvcm0sIHN0YXRlLCBmb3J3YXJkVG8pIHsKICAgIGZvcm0ub25zdWJtaXQgPSBmdW5j");
    sb.append("dGlvbiAoZXZ0KSB7CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgcmVxID0gZ2V0");
    sb.append("X2Zvcm0oZm9ybSwgdHJ1ZSk7CiAgICAgIGlmICghKCJlbWFpbCIgaW4gcmVxKSkgewogICAgICAgIHJl");
    sb.append("cS5lbWFpbCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJlbWFpbCIpOwogICAgICB9CiAgICAgIGNvbm5l");
    sb.append("Y3Rpb24uSW5pdENvbXBsZXRlQWNjb3VudChyZXEuZW1haWwsIGZhbHNlLCByZXEuY29kZSwgewogICAg");
    sb.append("ICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChpbml0KSB7CiAgICAgICAgICB2YXIgaWRlbnRpdHkgPSBpbml0");
    sb.append("LmlkZW50aXR5OwogICAgICAgICAgY29ubmVjdGlvbi5BY2NvdW50U2V0UGFzc3dvcmQoaW5pdC5pZGVu");
    sb.append("dGl0eSwgcmVxLnBhc3N3b3JkLCB7CiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHsKICAg");
    sb.append("ICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaWRlbnRpdHlfZGVmYXVsdCIsIGlkZW50aXR5");
    sb.append("KTsKICAgICAgICAgICAgICBzZWxmLmdvdG8oZm9yd2FyZFRvKTsKICAgICAgICAgICAgICBmaXJlX3N1");
    sb.append("Y2Nlc3MoZm9ybSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChy");
    sb.append("ZWFzb24pIHsKICAgICAgICAgICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgIkZhaWxlZCBBY2NvdW50U2V0");
    sb.append("UGFzc3dvcmQ6IiArIHJlYXNvbik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0s");
    sb.append("CiAgICAgICAgZmFpbHVyZTogZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgZmlyZV9mYWlsdXJl");
    sb.append("KGZvcm0sICJGYWlsZWQgSW5pdENvbXBsZXRlQWNjb3VudDoiICsgcmVhc29uKTsKICAgICAgICB9CiAg");
    sb.append("ICAgIH0pOwogICAgfTsKICB9OwoKCiAgdmFyIGh5ZHJhdGVfZm9ybSA9IGZ1bmN0aW9uKGVsLCBpbnB1");
    sb.append("dCkgewogICAgdmFyIHRhZyA9IGVsLnRhZ05hbWUudG9VcHBlckNhc2UoKTsKICAgIHZhciBpc1NldHRh");
    sb.append("YmxlID0gdGFnID09ICJTRUxFQ1QiIHx8IHRhZyA9PSAiSU5QVVQiIHx8IHRhZyA9PSAiSElEREVOIjsK");
    sb.append("ICAgIGlmICgnbmFtZScgaW4gZWwgJiYgaXNTZXR0YWJsZSkgewogICAgICB2YXIgbmFtZSA9IGVsLm5h");
    sb.append("bWU7CiAgICAgIHZhciBwYXlsb2FkID0gaW5wdXQ7CiAgICAgIHZhciBrRG90T3JTbGFzaCA9IGZpcnN0");
    sb.append("T2NjdXIobmFtZS5pbmRleE9mKCcuJyksIG5hbWUuaW5kZXhPZignLycpKTsKICAgICAgd2hpbGUgKGtE");
    sb.append("b3RPclNsYXNoID4gMCkgewogICAgICAgIHZhciBpdGVtID0gbmFtZS5zdWJzdHJpbmcoMCwga0RvdE9y");
    sb.append("U2xhc2gpOwogICAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cmluZyhrRG90T3JTbGFzaCArIDEpOwogICAg");
    sb.append("ICAgIGlmIChpdGVtIGluIHBheWxvYWQpIHsKICAgICAgICAgIHBheWxvYWQgPSBwYXlsb2FkW2l0ZW1d");
    sb.append("OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGtEb3RP");
    sb.append("clNsYXNoID0gZmlyc3RPY2N1cihuYW1lLmluZGV4T2YoJy4nKSwgbmFtZS5pbmRleE9mKCcvJykpOwog");
    sb.append("ICAgICB9CiAgICAgIGlmIChuYW1lIGluIHBheWxvYWQpIHsKICAgICAgICB2YXIgdHlwZSA9IGVsLnR5");
    sb.append("cGUudG9VcHBlckNhc2UoKTsKICAgICAgICBpZiAodHlwZSA9PSAiQ0hFQ0tCT1giKSB7CiAgICAgICAg");
    sb.append("ICBlbC5jaGVja2VkID0gcGF5bG9hZFtuYW1lXSA9PSAidHJ1ZSIgfHwgcGF5bG9hZFtuYW1lXSA9PT0g");
    sb.append("dHJ1ZSA/IHRydWUgOiBmYWxzZTsKICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gIlJBRElPIikgewog");
    sb.append("ICAgICAgICAgaWYgKHBheWxvYWRbbmFtZV0gPT0gZWwudmFsdWUpIHsKICAgICAgICAgICAgZWwuY2hl");
    sb.append("Y2tlZCA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGVsLnZhbHVl");
    sb.append("ID0gcGF5bG9hZFtuYW1lXTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIGlmICgiY2hpbGRyZW4i");
    sb.append("IGluIGVsKSB7CiAgICAgIHZhciBhcnIgPSBlbC5jaGlsZHJlbjsKICAgICAgdmFyIG4gPSBhcnIubGVu");
    sb.append("Z3RoOwogICAgICBmb3IgKHZhciBrID0gMDsgayA8IG47IGsrKykgewogICAgICAgIHZhciBjaCA9IGVs");
    sb.append("LmNoaWxkcmVuW2tdOwogICAgICAgIGh5ZHJhdGVfZm9ybShjaCwgaW5wdXQpOwogICAgICB9CiAgICB9");
    sb.append("CiAgfQoKCiAgLy8gUlVOVElNRSB8IHJ4OmFjdGlvbjpjb3B5LWZvcm06JHRhcmdldC1pZAogIHNlbGYu");
    sb.append("YUNGID0gZnVuY3Rpb24oZm9ybSwgdGFyZ2V0Rm9ybUlkKSB7CiAgICBmb3JtLm9uc3VibWl0ID0gZnVu");
    sb.append("Y3Rpb24oZXZ0KSB7CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgaW5wdXQgPSBn");
    sb.append("ZXRfZm9ybShmb3JtLCBmYWxzZSk7CiAgICAgIHZhciB0YXJnZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50");
    sb.append("QnlJZCh0YXJnZXRGb3JtSWQpOwogICAgICBpZiAodGFyZ2V0KSB7CiAgICAgICAgaHlkcmF0ZV9mb3Jt");
    sb.append("KHRhcmdldCwgaW5wdXQpOwogICAgICAgIGZpcmVfc3VjY2Vzcyhmb3JtKQogICAgICB9IGVsc2Ugewog");
    sb.append("ICAgICAgIGZpcmVfZmFpbHVyZShmb3JtLCAiZmFpbGVkIHRvIGZpbmQgZm9ybSBieSBpZCAnIiArIHRh");
    sb.append("cmdldEZvcm1JZCArICInIik7CiAgICAgIH0KICAgIH07CiAgfTsKCiAgLy8gUlVOVElNRSB8IHJ4OmFj");
    sb.append("dGlvbj1zZW5kOiRjaGFubmVsCiAgc2VsZi5hU0QgPSBmdW5jdGlvbiAoZm9ybSwgc3RhdGUsIGNoYW5u");
    sb.append("ZWwpIHsKICAgIGZvcm0ub25zdWJtaXQgPSBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgIGV2dC5wcmV2ZW50");
    sb.append("RGVmYXVsdCgpOwogICAgICB2YXIgbXNnID0gZ2V0X2Zvcm0oZm9ybSwgZmFsc2UpOwogICAgICAvLyBU");
    sb.append("T0RPOiBwYXNzIHRocm91Z2ggdGhlIGRlYnVnZ2VyCiAgICAgIHN0YXRlLmRhdGEuY29ubmVjdGlvbi5w");
    sb.append("dHIuc2VuZChjaGFubmVsLCBtc2csIHsKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoLyogcGF5bG9h");
    sb.append("ZCAqLykgewogICAgICAgICAgZmlyZV9zdWNjZXNzKGZvcm0pOwogICAgICAgIH0sCiAgICAgICAgZmFp");
    sb.append("bHVyZTogZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgZmlyZV9mYWlsdXJlKGZvcm0sICJTZW5k");
    sb.append("IGZhaWxlZDoiICsgcmVhc29uKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfTsKICB9OwogIC8vIDx0");
    sb.append("b2RvdGFzaz5kZXNjcmlwdGlvbjwvdG9kb3Rhc2s+CiAgc2VsZi5UQVNLID0gZnVuY3Rpb24ocGRvbSwg");
    sb.append("aWQsIHNlY3Rpb24sIGRlc2NyaXB0aW9uKSB7CiAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0");
    sb.append("ZUVsZW1lbnQoImRpdiIpOwogICAgZWxlbWVudC5pbm5lckhUTUwgPSAiJiM5NzQ0OyAiICsgZGVzY3Jp");
    sb.append("cHRpb24gKyAiICggIiArIHNlY3Rpb24gKyAiKSA8YnIgLz4iOwogICAgcGRvbS5hcHBlbmRDaGlsZChl");
    sb.append("bGVtZW50KTsKICB9OwogIC8vIFJVTlRJTUU6IHByZS1jb21wcmVzc2lvbiBmb3Igc2V0dGluZyBhbiBh");
    sb.append("dHRyaWJ1dGUKICAvLyAiZC5zZXRBdHRyaWJ1dGUoYSx2KTsiIC0tPgogIC8vICQuU0EoZCxhLHYpOyIK");
    sb.append("ICBzZWxmLlNBID0gZnVuY3Rpb24oZG9tLCBhdHRyLCB2YWx1ZSkgewogICAgZG9tLnNldEF0dHJpYnV0");
    sb.append("ZShhdHRyLCB2YWx1ZSk7CiAgfTsKICAvLyBSVU5USU1FIHwgPC4uLiBocmVmPSIiIC4uLj4KICBzZWxm");
    sb.append("LkhSRUYgPSBmdW5jdGlvbiAoZG9tLCBocmVmKSB7CiAgICBkb20uc2V0QXR0cmlidXRlKCJocmVmIiwg");
    sb.append("Zml4SHJlZihocmVmKSk7CiAgICBkb20ub25jbGljayA9IGZ1bmN0aW9uIChldnQpIHsKICAgICAgdmFy");
    sb.append("IHBhcnRzID0gKGhyZWYuc3RhcnRzV2l0aCgiLyIpID8gaHJlZi5zdWJzdHJpbmcoMSkgOiBocmVmKS5z");
    sb.append("cGxpdCgiLyIpOwogICAgICBpZiAocm91dGUocGFydHMsIDAsIHJvdXRlciwge30pKSB7CiAgICAgICAg");
    sb.append("ZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgc2VsZi5ydW4oZG9jdW1lbnQuYm9keSwgaHJlZiwg");
    sb.append("dHJ1ZSk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHJldHVybiB0cnVlOwogICAg");
    sb.append("fTsKICB9OwogIC8vIFJVTlRJTUUgfCA8Li4uIGNsYXNzPSIiIC4uLj4KICBzZWxmLkFDTEFTUyA9IGZ1");
    sb.append("bmN0aW9uIChkb20sIHZhbHVlKSB7CiAgICBkb20uc2V0QXR0cmlidXRlKCJjbGFzcyIsIHZhbHVlKTsK");
    sb.append("ICB9OwogIC8vIFJVTlRJTUUgfCA8Li4uIHNyYz0iIiAuLi4+CiAgc2VsZi5BU1JDID0gZnVuY3Rpb24g");
    sb.append("KGRvbSwgdmFsdWUpIHsKICAgIGRvbS5zZXRBdHRyaWJ1dGUoInNyYyIsIHZhbHVlKTsKICB9OwogIHdp");
    sb.append("bmRvdy5yeGh0bWwgPSBzZWxmOwogIHJldHVybiBzZWxmOwp9KSgpOw==");
    return sb.toString();
  }
  public static final String CONNECTION = new String(Base64.getDecoder().decode(make_connection()), StandardCharsets.UTF_8);
  private static String make_connection() {
    StringBuilder sb = new StringBuilder();
    sb.append("LyoKICogVGhpcyBmaWxlIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIGFuZCBjb25kaXRpb25zIG91dGxp");
    sb.append("bmVkIGluIHRoZQogKiBmaWxlICdMSUNFTlNFJyAoaXQncyBkdWFsIGxpY2Vuc2VkKSBsb2NhdGVkIGlu");
    sb.append("IHRoZSByb290IGRpcmVjdG9yeQogKiBuZWFyIHRoZSBSRUFETUUubWQgd2hpY2ggeW91IHNob3VsZCBh");
    sb.append("bHNvIHJlYWQuIEZvciBtb3JlIGluZm9ybWF0aW9uCiAqIGFib3V0IHRoZSBwcm9qZWN0IHdoaWNoIG93");
    sb.append("bnMgdGhpcyBmaWxlLCBzZWUgaHR0cHM6Ly93d3cuYWRhbWEtcGxhdGZvcm0uY29tLyAuCiAqCiAqIChj");
    sb.append("KSAyMDIxIC0gMjAyMyBieSBBZGFtYSBQbGF0Zm9ybSBJbml0aWF0aXZlLCBMTEMKICovCi8qKiBUaGUg");
    sb.append("V2ViU29ja2V0IGNvbm5lY3Rpb24gdG8gQWRhbWEgKi8KY2xhc3MgV2ViU29ja2V0QWRhbWFDb25uZWN0");
    sb.append("aW9uIHsKICBjb25zdHJ1Y3Rvcihob3N0KSB7CiAgICAvLyBvbiBmYWlsdXJlLCB3ZSBiYWNrLW9mZiB3");
    sb.append("aXRoIHRoaXMgbWlsbGlzZWNvbmRzCiAgICB0aGlzLmJhY2tvZmYgPSAxOwogICAgLy8gdGhlIGhvc3Qg");
    sb.append("d2UgYXJlIGNvbm5lY3RpbmcgdG8KICAgIHRoaXMuaG9zdCA9IGhvc3Q7CiAgICAvLyBmb3JtIHRoZSBV");
    sb.append("Ukwgb2YgdGhlIGhvc3QKICAgIHRoaXMudXJsID0gIndzczovLyIgKyBob3N0ICsgIi9+cyI7CiAgICAv");
    sb.append("LyBpcyB0aGUgY29ubmVjdGlvbiBjb25uZWN0ZWQKICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7CiAg");
    sb.append("ICAvLyBUT0RPCiAgICB0aGlzLmFzc2V0cyA9IHRydWU7CiAgICAvLyBpcyB0aGUgY29ubmVjdGlvbiBk");
    sb.append("ZWFkCiAgICB0aGlzLmRlYWQgPSBmYWxzZTsKICAgIC8vIHRoZSBtYXhpbXVtIHBlcmlvZCBvZiB0aW1l");
    sb.append("IGJldHdlZW4gd2FpdGluZyBmb3IgYSByZXRyeQogICAgdGhpcy5tYXhpbXVtX2JhY2tvZmYgPSA1MDAw");
    sb.append("OwogICAgLy8gd2hlbiB0aGUgY29ubmVjdGlvbiB0aW1lcyBvdXQgZnJvbSB0aGUgc2VydmVyLCBob3cg");
    sb.append("bG9uZyB0byB3YWl0IHVudGlsIHdlIHJlY29ubmVjdAogICAgdGhpcy5yZXNldF9iYWNrb2ZmID0gMTAw");
    sb.append("MDsKICAgIC8vIHRoZSBhY3R1YWwgd2Vic29ja2V0CiAgICB0aGlzLnNvY2tldCA9IG51bGw7CiAgICAv");
    sb.append("LyB3aGF0IGhhcHBlbnMgd2hlbiB0aGUgc3RhdHVzIGNoYW5nZXMKICAgIHRoaXMub25zdGF0dXNjaGFu");
    sb.append("Z2UgPSBmdW5jdGlvbiAoc3RhdHVzKSB7IH07CiAgICAvLyB3aGF0IGhhcHBlbnMgd2hlbiB3ZSBsZWFy");
    sb.append("biB0aGUgbGF0ZW5jeQogICAgdGhpcy5vbnBpbmcgPSBmdW5jdGlvbiAoc2Vjb25kcywgbGF0ZW5jeSkg");
    sb.append("eyB9OwogICAgLy8gaXMgYSByZXRyeSBzY2hlZHVsZWQKICAgIHRoaXMuc2NoZWR1bGVkID0gZmFsc2U7");
    sb.append("CiAgICAvLyBjYWxsYmFjayBtYXBwaW5nCiAgICB0aGlzLmNhbGxiYWNrcyA9IG5ldyBNYXAoKTsKICAg");
    sb.append("IC8vIGlkIGdlbmVyYXRpb24KICAgIHRoaXMubmV4dElkID0gMDsKICAgIC8vIGV2ZW50cyB0byBleGVj");
    sb.append("dXRlIG9uIHJlY29ubmVjdAogICAgdGhpcy5vbnJlY29ubmVjdCA9IG5ldyBNYXAoKTsKICB9CgogIC8q");
    sb.append("KiBzdG9wIHRoZSBjb25uZWN0aW9uICovCiAgc3RvcCgpIHsKICAgIHRoaXMuZGVhZCA9IHRydWU7CiAg");
    sb.append("ICBpZiAodGhpcy5zb2NrZXQgIT09IG51bGwpIHsKICAgICAgdGhpcy5zb2NrZXQuY2xvc2UoKTsKICAg");
    sb.append("IH0KICB9CgogIC8qKiBwcml2YXRlOiByZXRyeSB0aGUgY29ubmVjdGlvbiAqLwogIF9yZXRyeSgpIHsK");
    sb.append("ICAgIC8vIG51bGwgb3V0IHRoZSBzb2NrZXQKICAgIHRoaXMuc29ja2V0ID0gbnVsbDsKICAgIC8vIGlm");
    sb.append("IHdlIGFyZSBjb25uZWN0ZWQsIHRyYW5zaXRpb24gdGhlIHN0YXR1cwogICAgaWYgKHRoaXMuY29ubmVj");
    sb.append("dGVkKSB7CiAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7CiAgICAgIHRoaXMub25zdGF0dXNjaGFu");
    sb.append("Z2UoZmFsc2UpOwogICAgfQogICAgdGhpcy5jYWxsYmFja3MuY2xlYXIoKTsKICAgIC8vIGlmIHdlIGFy");
    sb.append("ZSBkZWFkLCB0aGVuIGRvbid0IGFjdHVhbGx5IHJldHJ5CiAgICBpZiAodGhpcy5kZWFkKSB7CiAgICAg");
    sb.append("IHJldHVybjsKICAgIH0KICAgIC8vIG1ha2Ugc3VyZQogICAgaWYgKCF0aGlzLnNjaGVkdWxlZCkgewog");
    sb.append("ICAgICAvLyBzY2hlZHVsZSBhIHJldHJ5OyBmaXJzdCBjb21wdXRlIGhvdyBsb25nIHRvIHRha2UKICAg");
    sb.append("ICAgLy8gY29tcHV0ZSBob3cgbG9uZyB3ZSBuZWVkIHRvIHdhaXQKICAgICAgdmFyIGhhbHZlQWZ0ZXJT");
    sb.append("Y2hlZHVsZSA9IGZhbHNlOwogICAgICB0aGlzLmJhY2tvZmYgKz0gTWF0aC5yYW5kb20oKSAqIHRoaXMu");
    sb.append("YmFja29mZjsKICAgICAgaWYgKHRoaXMuYmFja29mZiA+IHRoaXMubWF4aW11bV9iYWNrb2ZmKSB7CiAg");
    sb.append("ICAgICAgdGhpcy5iYWNrb2ZmID0gdGhpcy5tYXhpbXVtX2JhY2tvZmY7CiAgICAgICAgaGFsdmVBZnRl");
    sb.append("clNjaGVkdWxlID0gdHJ1ZTsKICAgICAgfQoKICAgICAgLy8gc2NoZWR1bGUgaXQKICAgICAgdGhpcy5z");
    sb.append("Y2hlZHVsZWQgPSB0cnVlOwogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHNldFRpbWVvdXQoZnVu");
    sb.append("Y3Rpb24gKCkgewogICAgICAgIHNlbGYuc3RhcnQoKTsKICAgICAgfSwgdGhpcy5iYWNrb2ZmKTsKCiAg");
    sb.append("ICAgIC8vIHdlIGp1c3Qgc2NoZWR1bGVkIGl0IGZvciB0aGUgbWF4aW11bSBiYWNrb2ZmIHRpbWUsIGxl");
    sb.append("dCdzIHJlZHVjZSB0aGUgYmFja29mZiBzbyB0aGUgbmV4dCBvbmUgd2lsbCBoYXZlIHNvbWUgaml0dGVy");
    sb.append("CiAgICAgIGlmIChoYWx2ZUFmdGVyU2NoZWR1bGUpIHsKICAgICAgICB0aGlzLmJhY2tvZmYgLz0gMi4w");
    sb.append("OwogICAgICB9CiAgICB9CiAgfQoKICAvKiogc3RhcnQgdGhlIGNvbm5lY3Rpb24gKi8KICBzdGFydCgp");
    sb.append("IHsKICAgIC8vIHJlc2V0IHRoZSBzdGF0ZQogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdGhpcy5zY2hl");
    sb.append("ZHVsZWQgPSBmYWxzZTsKICAgIHRoaXMuZGVhZCA9IGZhbHNlOwogICAgLy8gY3JlYXRlIHRoZSBzb2Nr");
    sb.append("ZXQgYW5kIGJpbmQgZXZlbnQgaGFuZGxlcnMKICAgIHRoaXMuc29ja2V0ID0gbmV3IFdlYlNvY2tldCh0");
    sb.append("aGlzLnVybCk7CiAgICB0aGlzLnNvY2tldC5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAg");
    sb.append("ICAgdmFyIHJlc3VsdCA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7CiAgICAgIC8vIGEgbWVzc2FnZSBh");
    sb.append("cnJpdmVkLCBpcyBpdCBhIGNvbm5lY3Rpb24gc2lnbmFsCiAgICAgIGlmICgicGluZyIgaW4gcmVzdWx0");
    sb.append("KSB7CiAgICAgICAgc2VsZi5vbnBpbmcocmVzdWx0LnBpbmcsIHJlc3VsdC5sYXRlbmN5KTsKICAgICAg");
    sb.append("ICByZXN1bHQucG9uZyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMC4wOwogICAgICAgIHNlbGYu");
    sb.append("c29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkocmVzdWx0KSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9");
    sb.append("CiAgICAgIGlmICgic3RhdHVzIiBpbiByZXN1bHQpIHsKICAgICAgICAvLyBoZXksIGFyZSB3ZSBjb25u");
    sb.append("ZWN0ZWQ/CiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgIT0gImNvbm5lY3RlZCIpIHsKICAgICAgICAg");
    sb.append("IC8vIG5vcGUsIE9LLCBsZXQncyBtYWtlIHRoaXMgYSBkZWFkIHNvY2tldAogICAgICAgICAgc2VsZi5z");
    sb.append("b2NrZXQuY2xvc2UoKTsKICAgICAgICAgIHNlbGYuc29ja2V0ID0gbnVsbDsKICAgICAgICAgIHNlbGYu");
    sb.append("YmFja29mZiA9IHNlbGYucmVzZXRfYmFja29mZjsKICAgICAgICAgIHNlbGYuX3JldHJ5KCk7CiAgICAg");
    sb.append("ICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIC8vIHRlbGwgdGhlIGNsaWVudCB0aGF0IHdlIGFy");
    sb.append("ZSBnb29kIQogICAgICAgIHNlbGYuYmFja29mZiA9IDE7CiAgICAgICAgc2VsZi5jb25uZWN0ZWQgPSB0");
    sb.append("cnVlOwogICAgICAgIHNlbGYuYXNzZXRzID0gcmVzdWx0LmFzc2V0czsKICAgICAgICBzZWxmLm9uc3Rh");
    sb.append("dHVzY2hhbmdlKHRydWUpOwogICAgICAgIHNlbGYuX3JlY29ubmVjdCgpOwogICAgICAgIHNlbGYuQ29u");
    sb.append("ZmlndXJlTWFrZU9yR2V0QXNzZXRLZXkoewogICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHBheWxv");
    sb.append("YWQpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICB2YXIgeGh0dHAgPSBuZXcgWE1MSHR0");
    sb.append("cFJlcXVlc3QoKTsKICAgICAgICAgICAgICB4aHR0cC5vcGVuKCJHRVQiLCAiaHR0cHM6Ly8iICsgc2Vs");
    sb.append("Zi5ob3N0ICsgIi9+cCIgKyBwYXlsb2FkLmFzc2V0S2V5LCB0cnVlKTsKICAgICAgICAgICAgICB4aHR0");
    sb.append("cC53aXRoQ3JlZGVudGlhbHMgPSB0cnVlOwogICAgICAgICAgICAgIHhodHRwLnNlbmQoKTsKICAgICAg");
    sb.append("ICAgICAgfSBjYXRjaCAoZXgpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhleCk7CiAgICAgICAg");
    sb.append("ICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAg");
    sb.append("ICB9CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIC8vIHRoZSByZXN1bHQg");
    sb.append("d2FzIGEgZmFpbHVyZS4uLgogICAgICBpZiAoImZhaWx1cmUiIGluIHJlc3VsdCkgewogICAgICAgIC8v");
    sb.append("IGZpbmQgdGhlIGNhbGxiYWNrLCB0aGVuIGludm9rZSBpdCAoYW5kIGNsZWFuIHVwKQogICAgICAgIGlm");
    sb.append("IChzZWxmLmNhbGxiYWNrcy5oYXMocmVzdWx0LmZhaWx1cmUpKSB7CiAgICAgICAgICB2YXIgY2IgPSBz");
    sb.append("ZWxmLmNhbGxiYWNrcy5nZXQocmVzdWx0LmZhaWx1cmUpOwogICAgICAgICAgaWYgKGNiKSB7CiAgICAg");
    sb.append("ICAgICAgIHNlbGYuY2FsbGJhY2tzLmRlbGV0ZShyZXN1bHQuZmFpbHVyZSk7CiAgICAgICAgICAgIGNi");
    sb.append("KHJlc3VsdCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKCJkZWxpdmVyIiBp");
    sb.append("biByZXN1bHQpIHsKICAgICAgICAvLyBvdGhlcndpc2UsIHdlIGhhdmUgYSBzdWNjZXNzLCBzbyBsZXQn");
    sb.append("cyBmaW5kIHRoZSBjYWxsYmFjaywgYW5kIGlmIG5lZWQgYmUgY2xlYW4gdXAKICAgICAgICBpZiAoc2Vs");
    sb.append("Zi5jYWxsYmFja3MuaGFzKHJlc3VsdC5kZWxpdmVyKSkgewogICAgICAgICAgdmFyIGNiID0gc2VsZi5j");
    sb.append("YWxsYmFja3MuZ2V0KHJlc3VsdC5kZWxpdmVyKTsKICAgICAgICAgIGlmIChjYikgewogICAgICAgICAg");
    sb.append("ICBpZiAocmVzdWx0LmRvbmUpIHsKICAgICAgICAgICAgICBzZWxmLmNhbGxiYWNrcy5kZWxldGUocmVz");
    sb.append("dWx0LmRlbGl2ZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNiKHJlc3VsdCk7CiAgICAgICAg");
    sb.append("ICB9CiAgICAgICAgfQogICAgICB9CiAgICB9OwogICAgdGhpcy5zb2NrZXQub25jbG9zZSA9IGZ1bmN0");
    sb.append("aW9uIChldmVudCkgewogICAgICAvLyBsZXQncyByZXRyeS4uLiBvciBzaG91bGQgd2Ugbm90CiAgICAg");
    sb.append("IHNlbGYuX3JldHJ5KCk7CiAgICB9OwogICAgdGhpcy5zb2NrZXQub25lcnJvciA9IGZ1bmN0aW9uIChl");
    sb.append("dmVudCkgewogICAgICAvLyBzb21ldGhpbmcgYmFkIGhhcHBlbmVkLCBsZXQncyByZXRyeQogICAgICBz");
    sb.append("ZWxmLl9yZXRyeSgpOwogICAgfTsKICB9CgogIC8qKiBwcml2YXRlOiBzZW5kIGEgcmF3IG1lc3NhZ2Ug");
    sb.append("Ki8KICBfd3JpdGUocmVxdWVzdCwgY2FsbGJhY2spIHsKICAgIGlmICghdGhpcy5jb25uZWN0ZWQpIHsK");
    sb.append("ICAgICAgY2FsbGJhY2soeyBmYWlsdXJlOiA2MDAsIHJlYXNvbjogOTk5IH0pOwogICAgICByZXR1cm47");
    sb.append("CiAgICB9CiAgICB0aGlzLmNhbGxiYWNrcy5zZXQocmVxdWVzdC5pZCwgY2FsbGJhY2spOwogICAgdGhp");
    sb.append("cy5zb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeShyZXF1ZXN0KSk7CiAgfQoKICAvKiogYXBpOiB3YWl0");
    sb.append("IGZvciBhIGNvbm5lY3Rpb24gKi8KICBhc3luYyB3YWl0X2Nvbm5lY3RlZCgpIHsKICAgIGlmICh0aGlz");
    sb.append("LmNvbm5lY3RlZCkgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGdvb2QpIHsKICAg");
    sb.append("ICAgICBnb29kKHRydWUpOwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBzZWxmID0gdGhp");
    sb.append("czsKICAgICAgdmFyIHByaW9yID0gdGhpcy5vbnN0YXR1c2NoYW5nZTsKICAgICAgcmV0dXJuIG5ldyBQ");
    sb.append("cm9taXNlKGZ1bmN0aW9uIChnb29kKSB7CiAgICAgICAgc2VsZi5vbnN0YXR1c2NoYW5nZSA9IGZ1bmN0");
    sb.append("aW9uIChzdGF0dXMpIHsKICAgICAgICAgIHByaW9yKHN0YXR1cyk7CiAgICAgICAgICBpZiAoc3RhdHVz");
    sb.append("KSB7CiAgICAgICAgICAgIGdvb2QodHJ1ZSk7CiAgICAgICAgICAgIHNlbGYub25zdGF0dXNjaGFuZ2Ug");
    sb.append("PSBwcmlvcjsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9KTsKICAgIH0KICB9CgogIF9yZWNv");
    sb.append("bm5lY3QoKSB7CiAgICB0aGlzLm9ucmVjb25uZWN0LmZvckVhY2goZnVuY3Rpb24gKHNtLCBpZCkgewog");
    sb.append("ICAgICBzbS5fX3JldHJ5KCk7CiAgICB9KTsKICB9CgogIC8qKiBleGVjdXRlIGEgcmVxdWVzZSByZXNw");
    sb.append("b25zZSB3aXRoIHRoZSBnaXZlbiBzdGF0ZSBtYWNoaW5lICovCiAgX19leGVjdXRlX3JyKHNtKSB7CiAg");
    sb.append("ICB2YXIgc2VsZiA9IHRoaXM7CiAgICBzbS5maXJzdCA9IHRydWU7CiAgICBzZWxmLl93cml0ZShzbS5y");
    sb.append("ZXF1ZXN0LCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgaWYgKHNtLmZpcnN0KSB7CiAgICAgICAg");
    sb.append("c20uZmlyc3QgPSBmYWxzZTsKICAgICAgICBpZiAoImZhaWx1cmUiIGluIHJlc3BvbnNlKSB7CiAgICAg");
    sb.append("ICAgICBpZiAoJ2ZhaWx1cmUnIGluIHNtLnJlc3BvbmRlcikgewogICAgICAgICAgICBzbS5yZXNwb25k");
    sb.append("ZXIuZmFpbHVyZShyZXNwb25zZS5yZWFzb24pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAg");
    sb.append("ICAgICAgICBpZiAoJ3N1Y2Nlc3MnIGluIHNtLnJlc3BvbmRlcikgewogICAgICAgICAgICBzbS5yZXNw");
    sb.append("b25kZXIuc3VjY2VzcyhyZXNwb25zZS5yZXNwb25zZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAg");
    sb.append("ICB9CiAgICAgIHNlbGYub25yZWNvbm5lY3QuZGVsZXRlKHNtLmlkKTsKICAgIH0pOwogICAgc2VsZi5v");
    sb.append("bnJlY29ubmVjdC5zZXQoc20uaWQsIHNtKTsKICAgIHNtLl9fcmV0cnkgPSBmdW5jdGlvbiAoKSB7CiAg");
    sb.append("ICAgIHNlbGYuX19leGVjdXRlX3JyKHNtKTsKICAgIH07CiAgICByZXR1cm4gc207CiAgfQoKICAvKiog");
    sb.append("ZXhlY3V0ZSBhIHN0cmVhbSByZXF1ZXN0IHdpdGggdGhlIGdpdmVuIHN0YXRlIG1hY2hpbmUgKi8KICBf");
    sb.append("X2V4ZWN1dGVfc3RyZWFtKHNtKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICBzZWxmLl93cml0ZShz");
    sb.append("bS5yZXF1ZXN0LCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgaWYgKCJmYWlsdXJlIiBpbiByZXNw");
    sb.append("b25zZSkgewogICAgICAgIGlmICgnZmFpbHVyZScgaW4gc20ucmVzcG9uZGVyKSB7CiAgICAgICAgICBz");
    sb.append("bS5yZXNwb25kZXIuZmFpbHVyZShyZXNwb25zZS5yZWFzb24pOwogICAgICAgIH0KICAgICAgICBzZWxm");
    sb.append("Lm9ucmVjb25uZWN0LmRlbGV0ZShzbS5pZCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlm");
    sb.append("IChyZXNwb25zZS5yZXNwb25zZSkgewogICAgICAgIGlmICgnbmV4dCcgaW4gc20ucmVzcG9uZGVyKSB7");
    sb.append("CiAgICAgICAgICBzbS5yZXNwb25kZXIubmV4dChyZXNwb25zZS5yZXNwb25zZSk7CiAgICAgICAgfQog");
    sb.append("ICAgICB9CiAgICAgIGlmIChyZXNwb25zZS5kb25lKSB7CiAgICAgICAgaWYgKCdjb21wbGV0ZScgaW4g");
    sb.append("c20ucmVzcG9uZGVyKSB7CiAgICAgICAgICBzbS5yZXNwb25kZXIuY29tcGxldGUoKTsKICAgICAgICB9");
    sb.append("CiAgICAgICAgc2VsZi5vbnJlY29ubmVjdC5kZWxldGUoc20uaWQpOwogICAgICB9CiAgICB9KTsKICAg");
    sb.append("IHNlbGYub25yZWNvbm5lY3Quc2V0KHNtLmlkLCBzbSk7CiAgICBzbS5fX3JldHJ5ID0gZnVuY3Rpb24g");
    sb.append("KCkgewogICAgICBzZWxmLl9fZXhlY3V0ZV9zdHJlYW0oc20pOwogICAgfTsKICAgIHJldHVybiBzbTsK");
    sb.append("ICB9CgogIF9faWQoKSB7CiAgICB0aGlzLm5leHRJZCsrOwogICAgcmV0dXJuIHRoaXMubmV4dElkOwog");
    sb.append("IH0KCiAgLyoqW0JFR0lOLUlOVk9LRV0qKi8KICBJbml0U2V0dXBBY2NvdW50KGVtYWlsLCByZXNwb25k");
    sb.append("ZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAg");
    sb.append("cmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6");
    sb.append("IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJpbml0L3NldHVwLWFjY291bnQiLCAi");
    sb.append("aWQiOnBhcklkLCAiZW1haWwiOiBlbWFpbH0KICAgIH0pOwogIH0KICBJbml0Q29udmVydEdvb2dsZVVz");
    sb.append("ZXIoYWNjZXNzVG9rZW4sIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBh");
    sb.append("cklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDog");
    sb.append("cGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6");
    sb.append("ImluaXQvY29udmVydC1nb29nbGUtdXNlciIsICJpZCI6cGFySWQsICJhY2Nlc3MtdG9rZW4iOiBhY2Nl");
    sb.append("c3NUb2tlbn0KICAgIH0pOwogIH0KICBJbml0Q29tcGxldGVBY2NvdW50KGVtYWlsLCByZXZva2UsIGNv");
    sb.append("ZGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5f");
    sb.append("X2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAg");
    sb.append("IHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImluaXQvY29tcGxl");
    sb.append("dGUtYWNjb3VudCIsICJpZCI6cGFySWQsICJlbWFpbCI6IGVtYWlsLCAicmV2b2tlIjogcmV2b2tlLCAi");
    sb.append("Y29kZSI6IGNvZGV9CiAgICB9KTsKICB9CiAgRGVpbml0KGlkZW50aXR5LCByZXNwb25kZXIpIHsKICAg");
    sb.append("IHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNl");
    sb.append("bGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRl");
    sb.append("ciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkZWluaXQiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHki");
    sb.append("OiBpZGVudGl0eX0KICAgIH0pOwogIH0KICBBY2NvdW50U2V0UGFzc3dvcmQoaWRlbnRpdHksIHBhc3N3");
    sb.append("b3JkLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYu");
    sb.append("X19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAg");
    sb.append("ICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJhY2NvdW50L3Nl");
    sb.append("dC1wYXNzd29yZCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAicGFzc3dvcmQiOiBw");
    sb.append("YXNzd29yZH0KICAgIH0pOwogIH0KICBBY2NvdW50R2V0UGF5bWVudFBsYW4oaWRlbnRpdHksIHJlc3Bv");
    sb.append("bmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAg");
    sb.append("ICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRl");
    sb.append("cjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImFjY291bnQvZ2V0LXBheW1lbnQt");
    sb.append("cGxhbiIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5fQogICAgfSk7CiAgfQogIEFjY291");
    sb.append("bnRMb2dpbihlbWFpbCwgcGFzc3dvcmQsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwog");
    sb.append("ICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewog");
    sb.append("ICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7");
    sb.append("Im1ldGhvZCI6ImFjY291bnQvbG9naW4iLCAiaWQiOnBhcklkLCAiZW1haWwiOiBlbWFpbCwgInBhc3N3");
    sb.append("b3JkIjogcGFzc3dvcmR9CiAgICB9KTsKICB9CiAgUHJvYmUoaWRlbnRpdHksIHJlc3BvbmRlcikgewog");
    sb.append("ICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4g");
    sb.append("c2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9u");
    sb.append("ZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6InByb2JlIiwgImlkIjpwYXJJZCwgImlkZW50aXR5");
    sb.append("IjogaWRlbnRpdHl9CiAgICB9KTsKICB9CiAgQXV0aG9yaXR5Q3JlYXRlKGlkZW50aXR5LCByZXNwb25k");
    sb.append("ZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAg");
    sb.append("cmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6");
    sb.append("IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJhdXRob3JpdHkvY3JlYXRlIiwgImlk");
    sb.append("IjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHl9CiAgICB9KTsKICB9CiAgQXV0aG9yaXR5U2V0KGlk");
    sb.append("ZW50aXR5LCBhdXRob3JpdHksIGtleVN0b3JlLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhp");
    sb.append("czsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3Jy");
    sb.append("KHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVz");
    sb.append("dDogeyJtZXRob2QiOiJhdXRob3JpdHkvc2V0IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRp");
    sb.append("dHksICJhdXRob3JpdHkiOiBhdXRob3JpdHksICJrZXktc3RvcmUiOiBrZXlTdG9yZX0KICAgIH0pOwog");
    sb.append("IH0KICBBdXRob3JpdHlHZXQoaWRlbnRpdHksIGF1dGhvcml0eSwgcmVzcG9uZGVyKSB7CiAgICB2YXIg");
    sb.append("c2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9f");
    sb.append("ZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAg");
    sb.append("ICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiYXV0aG9yaXR5L2dldCIsICJpZCI6cGFySWQsICJpZGVudGl0");
    sb.append("eSI6IGlkZW50aXR5LCAiYXV0aG9yaXR5IjogYXV0aG9yaXR5fQogICAgfSk7CiAgfQogIEF1dGhvcml0");
    sb.append("eUxpc3QoaWRlbnRpdHksIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBh");
    sb.append("cklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfc3RyZWFtKHsKICAgICAg");
    sb.append("aWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRo");
    sb.append("b2QiOiJhdXRob3JpdHkvbGlzdCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5fQogICAg");
    sb.append("fSk7CiAgfQogIEF1dGhvcml0eURlc3Ryb3koaWRlbnRpdHksIGF1dGhvcml0eSwgcmVzcG9uZGVyKSB7");
    sb.append("CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVy");
    sb.append("biBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNw");
    sb.append("b25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiYXV0aG9yaXR5L2Rlc3Ryb3kiLCAiaWQiOnBh");
    sb.append("cklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgImF1dGhvcml0eSI6IGF1dGhvcml0eX0KICAgIH0pOwog");
    sb.append("IH0KICBTcGFjZUNyZWF0ZShpZGVudGl0eSwgc3BhY2UsIHRlbXBsYXRlLCByZXNwb25kZXIpIHsKICAg");
    sb.append("IHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNl");
    sb.append("bGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRl");
    sb.append("ciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJzcGFjZS9jcmVhdGUiLCAiaWQiOnBhcklkLCAiaWRl");
    sb.append("bnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2UsICJ0ZW1wbGF0ZSI6IHRlbXBsYXRlfQogICAg");
    sb.append("fSk7CiAgfQogIFNwYWNlR2VuZXJhdGVLZXkoaWRlbnRpdHksIHNwYWNlLCByZXNwb25kZXIpIHsKICAg");
    sb.append("IHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNl");
    sb.append("bGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRl");
    sb.append("ciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJzcGFjZS9nZW5lcmF0ZS1rZXkiLCAiaWQiOnBhcklk");
    sb.append("LCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2V9CiAgICB9KTsKICB9CiAgU3BhY2VV");
    sb.append("c2FnZShpZGVudGl0eSwgc3BhY2UsIGxpbWl0LCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhp");
    sb.append("czsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3N0");
    sb.append("cmVhbSh7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJl");
    sb.append("cXVlc3Q6IHsibWV0aG9kIjoic3BhY2UvdXNhZ2UiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVu");
    sb.append("dGl0eSwgInNwYWNlIjogc3BhY2UsICJsaW1pdCI6IGxpbWl0fQogICAgfSk7CiAgfQogIFNwYWNlR2V0");
    sb.append("KGlkZW50aXR5LCBzcGFjZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIg");
    sb.append("cGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlk");
    sb.append("OiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9k");
    sb.append("Ijoic3BhY2UvZ2V0IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJzcGFjZSI6IHNw");
    sb.append("YWNlfQogICAgfSk7CiAgfQogIFNwYWNlU2V0KGlkZW50aXR5LCBzcGFjZSwgcGxhbiwgcmVzcG9uZGVy");
    sb.append("KSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJl");
    sb.append("dHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiBy");
    sb.append("ZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoic3BhY2Uvc2V0IiwgImlkIjpwYXJJZCwg");
    sb.append("ImlkZW50aXR5IjogaWRlbnRpdHksICJzcGFjZSI6IHNwYWNlLCAicGxhbiI6IHBsYW59CiAgICB9KTsK");
    sb.append("ICB9CiAgU3BhY2VSZWRlcGxveUtpY2soaWRlbnRpdHksIHNwYWNlLCByZXNwb25kZXIpIHsKICAgIHZh");
    sb.append("ciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYu");
    sb.append("X19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwK");
    sb.append("ICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJzcGFjZS9yZWRlcGxveS1raWNrIiwgImlkIjpwYXJJZCwg");
    sb.append("ImlkZW50aXR5IjogaWRlbnRpdHksICJzcGFjZSI6IHNwYWNlfQogICAgfSk7CiAgfQogIFNwYWNlU2V0");
    sb.append("UnhodG1sKGlkZW50aXR5LCBzcGFjZSwgcnhodG1sLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0g");
    sb.append("dGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRl");
    sb.append("X3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVx");
    sb.append("dWVzdDogeyJtZXRob2QiOiJzcGFjZS9zZXQtcnhodG1sIiwgImlkIjpwYXJJZCwgImlkZW50aXR5Ijog");
    sb.append("aWRlbnRpdHksICJzcGFjZSI6IHNwYWNlLCAicnhodG1sIjogcnhodG1sfQogICAgfSk7CiAgfQogIFNw");
    sb.append("YWNlR2V0UnhodG1sKGlkZW50aXR5LCBzcGFjZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRo");
    sb.append("aXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9y");
    sb.append("cih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVl");
    sb.append("c3Q6IHsibWV0aG9kIjoic3BhY2UvZ2V0LXJ4aHRtbCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlk");
    sb.append("ZW50aXR5LCAic3BhY2UiOiBzcGFjZX0KICAgIH0pOwogIH0KICBTcGFjZURlbGV0ZShpZGVudGl0eSwg");
    sb.append("c3BhY2UsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2Vs");
    sb.append("Zi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAg");
    sb.append("ICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6InNwYWNlL2Rl");
    sb.append("bGV0ZSIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2UiOiBzcGFjZX0KICAg");
    sb.append("IH0pOwogIH0KICBTcGFjZVNldFJvbGUoaWRlbnRpdHksIHNwYWNlLCBlbWFpbCwgcm9sZSwgcmVzcG9u");
    sb.append("ZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAg");
    sb.append("IHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVy");
    sb.append("OiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoic3BhY2Uvc2V0LXJvbGUiLCAiaWQi");
    sb.append("OnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2UsICJlbWFpbCI6IGVtYWls");
    sb.append("LCAicm9sZSI6IHJvbGV9CiAgICB9KTsKICB9CiAgU3BhY2VMaXN0RGV2ZWxvcGVycyhpZGVudGl0eSwg");
    sb.append("c3BhY2UsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2Vs");
    sb.append("Zi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfc3RyZWFtKHsKICAgICAgaWQ6IHBhcklk");
    sb.append("LAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJzcGFj");
    sb.append("ZS9saXN0LWRldmVsb3BlcnMiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNl");
    sb.append("Ijogc3BhY2V9CiAgICB9KTsKICB9CiAgU3BhY2VSZWZsZWN0KGlkZW50aXR5LCBzcGFjZSwga2V5LCBy");
    sb.append("ZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgp");
    sb.append("OwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNw");
    sb.append("b25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJzcGFjZS9yZWZsZWN0Iiwg");
    sb.append("ImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJzcGFjZSI6IHNwYWNlLCAia2V5Ijoga2V5");
    sb.append("fQogICAgfSk7CiAgfQogIFNwYWNlTGlzdChpZGVudGl0eSwgbWFya2VyLCBsaW1pdCwgcmVzcG9uZGVy");
    sb.append("KSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJl");
    sb.append("dHVybiBzZWxmLl9fZXhlY3V0ZV9zdHJlYW0oewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRl");
    sb.append("cjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6InNwYWNlL2xpc3QiLCAiaWQiOnBh");
    sb.append("cklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgIm1hcmtlciI6IG1hcmtlciwgImxpbWl0IjogbGltaXR9");
    sb.append("CiAgICB9KTsKICB9CiAgRG9tYWluTWFwKGlkZW50aXR5LCBkb21haW4sIHNwYWNlLCBjZXJ0aWZpY2F0");
    sb.append("ZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9f");
    sb.append("aWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAg");
    sb.append("cmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9tYWluL21hcCIs");
    sb.append("ICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAiZG9tYWluIjogZG9tYWluLCAic3BhY2Ui");
    sb.append("OiBzcGFjZSwgImNlcnRpZmljYXRlIjogY2VydGlmaWNhdGV9CiAgICB9KTsKICB9CiAgRG9tYWluUmVm");
    sb.append("bGVjdChpZGVudGl0eSwgZG9tYWluLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAg");
    sb.append("IHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAg");
    sb.append("ICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJt");
    sb.append("ZXRob2QiOiJkb21haW4vcmVmbGVjdCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAi");
    sb.append("ZG9tYWluIjogZG9tYWlufQogICAgfSk7CiAgfQogIERvbWFpbk1hcERvY3VtZW50KGlkZW50aXR5LCBk");
    sb.append("b21haW4sIHNwYWNlLCBrZXksIHJvdXRlLCBjZXJ0aWZpY2F0ZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIg");
    sb.append("c2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9f");
    sb.append("ZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAg");
    sb.append("ICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9tYWluL21hcC1kb2N1bWVudCIsICJpZCI6cGFySWQsICJp");
    sb.append("ZGVudGl0eSI6IGlkZW50aXR5LCAiZG9tYWluIjogZG9tYWluLCAic3BhY2UiOiBzcGFjZSwgImtleSI6");
    sb.append("IGtleSwgInJvdXRlIjogcm91dGUsICJjZXJ0aWZpY2F0ZSI6IGNlcnRpZmljYXRlfQogICAgfSk7CiAg");
    sb.append("fQogIERvbWFpbkxpc3QoaWRlbnRpdHksIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwog");
    sb.append("ICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfc3RyZWFt");
    sb.append("KHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVz");
    sb.append("dDogeyJtZXRob2QiOiJkb21haW4vbGlzdCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5");
    sb.append("fQogICAgfSk7CiAgfQogIERvbWFpblVubWFwKGlkZW50aXR5LCBkb21haW4sIHJlc3BvbmRlcikgewog");
    sb.append("ICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4g");
    sb.append("c2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9u");
    sb.append("ZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImRvbWFpbi91bm1hcCIsICJpZCI6cGFySWQsICJp");
    sb.append("ZGVudGl0eSI6IGlkZW50aXR5LCAiZG9tYWluIjogZG9tYWlufQogICAgfSk7CiAgfQogIERvbWFpbkdl");
    sb.append("dChpZGVudGl0eSwgZG9tYWluLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZh");
    sb.append("ciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAg");
    sb.append("aWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRo");
    sb.append("b2QiOiJkb21haW4vZ2V0IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJkb21haW4i");
    sb.append("OiBkb21haW59CiAgICB9KTsKICB9CiAgRG9jdW1lbnRBdXRob3JpemUoc3BhY2UsIGtleSwgdXNlcm5h");
    sb.append("bWUsIHBhc3N3b3JkLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJ");
    sb.append("ZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBh");
    sb.append("cklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJk");
    sb.append("b2N1bWVudC9hdXRob3JpemUiLCAiaWQiOnBhcklkLCAic3BhY2UiOiBzcGFjZSwgImtleSI6IGtleSwg");
    sb.append("InVzZXJuYW1lIjogdXNlcm5hbWUsICJwYXNzd29yZCI6IHBhc3N3b3JkfQogICAgfSk7CiAgfQogIERv");
    sb.append("Y3VtZW50QXV0aG9yaXplRG9tYWluKGRvbWFpbiwgdXNlcm5hbWUsIHBhc3N3b3JkLCByZXNwb25kZXIp");
    sb.append("IHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0");
    sb.append("dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJl");
    sb.append("c3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkb2N1bWVudC9hdXRob3JpemUtZG9tYWlu");
    sb.append("IiwgImlkIjpwYXJJZCwgImRvbWFpbiI6IGRvbWFpbiwgInVzZXJuYW1lIjogdXNlcm5hbWUsICJwYXNz");
    sb.append("d29yZCI6IHBhc3N3b3JkfQogICAgfSk7CiAgfQogIERvY3VtZW50Q3JlYXRlKGlkZW50aXR5LCBzcGFj");
    sb.append("ZSwga2V5LCBlbnRyb3B5LCBhcmcsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAg");
    sb.append("dmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAg");
    sb.append("ICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1l");
    sb.append("dGhvZCI6ImRvY3VtZW50L2NyZWF0ZSIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAi");
    sb.append("c3BhY2UiOiBzcGFjZSwgImtleSI6IGtleSwgImVudHJvcHkiOiBlbnRyb3B5LCAiYXJnIjogYXJnfQog");
    sb.append("ICAgfSk7CiAgfQogIERvY3VtZW50RGVsZXRlKGlkZW50aXR5LCBzcGFjZSwga2V5LCByZXNwb25kZXIp");
    sb.append("IHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0");
    sb.append("dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJl");
    sb.append("c3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkb2N1bWVudC9kZWxldGUiLCAiaWQiOnBh");
    sb.append("cklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2UsICJrZXkiOiBrZXl9CiAgICB9");
    sb.append("KTsKICB9CiAgRG9jdW1lbnRMaXN0KGlkZW50aXR5LCBzcGFjZSwgbWFya2VyLCBsaW1pdCwgcmVzcG9u");
    sb.append("ZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAg");
    sb.append("IHJldHVybiBzZWxmLl9fZXhlY3V0ZV9zdHJlYW0oewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3Bv");
    sb.append("bmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImRvY3VtZW50L2xpc3QiLCAi");
    sb.append("aWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2UsICJtYXJrZXIiOiBt");
    sb.append("YXJrZXIsICJsaW1pdCI6IGxpbWl0fQogICAgfSk7CiAgfQogIE1lc3NhZ2VEaXJlY3RTZW5kKGlkZW50");
    sb.append("aXR5LCBzcGFjZSwga2V5LCBjaGFubmVsLCBtZXNzYWdlLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxm");
    sb.append("ID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVj");
    sb.append("dXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAg");
    sb.append("cmVxdWVzdDogeyJtZXRob2QiOiJtZXNzYWdlL2RpcmVjdC1zZW5kIiwgImlkIjpwYXJJZCwgImlkZW50");
    sb.append("aXR5IjogaWRlbnRpdHksICJzcGFjZSI6IHNwYWNlLCAia2V5Ijoga2V5LCAiY2hhbm5lbCI6IGNoYW5u");
    sb.append("ZWwsICJtZXNzYWdlIjogbWVzc2FnZX0KICAgIH0pOwogIH0KICBNZXNzYWdlRGlyZWN0U2VuZE9uY2Uo");
    sb.append("aWRlbnRpdHksIHNwYWNlLCBrZXksIGRlZHVwZSwgY2hhbm5lbCwgbWVzc2FnZSwgcmVzcG9uZGVyKSB7");
    sb.append("CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVy");
    sb.append("biBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNw");
    sb.append("b25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoibWVzc2FnZS9kaXJlY3Qtc2VuZC1vbmNlIiwg");
    sb.append("ImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJzcGFjZSI6IHNwYWNlLCAia2V5Ijoga2V5");
    sb.append("LCAiZGVkdXBlIjogZGVkdXBlLCAiY2hhbm5lbCI6IGNoYW5uZWwsICJtZXNzYWdlIjogbWVzc2FnZX0K");
    sb.append("ICAgIH0pOwogIH0KICBDb25uZWN0aW9uQ3JlYXRlKGlkZW50aXR5LCBzcGFjZSwga2V5LCB2aWV3ZXJT");
    sb.append("dGF0ZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxm");
    sb.append("Ll9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9zdHJlYW0oewogICAgICBpZDogcGFySWQs");
    sb.append("CiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImNvbm5l");
    sb.append("Y3Rpb24vY3JlYXRlIiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJzcGFjZSI6IHNw");
    sb.append("YWNlLCAia2V5Ijoga2V5LCAidmlld2VyLXN0YXRlIjogdmlld2VyU3RhdGV9LAogICAgICBzZW5kOiBm");
    sb.append("dW5jdGlvbihjaGFubmVsLCBtZXNzYWdlLCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQg");
    sb.append("PSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3Vi");
    sb.append("SWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsg");
    sb.append("bWV0aG9kOiAiY29ubmVjdGlvbi9zZW5kIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWQsICJj");
    sb.append("aGFubmVsIjogY2hhbm5lbCwgIm1lc3NhZ2UiOiBtZXNzYWdlfQogICAgICAgIH0pOwogICAgICB9LAog");
    sb.append("ICAgICBwYXNzd29yZDogZnVuY3Rpb24odXNlcm5hbWUsIHBhc3N3b3JkLCBuZXdfcGFzc3dvcmQsIHN1");
    sb.append("YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYu");
    sb.append("X19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3Vi");
    sb.append("UmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL3Bhc3N3b3Jk");
    sb.append("IiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWQsICJ1c2VybmFtZSI6IHVzZXJuYW1lLCAicGFz");
    sb.append("c3dvcmQiOiBwYXNzd29yZCwgIm5ld19wYXNzd29yZCI6IG5ld19wYXNzd29yZH0KICAgICAgICB9KTsK");
    sb.append("ICAgICAgfSwKICAgICAgc2VuZE9uY2U6IGZ1bmN0aW9uKGNoYW5uZWwsIGRlZHVwZSwgbWVzc2FnZSwg");
    sb.append("c3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAgc2Vs");
    sb.append("Zi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVyOiBz");
    sb.append("dWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vc2VuZC1v");
    sb.append("bmNlIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWQsICJjaGFubmVsIjogY2hhbm5lbCwgImRl");
    sb.append("ZHVwZSI6IGRlZHVwZSwgIm1lc3NhZ2UiOiBtZXNzYWdlfQogICAgICAgIH0pOwogICAgICB9LAogICAg");
    sb.append("ICBjYW5BdHRhY2g6IGZ1bmN0aW9uKHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNl");
    sb.append("bGYuX19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwK");
    sb.append("ICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRo");
    sb.append("b2Q6ICJjb25uZWN0aW9uL2Nhbi1hdHRhY2giLCBpZDogc3ViSWQsICJjb25uZWN0aW9uIjpwYXJJZH0K");
    sb.append("ICAgICAgICB9KTsKICAgICAgfSwKICAgICAgYXR0YWNoOiBmdW5jdGlvbihhc3NldElkLCBmaWxlbmFt");
    sb.append("ZSwgY29udGVudFR5cGUsIHNpemUsIGRpZ2VzdE1kNSwgZGlnZXN0U2hhMzg0LCBzdWJSZXNwb25kZXIp");
    sb.append("IHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9y");
    sb.append("cih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwK");
    sb.append("ICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9hdHRhY2giLCBpZDogc3ViSWQs");
    sb.append("ICJjb25uZWN0aW9uIjpwYXJJZCwgImFzc2V0LWlkIjogYXNzZXRJZCwgImZpbGVuYW1lIjogZmlsZW5h");
    sb.append("bWUsICJjb250ZW50LXR5cGUiOiBjb250ZW50VHlwZSwgInNpemUiOiBzaXplLCAiZGlnZXN0LW1kNSI6");
    sb.append("IGRpZ2VzdE1kNSwgImRpZ2VzdC1zaGEzODQiOiBkaWdlc3RTaGEzODR9CiAgICAgICAgfSk7CiAgICAg");
    sb.append("IH0sCiAgICAgIHVwZGF0ZTogZnVuY3Rpb24odmlld2VyU3RhdGUsIHN1YlJlc3BvbmRlcikgewogICAg");
    sb.append("ICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAg");
    sb.append("ICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAg");
    sb.append("ICAgcmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL3VwZGF0ZSIsIGlkOiBzdWJJZCwgImNvbm5l");
    sb.append("Y3Rpb24iOnBhcklkLCAidmlld2VyLXN0YXRlIjogdmlld2VyU3RhdGV9CiAgICAgICAgfSk7CiAgICAg");
    sb.append("IH0sCiAgICAgIGVuZDogZnVuY3Rpb24oc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0g");
    sb.append("c2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1Yklk");
    sb.append("LAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1l");
    sb.append("dGhvZDogImNvbm5lY3Rpb24vZW5kIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWR9CiAgICAg");
    sb.append("ICAgfSk7CiAgICAgIH0KICAgIH0pOwogIH0KICBDb25uZWN0aW9uQ3JlYXRlVmlhRG9tYWluKGlkZW50");
    sb.append("aXR5LCBkb21haW4sIHZpZXdlclN0YXRlLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsK");
    sb.append("ICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3N0cmVh");
    sb.append("bSh7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVl");
    sb.append("c3Q6IHsibWV0aG9kIjoiY29ubmVjdGlvbi9jcmVhdGUtdmlhLWRvbWFpbiIsICJpZCI6cGFySWQsICJp");
    sb.append("ZGVudGl0eSI6IGlkZW50aXR5LCAiZG9tYWluIjogZG9tYWluLCAidmlld2VyLXN0YXRlIjogdmlld2Vy");
    sb.append("U3RhdGV9LAogICAgICBzZW5kOiBmdW5jdGlvbihjaGFubmVsLCBtZXNzYWdlLCBzdWJSZXNwb25kZXIp");
    sb.append("IHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9y");
    sb.append("cih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwK");
    sb.append("ICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9zZW5kIiwgaWQ6IHN1YklkLCAi");
    sb.append("Y29ubmVjdGlvbiI6cGFySWQsICJjaGFubmVsIjogY2hhbm5lbCwgIm1lc3NhZ2UiOiBtZXNzYWdlfQog");
    sb.append("ICAgICAgIH0pOwogICAgICB9LAogICAgICBwYXNzd29yZDogZnVuY3Rpb24odXNlcm5hbWUsIHBhc3N3");
    sb.append("b3JkLCBuZXdfcGFzc3dvcmQsIHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYu");
    sb.append("X19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAg");
    sb.append("ICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6");
    sb.append("ICJjb25uZWN0aW9uL3Bhc3N3b3JkIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWQsICJ1c2Vy");
    sb.append("bmFtZSI6IHVzZXJuYW1lLCAicGFzc3dvcmQiOiBwYXNzd29yZCwgIm5ld19wYXNzd29yZCI6IG5ld19w");
    sb.append("YXNzd29yZH0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgc2VuZE9uY2U6IGZ1bmN0aW9uKGNoYW5u");
    sb.append("ZWwsIGRlZHVwZSwgbWVzc2FnZSwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0gc2Vs");
    sb.append("Zi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1YklkLAog");
    sb.append("ICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1ldGhv");
    sb.append("ZDogImNvbm5lY3Rpb24vc2VuZC1vbmNlIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWQsICJj");
    sb.append("aGFubmVsIjogY2hhbm5lbCwgImRlZHVwZSI6IGRlZHVwZSwgIm1lc3NhZ2UiOiBtZXNzYWdlfQogICAg");
    sb.append("ICAgIH0pOwogICAgICB9LAogICAgICBjYW5BdHRhY2g6IGZ1bmN0aW9uKHN1YlJlc3BvbmRlcikgewog");
    sb.append("ICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsK");
    sb.append("ICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAg");
    sb.append("ICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL2Nhbi1hdHRhY2giLCBpZDogc3ViSWQs");
    sb.append("ICJjb25uZWN0aW9uIjpwYXJJZH0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgYXR0YWNoOiBmdW5j");
    sb.append("dGlvbihhc3NldElkLCBmaWxlbmFtZSwgY29udGVudFR5cGUsIHNpemUsIGRpZ2VzdE1kNSwgZGlnZXN0");
    sb.append("U2hhMzg0LCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAg");
    sb.append("ICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAgICAgICByZXNw");
    sb.append("b25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlv");
    sb.append("bi9hdHRhY2giLCBpZDogc3ViSWQsICJjb25uZWN0aW9uIjpwYXJJZCwgImFzc2V0LWlkIjogYXNzZXRJ");
    sb.append("ZCwgImZpbGVuYW1lIjogZmlsZW5hbWUsICJjb250ZW50LXR5cGUiOiBjb250ZW50VHlwZSwgInNpemUi");
    sb.append("OiBzaXplLCAiZGlnZXN0LW1kNSI6IGRpZ2VzdE1kNSwgImRpZ2VzdC1zaGEzODQiOiBkaWdlc3RTaGEz");
    sb.append("ODR9CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIHVwZGF0ZTogZnVuY3Rpb24odmlld2VyU3RhdGUs");
    sb.append("IHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNl");
    sb.append("bGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjog");
    sb.append("c3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL3VwZGF0");
    sb.append("ZSIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAidmlld2VyLXN0YXRlIjogdmlld2VyU3Rh");
    sb.append("dGV9CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGVuZDogZnVuY3Rpb24oc3ViUmVzcG9uZGVyKSB7");
    sb.append("CiAgICAgICAgdmFyIHN1YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIo");
    sb.append("ewogICAgICAgICAgaWQ6IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAg");
    sb.append("ICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vZW5kIiwgaWQ6IHN1YklkLCAiY29u");
    sb.append("bmVjdGlvbiI6cGFySWR9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0pOwogIH0KICBEb2N1bWVudHNI");
    sb.append("YXNoUGFzc3dvcmQocGFzc3dvcmQsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAg");
    sb.append("dmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAg");
    sb.append("ICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1l");
    sb.append("dGhvZCI6ImRvY3VtZW50cy9oYXNoLXBhc3N3b3JkIiwgImlkIjpwYXJJZCwgInBhc3N3b3JkIjogcGFz");
    sb.append("c3dvcmR9CiAgICB9KTsKICB9CiAgQ29uZmlndXJlTWFrZU9yR2V0QXNzZXRLZXkocmVzcG9uZGVyKSB7");
    sb.append("CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVy");
    sb.append("biBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNw");
    sb.append("b25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiY29uZmlndXJlL21ha2Utb3ItZ2V0LWFzc2V0");
    sb.append("LWtleSIsICJpZCI6cGFySWR9CiAgICB9KTsKICB9CiAgQXR0YWNobWVudFN0YXJ0KGlkZW50aXR5LCBz");
    sb.append("cGFjZSwga2V5LCBmaWxlbmFtZSwgY29udGVudFR5cGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYg");
    sb.append("PSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1");
    sb.append("dGVfc3RyZWFtKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAg");
    sb.append("ICAgcmVxdWVzdDogeyJtZXRob2QiOiJhdHRhY2htZW50L3N0YXJ0IiwgImlkIjpwYXJJZCwgImlkZW50");
    sb.append("aXR5IjogaWRlbnRpdHksICJzcGFjZSI6IHNwYWNlLCAia2V5Ijoga2V5LCAiZmlsZW5hbWUiOiBmaWxl");
    sb.append("bmFtZSwgImNvbnRlbnQtdHlwZSI6IGNvbnRlbnRUeXBlfSwKICAgICAgYXBwZW5kOiBmdW5jdGlvbihj");
    sb.append("aHVua01kNSwgYmFzZTY0Qnl0ZXMsIHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNl");
    sb.append("bGYuX19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwK");
    sb.append("ICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRo");
    sb.append("b2Q6ICJhdHRhY2htZW50L2FwcGVuZCIsIGlkOiBzdWJJZCwgInVwbG9hZCI6cGFySWQsICJjaHVuay1t");
    sb.append("ZDUiOiBjaHVua01kNSwgImJhc2U2NC1ieXRlcyI6IGJhc2U2NEJ5dGVzfQogICAgICAgIH0pOwogICAg");
    sb.append("ICB9LAogICAgICBmaW5pc2g6IGZ1bmN0aW9uKHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJ");
    sb.append("ZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBz");
    sb.append("dWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDog");
    sb.append("eyBtZXRob2Q6ICJhdHRhY2htZW50L2ZpbmlzaCIsIGlkOiBzdWJJZCwgInVwbG9hZCI6cGFySWR9CiAg");
    sb.append("ICAgICAgfSk7CiAgICAgIH0KICAgIH0pOwogIH0KCiAgLyoqW0VORC1JTlZPS0VdKiovCn0KCnZhciBB");
    sb.append("ZGFtYSA9IHsKICBQcm9kdWN0aW9uOiAiYXdzLXVzLWVhc3QtMi5hZGFtYS1wbGF0Zm9ybS5jb20iLAog");
    sb.append("IENvbm5lY3Rpb246IFdlYlNvY2tldEFkYW1hQ29ubmVjdGlvbgp9Owo=");
    return sb.toString();
  }
}
