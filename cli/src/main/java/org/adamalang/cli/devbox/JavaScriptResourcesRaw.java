/*
 * This file is subject to the terms and conditions outlined in the
 * file 'LICENSE' (it's dual licensed) located in the root directory
 * near the README.md which you should also read. For more information
 * about the project which owns this file, see https://www.adama-platform.com/ .
 *
 * (c) 2021 - 2023 by Adama Platform Initiative, LLC
 */
package org.adamalang.cli.devbox;

import java.nio.charset.StandardCharsets;
import java.util.Base64;

public class JavaScriptResourcesRaw {
  public static final String TREE = new String(Base64.getDecoder().decode(make_tree()), StandardCharsets.UTF_8);
  private static String make_tree() {
    StringBuilder sb = new StringBuilder();
    sb.append("LyoqIGEgc2ltcGxpZmllZCBwdWIvc3ViIGRpZmZlcmVudGlhbCB0cmVlICovCmZ1bmN0aW9uIEFkYW1h");
    sb.append("VHJlZSgpIHsKICB2YXIgaWQgPSAwOwoKICB2YXIgcm9vdCA9IHt9OwogIHZhciBhbGxfc3Vic2NyaXB0");
    sb.append("aW9ucyA9IHt9OwoKICB2YXIgY2xvbmVfb2JqZWN0ID0gZnVuY3Rpb24gKG9iaikgewogICAgaWYgKEFy");
    sb.append("cmF5LmlzQXJyYXkob2JqKSkgewogICAgICB2YXIgbmV4dCA9IFtdOwogICAgICBmb3IgKHZhciBrID0g");
    sb.append("MDsgayA8IG9iai5sZW5ndGg7IGsrKykgewogICAgICAgIG5leHQucHVzaChjbG9uZV9vYmplY3Qob2Jq");
    sb.append("W2tdKSk7CiAgICAgIH0KICAgICAgcmV0dXJuIG5leHQ7CiAgICB9IGVsc2UgaWYgKHR5cGVvZiAob2Jq");
    sb.append("KSA9PSAib2JqZWN0IikgewogICAgICB2YXIgbmV4dCA9IHt9OwogICAgICBmb3IgKGtleSBpbiBvYmop");
    sb.append("IHsKICAgICAgICBpZiAoa2V5WzBdID09ICIjIiB8fCBrZXkgPT0gIl9fa2V5IiB8fCBrZXkgPT0gIkBv");
    sb.append("IiB8fCBrZXkgPT0gIkBzIikgY29udGludWU7CiAgICAgICAgbmV4dFtrZXldID0gY2xvbmVfb2JqZWN0");
    sb.append("KG9ialtrZXldKTsKICAgICAgfQogICAgICByZXR1cm4gbmV4dDsKICAgIH0gZWxzZSB7CiAgICAgIHJl");
    sb.append("dHVybiBvYmo7CiAgICB9CiAgfTsKCiAgdGhpcy5udWtlID0gZnVuY3Rpb24gKCkgewogICAgYWxsX3N1");
    sb.append("YnNjcmlwdGlvbnMgPSB7fTsKICB9OwoKICB0aGlzLmNvcHkgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1");
    sb.append("cm4gY2xvbmVfb2JqZWN0KHJvb3QpOwogIH07CgogIHRoaXMuc3RyID0gZnVuY3Rpb24gKCkgewogICAg");
    sb.append("cmV0dXJuIEpTT04uc3RyaW5naWZ5KHJvb3QpOwogIH07CgogIHRoaXMucmF3ID0gZnVuY3Rpb24gKCkg");
    sb.append("ewogICAgcmV0dXJuIHJvb3Q7CiAgfTsKCiAgLy8gZmlsdGVyIHRoZSBzdWJzY3JpcHRpb25zIHRvIHRo");
    sb.append("ZSBvbmVzIHRoYXQgaGF2ZSB0aGUga2V5CiAgdmFyIHN1YiA9IGZ1bmN0aW9uIChzLCBrZXkpIHsKICAg");
    sb.append("IC8vIGlmIHdlIGhhdmUgbm90aGluZywgdGhlbiB3ZSByZXR1cm4gbm90aGluZwogICAgaWYgKHMubGVu");
    sb.append("Z3RoID09IDApIHsKICAgICAgcmV0dXJuIHM7CiAgICB9CiAgICAvLyBtYWtlIGEgbmV3IGFycmF5CiAg");
    sb.append("ICB2YXIgbiA9IFtdOwogICAgZm9yICh2YXIgayA9IDA7IGsgPCBzLmxlbmd0aDsgaysrKSB7IC8vIHN1");
    sb.append("Y2ggdGhhdCBldmVyeSBlbGVtZW50CiAgICAgIGlmIChrZXkgaW4gc1trXSkgeyAvLyB3aGljaCBjb250");
    sb.append("YWlucyB0aGUga2V5CiAgICAgICAgbi5wdXNoKHNba11ba2V5XSk7IC8vIGlzIGFkZGVkIHRvIHRoZSBu");
    sb.append("ZXcgYXJyYXkKICAgICAgfQogICAgfQogICAgcmV0dXJuIG47CiAgfTsKCiAgLy8gZmlyZSBldmVudHMg");
    sb.append("YXQgdGhlIGN1cnJlbnQgc3Vic2NyaXB0aW9uCiAgdmFyIGZpcmUgPSBmdW5jdGlvbiAocywgdmFsdWUs");
    sb.append("IGV2ZW50cykgewogICAgLy8gZm9yIGVhY2ggc3Vic2NyaXB0aW9uCiAgICBmb3IgKHZhciBqID0gMDsg");
    sb.append("aiA8IHMubGVuZ3RoOyBqKyspIHsKICAgICAgdmFyIHYgPSBzW2pdOwogICAgICAvLyBpZiBpdCBoYXMg");
    sb.append("ZXZlbnRzCiAgICAgIGlmICgiQGUiIGluIHYpIHsKICAgICAgICAvLyBmaXJlIGVhY2ggZXZlbnQKICAg");
    sb.append("ICAgICB2YXIgZXZ0cyA9IHZbIkBlIl07CiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBldnRzLmxl");
    sb.append("bmd0aDsgaysrKSB7CiAgICAgICAgICBldmVudHMucHVzaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAg");
    sb.append("IHRoaXMuZih0aGlzLnYpOwogICAgICAgICAgfS5iaW5kKHsgZjogZXZ0c1trXSwgdjogdmFsdWUgfSkp");
    sb.append("OwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIHZhciB3ZWF2ZSA9IGZ1bmN0aW9uIChzLCBj");
    sb.append("YWxsYmFjaywga2V5KSB7CiAgICBpZiAoQXJyYXkuaXNBcnJheShjYWxsYmFjaykpIHsKICAgICAgZm9y");
    sb.append("ICh2YXIgayA9IDA7IGsgPCBjYWxsYmFjay5sZW5ndGg7IGsrKykgewogICAgICAgIHdlYXZlKHMsIGNh");
    sb.append("bGxiYWNrW2tdLCBrZXkpOwogICAgICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiAoY2FsbGJhY2spID09");
    sb.append("ICJmdW5jdGlvbiIpIHsKICAgICAgaWYgKCEoa2V5IGluIHMpKSB7CiAgICAgICAgc1trZXldID0ge307");
    sb.append("CiAgICAgIH0KICAgICAgdmFyIHNrID0gc1trZXldOwogICAgICBpZiAoISgiQGUiIGluIHNrKSkgewog");
    sb.append("ICAgICAgIHNrWyJAZSJdID0gW2NhbGxiYWNrXTsKICAgICAgfSBlbHNlIHsKICAgICAgICBza1siQGUi");
    sb.append("XS5wdXNoKGNhbGxiYWNrKTsKICAgICAgfQogICAgfSBlbHNlIGlmICh0eXBlb2YgKGNhbGxiYWNrKSA9");
    sb.append("PSAib2JqZWN0IikgewogICAgICBpZiAoIShrZXkgaW4gcykpIHsKICAgICAgICBzW2tleV0gPSB7fTsK");
    sb.append("ICAgICAgfQogICAgICB2YXIgc2sgPSBzW2tleV07CiAgICAgIGZvciAodmFyIGNrIGluIGNhbGxiYWNr");
    sb.append("KSB7CiAgICAgICAgaWYgKGNrID09ICJAZSIpIHsKICAgICAgICAgIHdlYXZlKHMsIGNhbGxiYWNrW2Nr");
    sb.append("XSwga2V5KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgd2VhdmUoc2ssIGNhbGxiYWNrW2NrXSwg");
    sb.append("Y2spOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIC8vIHdlIGhhdmUgZGV0ZWN0ZWQgYW4g");
    sb.append("YWRkaXRpb24KICB2YXIgZmlyZV9hZGQgPSBmdW5jdGlvbiAocywga2V5KSB7CiAgICBmb3IgKHZhciBq");
    sb.append("ID0gMDsgaiA8IHMubGVuZ3RoOyBqKyspIHsgLy8gZm9yIGVhY2ggc3Vic2NyaXB0aW9uCiAgICAgIHZh");
    sb.append("ciB2ID0gc1tqXTsKICAgICAgaWYgKCIrIiBpbiB2KSB7IC8vIGlmIHRoZSBzdWJzY3JpcHRpb24gaGFz");
    sb.append("IHRoZSBhYmlsaXR5IHRvIGFkZCBuZXcgb2JqZWN0cwogICAgICAgIHZhciB2YSA9IHZbIisiXTsKICAg");
    sb.append("ICAgICBpZiAoIkBlIiBpbiB2YSkgeyAvLyBpZiBhcmUgZXZlbnRzIGFzc29jaWF0ZWQgdG8gJysnCiAg");
    sb.append("ICAgICAgICB2YXIgZXZhID0gdmFbIkBlIl07CiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGV2");
    sb.append("YS5sZW5ndGg7IGsrKykgeyAvLyBmb3IgZWFjaCAnKycgYWJpbGl0eQogICAgICAgICAgICB3ZWF2ZSh2");
    sb.append("LCBldmFba10oa2V5KSwga2V5KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9");
    sb.append("OwoKICAvLyBmaXJlIGEgZGVsZXRlIG1lc3NhZ2UgZm9yIHRoZSBnaXZlbiBrZXkKICB2YXIgZmlyZV9k");
    sb.append("ZWwgPSBmdW5jdGlvbiAocywga2V5KSB7CiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHMubGVuZ3RoOyBq");
    sb.append("KyspIHsgLy8gZm9yIGVhY2ggc3Vic2NyaXB0aW9uCiAgICAgIHZhciB2ID0gc1tqXTsKICAgICAgaWYg");
    sb.append("KCItIiBpbiB2KSB7IC8vIGlmIHRoZSBzdWJzY3JpcHRpb24gaGFzIHRoZSBhYmlsaXR5IHRvIGRlbGV0");
    sb.append("ZSBwcmlvciBrZXlzCiAgICAgICAgdmFyIHZhID0gdlsiLSJdOwogICAgICAgIGlmICgiQGUiIGluIHZh");
    sb.append("KSB7IC8vIGlmIGFyZSBldmVudHMgYXNzb2NpYXRlZCB0byAnLScKICAgICAgICAgIHZhciBldmEgPSB2");
    sb.append("YVsiQGUiXTsKICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgZXZhLmxlbmd0aDsgaysrKSB7IC8v");
    sb.append("IGZvciBlYWNoICctJyBhYmlsaXR5CiAgICAgICAgICAgIGV2YVtrXShrZXkpOyAvLyBldmFsdWF0ZSB0");
    sb.append("aGUgJy0nCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKCiAgLy8gYSBkZWxl");
    sb.append("dGUgb2YgYSB0cmVlIGhhcyBiZWVuIGRldGVjdGVkLCBsZXQncwogIHZhciBkZWwgPSBmdW5jdGlvbiAo");
    sb.append("cykgewogICAgLy8gaWYgdGhlIHN1YnNjcmlwdGlvbnMgaXMgYW4gYXJyYXksIHRoZW4gZGVsZXRlIGFs");
    sb.append("bCBjaGlsZHJlbgogICAgaWYgKEFycmF5LmlzQXJyYXkocykpIHsKICAgICAgdmFyIG4gPSBzLmxlbmd0");
    sb.append("aDsKICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBuOyBrKyspIHsKICAgICAgICBkZWwoc1trXSk7CiAg");
    sb.append("ICAgIH0KICAgIH0gZWxzZSBpZiAodHlwZW9mIChzKSA9PSAib2JqZWN0IikgeyAvLyBvdGhlcndpc2Us");
    sb.append("IGl0ZXJhdGUgb3ZlciB0aGUga2V5cwogICAgICBmb3IgKHZhciBrZXkgaW4gcykgewogICAgICAgIGlm");
    sb.append("ICghKGtleSA9PSAnKycgfHwga2V5ID09ICctJykpIHsKICAgICAgICAgIHZhciBjaCA9IHNba2V5XTsK");
    sb.append("ICAgICAgICAgIGlmIChrZXkgPT0gIkBlIikgeyAvLyB3ZSBoYXZlIGV2ZW50cywgc28gbGV0J3Mgc2Vu");
    sb.append("ZCB0aG9zZSBldmVudHMuLi4KICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjaC5sZW5ndGg7");
    sb.append("IGorKykgewogICAgICAgICAgICAgIGNoW2pdKG51bGwpOyAvLyBhIG51bGwgdG8gaW5kaWNhdGUgZGVs");
    sb.append("ZXRpb24KICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsgLy8gcmVjdXJzZSBpbnRvIHRoZSBj");
    sb.append("aGlsZCBmaWVsZAogICAgICAgICAgICBkZWwoY2gpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAg");
    sb.append("fQogICAgfQogIH07CgogIC8vIGRlbGV0ZSB0aGUgZ2l2ZW4ga2V5IHdpdGhpbiB0aGUgc3Vic2NyaXB0");
    sb.append("aW9uCiAgdmFyIGRlbF9rZXkgPSBmdW5jdGlvbiAocywga2V5KSB7CiAgICBpZiAoQXJyYXkuaXNBcnJh");
    sb.append("eShzKSkgeyAvLyBpZiB3ZSBoYXZlIGFuIGFycmF5IG9mIHN1YnNjcmlwdGlvbnMsIHRoZW4gc2ltcGx5");
    sb.append("IHJlcGVhdAogICAgICB2YXIgbiA9IHMubGVuZ3RoOwogICAgICBmb3IgKHZhciBrID0gMDsgayA8IG47");
    sb.append("IGsrKykgewogICAgICAgIGRlbF9rZXkoc1trXSwga2V5KTsgLy8gZm9yIGVhY2ggZWxlbWVudAogICAg");
    sb.append("ICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiAocykgPT0gIm9iamVjdCIpIHsgLy8gb3RoZXJ3aXNlLCB3");
    sb.append("ZSBoYXZlIGEgc3ViY3JpcHRpb24gY2FsbGJhY2sKICAgICAgaWYgKGtleSBpbiBzKSB7IC8vIGlmIHRo");
    sb.append("ZSBrZXkgaXMgaW4gdGhlIHN1YnNjcmlwdGlvbiBjYWxsYmFjawogICAgICAgIGRlbGV0ZSBzW2tleV07");
    sb.append("IC8vIGRlbGV0ZSBpdAogICAgICB9CiAgICB9CiAgfTsKCiAgLy8gbWVyZ2UgdGhlIGdpdmVuIGRlbHRh");
    sb.append("IGludG8gdGhlIHRyZWUgYW5kIGZpcmUgc3Vic2NyaXB0aW9ucyAocykKICB2YXIgbWVyZ2UgPSBmdW5j");
    sb.append("dGlvbiAodHJlZSwgZGVsdGEsIHMsIGV2ZW50cykgewogICAgZm9yICh2YXIga2V5IGluIGRlbHRhKSB7");
    sb.append("IC8vIGZvciBlYWNoIGJpdCBvZiBkYXRhIHdpdGhpbiB0aGUgdHJlZQogICAgICB2YXIgZUtleSA9ICIj");
    sb.append("IiArIGtleTsgLy8gY29tcHV0ZSB0aGUgc2VjcmV0IGRhdGEgcGF0aAogICAgICB2YXIgcHJpb3IgPSB0");
    sb.append("cmVlW2tleV07IC8vIGZpbmQgdGhlIHByaW9yIHN0YXRlIHdpdGhpbiB0aGUgdHJlZQogICAgICB2YXIg");
    sb.append("bmV4dCA9IGRlbHRhW2tleV07IC8vIGJyaW5nIHRoZSBjaGFuZ2UgcHJlc2VudCBmb3IgdGhlIGN1cnJl");
    sb.append("bnQga2V5CiAgICAgIGlmIChuZXh0ID09IG51bGwpIHsgLy8gdGhlIGl0ZW0gaXMgZ29pbmcgcG9vZgog");
    sb.append("ICAgICAgIC8vIHRoZSBwcmlvciB2YWx1ZSBpcyBhbiBhcnJheSwgc28gd2UgbWF5IGhhdmUgc29tZSBz");
    sb.append("cGVjaWFsIHRoaW5ncyBhc3NvY2lhdGUgd2l0aCBpdAogICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBy");
    sb.append("aW9yKSkgeyAvLyBVTlRFU1QKICAgICAgICAgIGlmIChlS2V5IGluIHRyZWUpIHsKICAgICAgICAgICAg");
    sb.append("ZGVsKHN1YihzLCBlS2V5KSk7CiAgICAgICAgICB9CiAgICAgICAgICBkZWxldGUgdHJlZVtlS2V5XTsK");
    sb.append("ICAgICAgICB9CiAgICAgICAgZGVsKHN1YihzLCBrZXkpKTsgLy8gaXNzdWUgYSBkZWxldGUgZm9yIGFs");
    sb.append("bCB0aGUgc3Vic2NyaXB0aW9ucyBmb3IgdGhlIGtpZAogICAgICAgIGRlbGV0ZSB0cmVlW2tleV07IC8v");
    sb.append("IGRlbGV0ZSB0aGUgZGF0YSBpbiB0aGUgdHJlZQogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0eXBl");
    sb.append("b2YgKG5leHQpID09ICJvYmplY3QiICYmICFBcnJheS5pc0FycmF5KG5leHQpKSB7IC8vIGlmIHRoZSBk");
    sb.append("ZWx0YSBpcyBhbiBvYmplY3QKICAgICAgICAgIHZhciBhcnIgPSBBcnJheS5pc0FycmF5KHByaW9yKSB8");
    sb.append("fCAiQG8iIGluIG5leHQgfHwgIkBzIiBpbiBuZXh0OyAvLyBkZXRlY3QgaWYgd2UgbmVlZCB0byB1c2Ug");
    sb.append("YXJyYXkgbG9naWMKICAgICAgICAgIGlmIChhcnIpIHsgLy8gd2UgaGF2ZSBkZXRlY3RlZCBhbiBhcnJh");
    sb.append("eQogICAgICAgICAgICBpZiAoIShrZXkgaW4gdHJlZSkpIHsgLy8gbGV0J3MgbWFrZSBzdXJlIHRoZSB0");
    sb.append("cmVlIGhhcyBhbiBlbXB0eSBhcnJheQogICAgICAgICAgICAgIHRyZWVba2V5XSA9IFtdOwogICAgICAg");
    sb.append("ICAgICB9CiAgICAgICAgICAgIGlmICghKGVLZXkgaW4gdHJlZSkpIHsgLy8gbGV0J3MgbWFrZSBzdXJl");
    sb.append("IHRoZSBzZWNyZXQgZGF0YSBleGlzdHMgYXMgd2VsbAogICAgICAgICAgICAgIHRyZWVbZUtleV0gPSB7");
    sb.append("fTsKICAgICAgICAgICAgICBpZiAoIkBvIiBpbiBuZXh0KSB7IC8vIGlmIHdlIGhhdmUgYSBidW5jaCBv");
    sb.append("ZiBrZXlzLCB0aGVuIGxldCdzIG1ha2Ugc3VyZSB0byBwcmVzZXJ2ZSB0aGF0IGZvciBtYWtlX2RlbHRh");
    sb.append("CiAgICAgICAgICAgICAgICB0cmVlW2VLZXldWyJAbyJdID0gdHJ1ZTsKICAgICAgICAgICAgICB9CiAg");
    sb.append("ICAgICAgICAgICAgdHJlZVtlS2V5XS5fX2tleSA9IGtleTsgLy8gYW5ub3RhdGUgdGhlIG5ldyBpdGVt");
    sb.append("IHdpdGggdGhlIGdpdmVuIGtleQogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBlQmFzZSA9IHRy");
    sb.append("ZWVbZUtleV07IC8vIGdldCB0aGUgc2VjcmV0IChhbmQgcmVhbCkgZGF0YSBmb3IgdGhlIG9iamVjdCBp");
    sb.append("biBxdWVzdGlvbgogICAgICAgICAgICB2YXIgZVN1YiA9IHN1YihzLCBrZXkpOyAvLyBzY29wZSB0aGUg");
    sb.append("c3Vic2NyaXB0aW9uIHRvIHRoZSBrZXkKICAgICAgICAgICAgdmFyIG9yZGVyaW5nID0gbnVsbDsgLy8g");
    sb.append("ZGV0ZWN0aW9uIG9mIGlmIHdlIGhhdmUgQG8gb3JkZXJpbmcgdG8gcmVvcmRlciB0aGUgdmFsdWVzCiAg");
    sb.append("ICAgICAgICAgIHZhciByZXNpemUgPSBudWxsOyAvLyBkZXRlY3Rpb24gb2YgYW4gYXJyYXkgd2l0aG91");
    sb.append("dCBfX2tleQogICAgICAgICAgICB2YXIgZGVsYXkgPSB7fTsgLy8gd2UgZGVsYXkgYWxsIGV2ZW50cyBz");
    sb.append("dWNoIHRoYXQgdGhlIGFycmF5IGNhbiBiZSBidWlsdCBmb3IgaW5saW5lIG1ha2VfZGVsdGEgY2FsbHMg");
    sb.append("dG8gd29yawogICAgICAgICAgICBmb3IgKHZhciBhS2V5IGluIG5leHQpIHsgLy8gZm9yIGVhY2ggZmll");
    sb.append("bGQgd2l0aGluIHRoZSBkaWZmZXJlbmNlCiAgICAgICAgICAgICAgdmFyIHZhbCA9IG5leHRbYUtleV07");
    sb.append("CiAgICAgICAgICAgICAgaWYgKGFLZXkgPT0gIkBvIikgeyAvLyB0aGUgdmFsdWUgaXMgYSBuZXcgb3Jk");
    sb.append("ZXJpbmcgb2YgdGhlIGFycmF5CiAgICAgICAgICAgICAgICBvcmRlcmluZyA9IHZhbDsKICAgICAgICAg");
    sb.append("ICAgICB9IGVsc2UgaWYgKGFLZXkgPT0gIkBzIikgeyAvLyB0aGUgdmFsdWUgaXMgYSByZXNpemUgb2Yg");
    sb.append("dGhlIGFycmF5CiAgICAgICAgICAgICAgICByZXNpemUgPSB2YWw7CiAgICAgICAgICAgICAgfSBlbHNl");
    sb.append("IGlmICh2YWwgPT0gbnVsbCkgeyAvLyBkZWxldGUgdGhlIGVsZW1lbnQKICAgICAgICAgICAgICAgIGlm");
    sb.append("IChhS2V5IGluIGVCYXNlKSB7IC8vIGlmIGl0IGV4aXN0cyB3aXRoaW4gdGhlIHNlY3JldCBrZXkKICAg");
    sb.append("ICAgICAgICAgICAgICAgZGVsYXlbYUtleV0gPSBmdW5jdGlvbiAoeCkgewogICAgICAgICAgICAgICAg");
    sb.append("ICAgIGRlbChzdWIoZVN1YiwgeCkpOyAvLyBpc3N1ZSBkZWxldGVzCiAgICAgICAgICAgICAgICAgICAg");
    sb.append("ZGVsZXRlIGVCYXNlW3hdOyAvLyBkZWxldGUgdGhlIHZhbHVlCiAgICAgICAgICAgICAgICAgICAgZGVs");
    sb.append("X2tleShlU3ViLCB4KTsgLy8gZGVsZXRlIHRoZSBrZXlzIGZyb20gdGhlIG9iamVjdAogICAgICAgICAg");
    sb.append("ICAgICAgICAgIGZpcmVfZGVsKGVTdWIsIHgpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAg");
    sb.append("ICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSB7IC8vIHdlIGhhdmUgZGF0YQogICAgICAgICAgICAg");
    sb.append("ICAgaWYgKCEoYUtleSBpbiBlQmFzZSkpIHsgLy8gdGhlIGRhdGEgZGlkbid0IGV4aXN0LCBzbyBmaXJl");
    sb.append("IGFuIGFkZGl0aW9uIHRvIGV4dGVuZCB0aGUgc3Vic2NyaXB0aW9ucwogICAgICAgICAgICAgICAgICBm");
    sb.append("aXJlX2FkZChlU3ViLCBhS2V5KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHZhciBu");
    sb.append("VmFsID0gbmV4dFthS2V5XTsgLy8gZ2V0IHRoZSBuZXcgdmFsdWUKICAgICAgICAgICAgICAgIGlmICh0");
    sb.append("eXBlb2YgKG5WYWwpID09ICJvYmplY3QiKSB7IC8vIGlmIHRoZSBuZXcgdmFsdWUgaXMgYW4gb2JqZWN0");
    sb.append("CiAgICAgICAgICAgICAgICAgIGlmICghKGFLZXkgaW4gZUJhc2UpKSB7IC8vIHRoZW4gbWFrZSBzdXJl");
    sb.append("IHRoZSBuZXcgaXRlbSBpcyB3aXRoaW4gdGhlIHNlY3JldCB0cmVlCiAgICAgICAgICAgICAgICAgICAg");
    sb.append("ZUJhc2VbYUtleV0gPSB7fTsKICAgICAgICAgICAgICAgICAgICBlQmFzZVthS2V5XS5fX2tleSA9IGFL");
    sb.append("ZXk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgZGVsYXlbYUtleV0gPSBmdW5j");
    sb.append("dGlvbiAoeCkgewogICAgICAgICAgICAgICAgICAgIG1lcmdlKGVCYXNlW3hdLCBuZXh0W3hdLCBzdWIo");
    sb.append("ZVN1YiwgeCksIGV2ZW50cyk7IC8vIHJlY3Vyc2U6IG1lcmdlIHRoZSBkaWZmZXJlbmNlIGludG8gdGhl");
    sb.append("IHNlY3JldCB0cmVlIGFuZCBwdWJsaXNoIHRvIGFsbCBlbGVtZW50IHN1YnNjcmlwdGlvbnMKICAgICAg");
    sb.append("ICAgICAgICAgICAgICBmaXJlKHN1YihlU3ViLCB4KSwgZUJhc2VbeF0sIGV2ZW50cyk7CiAgICAgICAg");
    sb.append("ICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBvdGhlcndpc2UsIHNldCB0aGUg");
    sb.append("dmFsdWUgaW50byB0aGUgdHJlZQogICAgICAgICAgICAgICAgICBlQmFzZVthS2V5XSA9IG5WYWw7CiAg");
    sb.append("ICAgICAgICAgICAgICAgIGRlbGF5W2FLZXldID0gZnVuY3Rpb24gKHgpIHsKICAgICAgICAgICAgICAg");
    sb.append("ICAgICBmaXJlKHN1YihlU3ViLCB4KSwgZUJhc2VbeF0sIGV2ZW50cyk7CiAgICAgICAgICAgICAgICAg");
    sb.append("IH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyBhbmQgdGVsbCBldmVyeW9uZSB0");
    sb.append("aGUgbmV3IHZhbHVlIGZvciB0aGlzCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAg");
    sb.append("ICAgIHZhciBiZWZvcmUgPSB0cmVlW2tleV07IC8vIHN0YXNoIGEgcG9pbnRlciB0byB0aGUgYXJyYXkK");
    sb.append("ICAgICAgICAgICAgdmFyIGRlbGF5T3JkZXIgPSBbXTsKCiAgICAgICAgICAgIGlmIChvcmRlcmluZyAh");
    sb.append("PSBudWxsKSB7IC8vIGFuIG9yZGVyaW5nIGNoYW5nZSBpcyBoYXBwZW5pbmcKICAgICAgICAgICAgICB2");
    sb.append("YXIgYWZ0ZXIgPSBbXTsgLy8gd2Ugd2lsbCByZWJ1aWxkIHRoZSBhcnJheSBoZXJlCiAgICAgICAgICAg");
    sb.append("ICAgdmFyIG1zZyA9IFtdOyAvLyBhbmQgcmVjb3JkIHRoZSBrZXlzIGhlcmUKICAgICAgICAgICAgICBm");
    sb.append("b3IgKHZhciBrID0gMDsgayA8IG9yZGVyaW5nLmxlbmd0aDsgaysrKSB7IC8vIGZvciBlYWNoIG9yZGVy");
    sb.append("aW5nIGluc3RydWN0aW9uCiAgICAgICAgICAgICAgICB2YXIgaW5zdHIgPSBvcmRlcmluZ1trXTsKICAg");
    sb.append("ICAgICAgICAgICAgIHZhciB0eXBlX2luc3RyID0gdHlwZW9mIChpbnN0cik7CiAgICAgICAgICAgICAg");
    sb.append("ICBpZiAodHlwZV9pbnN0ciA9PSAic3RyaW5nIiB8fCB0eXBlX2luc3RyID09ICJudW1iZXIiKSB7IC8v");
    sb.append("IGlmIHRoZSBpbnN0cnVjdGlvbiByZWZlcnMgdG8gYW4gaXRlbQogICAgICAgICAgICAgICAgICBhZnRl");
    sb.append("ci5wdXNoKGVCYXNlW2luc3RyXSk7IC8vIHB1c2ggdGhlIGl0ZW0gaW50byB0aGUgbmV3IGFycmF5CiAg");
    sb.append("ICAgICAgICAgICAgICAgIG1zZy5wdXNoKCIiICsgaW5zdHIpOyAvLyByZWNvcmQgdGhlIGtleSBvZiB0");
    sb.append("aGUgaXRlbQogICAgICAgICAgICAgICAgfSBlbHNlIHsgLy8gb3RoZXJ3aXNlLCB0aGUgaW5zdHJ1Y3Rp");
    sb.append("b24gaXMgYSByYW5nZQogICAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSBpbnN0clswXTsKICAgICAg");
    sb.append("ICAgICAgICAgICAgdmFyIGVuZCA9IGluc3RyWzFdOwogICAgICAgICAgICAgICAgICBmb3IgKHZhciBq");
    sb.append("ID0gc3RhcnQ7IGogPD0gZW5kOyBqKyspIHsgLy8gaXRlcmF0ZSBvdmVyIHRoZSByYW5nZSBhbmQgY29w");
    sb.append("eQogICAgICAgICAgICAgICAgICAgIGlmIChiZWZvcmVbal0pIHsKICAgICAgICAgICAgICAgICAgICAg");
    sb.append("IGFmdGVyLnB1c2goYmVmb3JlW2pdKTsgLy8gdGhlIGl0ZW1zIGZyb20gdGhlIHByZXZpb3VzIGNvcHkK");
    sb.append("ICAgICAgICAgICAgICAgICAgICAgIG1zZy5wdXNoKGJlZm9yZVtqXS5fX2tleSk7IC8vIGFuZCBhbm5v");
    sb.append("dGF0ZSB0aGUga2V5cwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfQogICAg");
    sb.append("ICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBkZWxheU9yZGVyLnB1c2go");
    sb.append("ZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgZmlyZShzdWIoZVN1YiwgIn4iKSwgbXNnLCBldmVu");
    sb.append("dHMpOyAvLyB0ZWxsIHN1YnNjcmlwdGlvbnMgYWJvdXQgdGhlIG5ldyBvcmRlcmluZwogICAgICAgICAg");
    sb.append("ICAgIH0pOwogICAgICAgICAgICAgIHRyZWVba2V5XSA9IGFmdGVyOwogICAgICAgICAgICB9IGVsc2Ug");
    sb.append("aWYgKHJlc2l6ZSAhPSBudWxsKSB7IC8vIGFsdGVybmF0aXZlbHksIGFuIGFycmF5IHdpdGhvdXQga2V5");
    sb.append("cyBpcyBiZWluZyByZXNpemVkCiAgICAgICAgICAgICAgdmFyIGFmdGVyID0gW107CiAgICAgICAgICAg");
    sb.append("ICAgdmFyIG1zZyA9IFtdOwogICAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgcmVzaXplOyBr");
    sb.append("KyspIHsgLy8gd2UgcmVidWlsZCB0aGUgYXJyYXkKICAgICAgICAgICAgICAgIGFmdGVyW2tdID0gZUJh");
    sb.append("c2VbIiIgKyBrXTsKICAgICAgICAgICAgICAgIG1zZy5wdXNoKCIiICsgayk7CiAgICAgICAgICAgICAg");
    sb.append("fQogICAgICAgICAgICAgIGRlbGF5T3JkZXIucHVzaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAg");
    sb.append("ICBmaXJlKHN1YihlU3ViLCAifiIpLCBtc2csIGV2ZW50cyk7IC8vIHRlbGwgc3Vic2NyaXB0aW9ucyBh");
    sb.append("Ym91dCB0aGUgbmV3IG9yZGVyaW5nCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgdHJlZVtr");
    sb.append("ZXldID0gYWZ0ZXI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm9yIChhS2V5IGluIGRlbGF5KSB7");
    sb.append("CiAgICAgICAgICAgICAgZGVsYXlbYUtleV0oYUtleSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAg");
    sb.append("Zm9yICh2YXIgayA9IDA7IGsgPCBkZWxheU9yZGVyLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICAgICAg");
    sb.append("ZGVsYXlPcmRlcltrXSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZpcmUoZVN1YiwgdHJlZVtr");
    sb.append("ZXldLCBldmVudHMpOyAvLyB0ZWxsIGV2ZXJ5b25lIGFib3V0IHRoZSBuZXcgdmFsdWUKICAgICAgICAg");
    sb.append("IH0gZWxzZSB7CiAgICAgICAgICAgIGlmICghKGtleSBpbiB0cmVlKSB8fCB0eXBlb2YgKHRyZWVba2V5");
    sb.append("XSkgIT0gIm9iamVjdCIpIHsKICAgICAgICAgICAgICB0cmVlW2tleV0gPSB7fTsKICAgICAgICAgICAg");
    sb.append("fQogICAgICAgICAgICB2YXIgZSA9IHN1YihzLCBrZXkpOwogICAgICAgICAgICBtZXJnZSh0cmVlW2tl");
    sb.append("eV0sIG5leHQsIGUsIGV2ZW50cyk7CiAgICAgICAgICAgIGZpcmUoZSwgdHJlZVtrZXldLCBldmVudHMp");
    sb.append("OwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7IC8vIG5vdCBhbiBvYmplY3QsIHNvIGl0IGlzIGEg");
    sb.append("dmFsdWUKICAgICAgICAgIHRyZWVba2V5XSA9IG5leHQ7IC8vIHN0YXNoIHRoZSBuZXcgdmFsdWUKICAg");
    sb.append("ICAgICAgIGZpcmUoc3ViKHMsIGtleSksIG5leHQsIGV2ZW50cyk7IC8vIGFuZCB0ZWxsIGV2ZXJ5b25l");
    sb.append("IGFib3V0IGl0CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBmaXJlKHMsIHRyZWUsIGV2ZW50cyk7");
    sb.append("CiAgfTsKCiAgdmFyIGZpcmVfZXZlbnRzID0gZnVuY3Rpb24gKGV2ZW50cykgewogICAgZm9yICh2YXIg");
    sb.append("ayA9IDA7IGsgPCBldmVudHMubGVuZ3RoOyBrKyspIHsKICAgICAgZXZlbnRzW2tdKCk7CiAgICB9CiAg");
    sb.append("fTsKCiAgdGhpcy51cGRhdGVfaW5fcHJvZ3Jlc3MgPSBmYWxzZTsKICB0aGlzLnVwZGF0ZSA9IGZ1bmN0");
    sb.append("aW9uIChkZWx0YSkgewogICAgdGhpcy51cGRhdGVfaW5fcHJvZ3Jlc3MgPSB0cnVlOwogICAgdmFyIGFy");
    sb.append("ciA9IFtdOyAvLyBjb252ZXJ0IHRoZSBzdWJzY3JpcHRpb25zIGludG8gYW4gYXJyYXkKICAgIGZvciAo");
    sb.append("dmFyIGsgaW4gYWxsX3N1YnNjcmlwdGlvbnMpIHsKICAgICAgYXJyLnB1c2goYWxsX3N1YnNjcmlwdGlv");
    sb.append("bnNba10pOwogICAgfQogICAgdmFyIGV2ZW50cyA9IFtdOwogICAgbWVyZ2Uocm9vdCwgZGVsdGEsIGFy");
    sb.append("ciwgZXZlbnRzKTsgLy8gZXhlY3V0ZSB0aGUgbWVyZ2UgYW5kIGZpcmUgZXZlbnRzCiAgICBmaXJlX2V2");
    sb.append("ZW50cyhldmVudHMpOwogICAgd2hpbGUgKHRoaXMuc3Vic2NyaWJlX2RlbGF5Lmxlbmd0aCA+IDApIHsK");
    sb.append("ICAgICAgdmFyIGNvcHkgPSB0aGlzLnN1YnNjcmliZV9kZWxheTsKICAgICAgdGhpcy5zdWJzY3JpYmVf");
    sb.append("ZGVsYXkgPSBbXTsKICAgICAgdmFyIGZsYXQgPSBbXTsKICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBj");
    sb.append("b3B5Lmxlbmd0aDsgaysrKSB7CiAgICAgICAgaWYgKCFjb3B5W2tdLmFib3J0ZWQpIHsKICAgICAgICAg");
    sb.append("IGZsYXQucHVzaChjb3B5W2tdLnN1Yik7CiAgICAgICAgfQogICAgICB9CiAgICAgIGV2ZW50cyA9IFtd");
    sb.append("OwogICAgICBtZXJnZSh7fSwgbWFrZV9kZWx0YShyb290KSwgZmxhdCwgZXZlbnRzKTsgLy8gZXhlY3V0");
    sb.append("ZSB0aGUgbWVyZ2UgYW5kIGZpcmUgZXZlbnRzCiAgICAgIGZpcmVfZXZlbnRzKGV2ZW50cyk7CiAgICB9");
    sb.append("CiAgICB0aGlzLnVwZGF0ZV9pbl9wcm9ncmVzcyA9IGZhbHNlOwogIH07CgogIC8vIGZpeCB0aGUgY2Fs");
    sb.append("bGJhY2sgc3RydWN0dXJlIGZyb20gdGhlIHVzZXIncyBoYXBweSBsYW5kIHRvIHRoZSByaWdvciBvZiB0");
    sb.append("aGUgZm9ybWF0IG5lZWRlZAogIHZhciB0cmFuc2Zvcm1fY2FsbGJhY2tfaW50b19zdWIgPSBmdW5jdGlv");
    sb.append("biAoY2FsbGJhY2ssIHN1YikgewogICAgaWYgKEFycmF5LmlzQXJyYXkoY2FsbGJhY2spKSB7IC8vIGlm");
    sb.append("IHRoZSBjYWxsYmFjayBpcyBhbiBhcnJheSwgdGhlbiBmbGF0dGVuIHRoZSBhcnJheSBpbnRvIHRoZSBu");
    sb.append("ZXcgb2JqZWN0CiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgY2FsbGJhY2subGVuZ3RoOyBrKyspIHsK");
    sb.append("ICAgICAgICB0cmFuc2Zvcm1fY2FsbGJhY2tfaW50b19zdWIoY2FsbGJhY2tba10sIHN1Yik7CiAgICAg");
    sb.append("IH0KICAgIH0gZWxzZSBpZiAodHlwZW9mIChjYWxsYmFjaykgPT0gIm9iamVjdCIpIHsgLy8gb2gsIHRo");
    sb.append("ZSBjYWxsYmFjayBpcyBhbiBvYmplY3QKICAgICAgZm9yICh2YXIga2V5IGluIGNhbGxiYWNrKSB7IC8v");
    sb.append("IGl0ZXJhdGUgb3ZlciBlYWNoIGtleQogICAgICAgIGlmIChrZXkgPT0gIkBlIikgeyAvLyBmb3JjZSB0");
    sb.append("aGUgZnVuY3Rpb25zIHRvIG1lcmdlIHRvZ2V0aGVyCiAgICAgICAgICB0cmFuc2Zvcm1fY2FsbGJhY2tf");
    sb.append("aW50b19zdWIoY2FsbGJhY2tba2V5XSwgc3ViKTsKICAgICAgICB9IGVsc2UgeyAvLyBub3JtYWwgZmxv");
    sb.append("dwogICAgICAgICAgaWYgKCEoa2V5IGluIHN1YikpIHsgLy8gZGl2ZSBpbnRvIHRoZSBvYmplY3QgYW5k");
    sb.append("IG1ha2Ugc3VyZSB0aGUgc3Vic2NyaXB0aW9uIGhhcyB0aGUgZmllbGQKICAgICAgICAgICAgc3ViW2tl");
    sb.append("eV0gPSB7fTsKICAgICAgICAgIH0KICAgICAgICAgIHRyYW5zZm9ybV9jYWxsYmFja19pbnRvX3N1Yihj");
    sb.append("YWxsYmFja1trZXldLCBzdWJba2V5XSk7IC8vIHJlY3Vyc2UgYW5kIHBhaXIgdGhlIGV2ZW50cyB0byB0");
    sb.append("aGUgbmV3IHN1YnNjcmlwdGlvbgogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIGlmICh0eXBlb2Yg");
    sb.append("KGNhbGxiYWNrKSA9PSAiZnVuY3Rpb24iKSB7IC8vIGl0J3MgYSBmdW5jdGlvbgogICAgICBpZiAoISgi");
    sb.append("QGUiIGluIHN1YikpIHsgLy8gbGV0J3MgZW5zdXJlIHRoZXJlIGlzIGFuIGV2ZW50IGxpc3QKICAgICAg");
    sb.append("ICBzdWJbIkBlIl0gPSBbY2FsbGJhY2tdOwogICAgICB9IGVsc2UgeyAvLyBvdGhlcndpc2UsIGp1c3Qg");
    sb.append("YWRkIGl0CiAgICAgICAgc3ViWyJAZSJdLnB1c2goY2FsbGJhY2spOwogICAgICB9CiAgICB9CiAgfTsK");
    sb.append("CiAgLy8gY29udmVydCB0aGUgdHJlZSB0byBhIGRlbHRhOyB0aGlzIHRyZWUgaXMgYXNzdW1lZCB0byBo");
    sb.append("YXZlIGJlZW4gbWVyZ2VkIGFscmVhZHkKICB2YXIgbWFrZV9kZWx0YSA9IGZ1bmN0aW9uIChzdCkgewog");
    sb.append("ICAgdmFyIGRlbHRhID0ge307IC8vIHRoZSBkZWx0YSB0byBjb25zdHJ1Y3QKICAgIGZvciAodmFyIGsg");
    sb.append("aW4gc3QpIHsgLy8gZm9yIGVhY2gga2V5IHdpdGhpbiB0aGUgb2JqZWN0CiAgICAgIGlmIChrWzBdID09");
    sb.append("ICIjIiB8fCBrID09ICJAbyIgfHwgayA9PSAiX19rZXkiKSBjb250aW51ZTsgLy8gc2tpcCB0aGVzZQog");
    sb.append("ICAgICB2YXIgdiA9IHN0W2tdOwogICAgICBpZiAoKCIjIiArIGspIGluIHN0KSB7IC8vIHRoZSByZXN1");
    sb.append("bHQgaXMgYW4gYXJyYXkKICAgICAgICB2YXIgcHYgPSBzdFsnIycgKyBrXTsKICAgICAgICB2YXIgZCA9");
    sb.append("IHt9OwogICAgICAgIGlmICgiQG8iIGluIHB2KSB7IC8vIGFuZCB3ZSBoYXZlIGEgc3BlY2lmaWMgb3Jk");
    sb.append("ZXJpbmcgdG8gbWVtb2l6ZQogICAgICAgICAgdmFyIG8gPSBbXTsKICAgICAgICAgIGZvciAodmFyIGog");
    sb.append("PSAwOyBqIDwgdi5sZW5ndGg7IGorKykgeyAvLyBjb3B5IHRoZSBlbGVtZW50cyBmcm9tIHRoZSBhcnJh");
    sb.append("eQogICAgICAgICAgICB2YXIgdmogPSB2W2pdOwogICAgICAgICAgICBkW3ZqLl9fa2V5XSA9IG1ha2Vf");
    sb.append("ZGVsdGEodmopOyAvLyB1c2luZyB0aGUgX19rZXkgZW1iZWRkZWQgaW4gdGhlIG9iamVjdAogICAgICAg");
    sb.append("ICAgICBvLnB1c2godltqXS5fX2tleSk7CiAgICAgICAgICB9CiAgICAgICAgICBkWyJAbyJdID0gbzsK");
    sb.append("ICAgICAgICB9IGVsc2UgeyAvLyBvdGhlcndpc2U7IHJlY29yZCB0aGUgc2l6ZSBhcyB3ZSByZWN1cnNl");
    sb.append("CiAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHYubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAg");
    sb.append("ZFsiIiArIGpdID0gbWFrZV9kZWx0YShwdltqXSk7CiAgICAgICAgICB9CiAgICAgICAgICBkWyJAcyJd");
    sb.append("ID0gdi5sZW5ndGg7CiAgICAgICAgfQogICAgICAgIGRlbHRhW2tdID0gZDsKICAgICAgfSBlbHNlIGlm");
    sb.append("ICh0eXBlb2YgKHYpID09ICJvYmplY3QiKSB7IC8vIGl0J3MganVzdCBhbiBvYmplY3QsIHNvIHJlY3Vy");
    sb.append("c2UgZGlyZWN0bHkKICAgICAgICBkZWx0YVtrXSA9IG1ha2VfZGVsdGEodik7CiAgICAgIH0gZWxzZSB7");
    sb.append("IC8vIGZpbmFsbHksIGl0IGlzIGEgdmFsdWUgc28ganVzdCBzZXQgaXQKICAgICAgICBkZWx0YVtrXSA9");
    sb.append("IHY7CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBkZWx0YTsKICB9OwoKICB0aGlzLnN1YnNjcmliZV9k");
    sb.append("ZWxheSA9IFtdOwoKICAvLyBgc3Vic2NyaWJlYCB0aGUgZ2l2ZW4gc3RydWN0dXJhbCBjYWxsYmFjawog");
    sb.append("IHRoaXMuc3Vic2NyaWJlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICB2YXIgc3ViID0ge307CiAg");
    sb.append("ICB0cmFuc2Zvcm1fY2FsbGJhY2tfaW50b19zdWIoY2FsbGJhY2ssIHN1Yik7ICAvLyB0cmFuc2Zvcm0g");
    sb.append("dGhlIGNhbGxiYWNrIGludG8gYSBzYWZlIGNhbGxiYWNrCiAgICB2YXIgUyA9ICIiICsgaWQrKzsgLy8g");
    sb.append("Y3JlYXRlIGFuIGlkIGZvciB0aGUgc3Vic2NyaXB0aW9uCiAgICBhbGxfc3Vic2NyaXB0aW9uc1tTXSA9");
    sb.append("IHN1YjsgLy8gcmVjb3JkIHRoZSBzdWJzY3JpcHRpb24KICAgIGlmICh0aGlzLnVwZGF0ZV9pbl9wcm9n");
    sb.append("cmVzcykgewogICAgICB2YXIgc20gPSB7fTsKICAgICAgc20uc3ViID0gc3ViOwogICAgICBzbS5hYm9y");
    sb.append("dGVkID0gZmFsc2U7CiAgICAgIHRoaXMuc3Vic2NyaWJlX2RlbGF5LnB1c2goc20pOwogICAgICByZXR1");
    sb.append("cm4gZnVuY3Rpb24oKSB7CiAgICAgICAgc20uYWJvcnRlZCA9IHRydWU7CiAgICAgICAgZGVsZXRlIGFs");
    sb.append("bF9zdWJzY3JpcHRpb25zW1NdOwogICAgICB9OwogICAgfSBlbHNlIHsKICAgICAgdmFyIGRlbHRhID0g");
    sb.append("bWFrZV9kZWx0YShyb290KTsKICAgICAgdmFyIGV2ZW50cyA9IFtdOwogICAgICBtZXJnZSh7fSwgZGVs");
    sb.append("dGEsIFtzdWJdLCBldmVudHMpOyAvLyBleGVjdXRlIHRoZSBjYWxsYmFjayBub3cgb24gYSBjYWxsYmFj");
    sb.append("ayBvZiBhbGwgZGF0YSB0byBmaXJlIGV2ZW50cyBhbmQgZmlsbCB0aGUgc3Vic2NyaXB0aW9uIG9iamVj");
    sb.append("dAogICAgICBmaXJlX2V2ZW50cyhldmVudHMpOwogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyAvLyBy");
    sb.append("ZXR1cm4gYSBtZXRob2QgdG8gdW5zdWJzY3JpYmUKICAgICAgICBkZWxldGUgYWxsX3N1YnNjcmlwdGlv");
    sb.append("bnNbU107CiAgICAgIH07CiAgICB9CiAgfTsKfQ==");
    return sb.toString();
  }
  public static final String DEBUGGER = new String(Base64.getDecoder().decode(make_debugger()), StandardCharsets.UTF_8);
  private static String make_debugger() {
    StringBuilder sb = new StringBuilder();
    sb.append("LyoqIFRoZSBBbWF6aW5nIEludGVybmFsIERlYnVnZ2VyIGZvciBSeEhUTUwgQ29ubmVjdGlvbiAqLwpB");
    sb.append("ZGFtYS5EZWJ1Z2dlciA9IChmdW5jdGlvbigpIHsKICB2YXIgc2VsZiA9IHt9OwogIHNlbGYuc2hvd24g");
    sb.append("PSBmYWxzZTsKICB2YXIgY29ubmVjdGlvbnMgPSB7fTsKICB2YXIgY3VycmVudCA9IG51bGw7CgogIC8q");
    sb.append("KiBIZWxwZXIgfCByZW1vdmUgYWxsIHRoZSBjaGlsZHJlbiBvZiBhIHBhcmVudCAqLwogIHZhciBudWtl");
    sb.append("ID0gZnVuY3Rpb24gKHBhcmVudCkgewogICAgdmFyIGxhc3QgPSBwYXJlbnQubGFzdENoaWxkOwogICAg");
    sb.append("d2hpbGUgKGxhc3QpIHsKICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGxhc3QpOwogICAgICBsYXN0ID0g");
    sb.append("cGFyZW50Lmxhc3RDaGlsZDsKICAgIH0KICB9OwoKICAvKiogSGVscGVyIHwgY3JlYXRlIGEgc2ltcGxl");
    sb.append("IGVsZW1lbnQgd2l0aCB0aGUgZ2l2ZW4gY29udGVudCBhcyB0aGUgaW5uZXJIVE1MICovCiAgdmFyIHNp");
    sb.append("bXBsZSA9IGZ1bmN0aW9uKHRhZywgY29udGVudCkgewogICAgdmFyIGQgPSBkb2N1bWVudC5jcmVhdGVF");
    sb.append("bGVtZW50KHRhZyk7CiAgICBkLmlubmVySFRNTCA9IGNvbnRlbnQ7CiAgICByZXR1cm4gZDsKICB9Cgog");
    sb.append("IHZhciBidXR0b25TdHlsZSA9ICJiYWNrZ3JvdW5kOiMzMzM7IGJvcmRlcjogMXB4IHNvbGlkICNmMDA7");
    sb.append("IGNvbG9yOiNmZmY7IHBhZGRpbmc6M3B4OyBtYXJnaW46M3B4OyBib3JkZXItcmFkaXVzOiAzcHg7IjsK");
    sb.append("ICB2YXIgaW5wdXRTdHlsZSA9ICJiYWNrZ3JvdW5kOiNlZWU7IGNvbG9yOiMwMDA7IjsKICB2YXIgcGx1");
    sb.append("c1NWRyA9ICI8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBmaWxsPVwibm9u");
    sb.append("ZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2Utd2lkdGg9XCIxLjVcIiBzdHJva2U9XCIjNzdk");
    sb.append("NjU2XCIgc3R5bGU9XCJ3aWR0aDoxOHB4OyBoZWlnaHQ6MThweDtcIj48cGF0aCBzdHJva2UtbGluZWNh");
    sb.append("cD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBkPVwiTTEyIDl2Nm0zLTNIOW0xMiAw");
    sb.append("YTkgOSAwIDExLTE4IDAgOSA5IDAgMDExOCAwelwiIC8+PC9zdmc+IjsKICB2YXIgbWludXNTVkcgPSAi");
    sb.append("PHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgZmlsbD1cIm5vbmVcIiB2aWV3");
    sb.append("Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlLXdpZHRoPVwiMS41XCIgc3Ryb2tlPVwiI2YwMFwiIHN0eWxl");
    sb.append("PVwid2lkdGg6MThweDsgaGVpZ2h0OjE4cHg7XCI+PHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwi");
    sb.append("IHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgZD1cIk0xNSAxMkg5bTEyIDBhOSA5IDAgMTEtMTggMCA5");
    sb.append("IDkgMCAwMTE4IDB6XCIgLz48L3N2Zz4iOwoKICAvLyB3ZSBhcmUgZ29pbmcgdG8gY3JlYXRlIGEgZG9j");
    sb.append("dW1lbnQKICB2YXIgdmlld0pzb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICB2YXIg");
    sb.append("dmlld0NoYW5uZWxzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CgogIHZpZXdKc29uLnN0");
    sb.append("eWxlID0gImZvbnQtZmFtaWx5OiBcIkpldEJyYWlucyBNb25vXCIsIHNvdXJjZS1jb2RlLXBybywgTWVu");
    sb.append("bG8sIE1vbmFjbywgQ29uc29sYXMsIG1vbm9zcGFjZTsgZm9udC1zaXplOiAxNHB4OyBjb2xvcjogI2Zm");
    sb.append("ZjsgYmFja2dyb3VuZC1jb2xvcjogIzAwMDsgd2lkdGg6MTAwJSIKICB2aWV3Q2hhbm5lbHMuc3R5bGUg");
    sb.append("PSAiZm9udC1mYW1pbHk6IFwiSmV0QnJhaW5zIE1vbm9cIiwgc291cmNlLWNvZGUtcHJvLCBNZW5sbywg");
    sb.append("TW9uYWNvLCBDb25zb2xhcywgbW9ub3NwYWNlOyBmb250LXNpemU6IDE0cHg7IGNvbG9yOiAjZmZmOyBi");
    sb.append("YWNrZ3JvdW5kLWNvbG9yOiAjMDAwOyB3aWR0aDoxMDAlIgoKICAvKiogUmVmbGVjdGlvbiB8IGdpdmVu");
    sb.append("IGEgcmVmbGVjdGVkIHR5cGUsIGV4dHJhY3QgdGhlIHN0cnVjdHVyZSB0eXBlICoqLwogIHZhciBleHRy");
    sb.append("YWN0U3RydWN0dXJlVHlwZSA9IGZ1bmN0aW9uKHR5cGUsIHR5cGVzKSB7CiAgICBpZiAodHlwZS5uYXR1");
    sb.append("cmUgPT0gInJlYWN0aXZlX3JlZiIgfHwgdHlwZS5uYXR1cmUgPT0gIm5hdGl2ZV9yZWYiKSB7CiAgICAg");
    sb.append("IHJldHVybiBleHRyYWN0U3RydWN0dXJlVHlwZSh0eXBlc1t0eXBlLnJlZl0sIHR5cGVzKTsKICAgIH0K");
    sb.append("ICAgIGlmICh0eXBlLm5hdHVyZSA9PSAicmVhY3RpdmVfcmVjb3JkIiB8fCB0eXBlLm5hdHVyZSA9PSAi");
    sb.append("bmF0aXZlX21lc3NhZ2UiKSB7CiAgICAgIHJldHVybiB0eXBlOwogICAgfQogICAgcmV0dXJuIG51bGw7");
    sb.append("CiAgfQoKICAvKiogVHJlZVZpZXcgfCBHaXZlbiBhIHR5cGUgKGFuZCBhIHR5cGUgZm9yZXN0KSBjcmVh");
    sb.append("dGUgYSAnbmFtZWQnIGRvbSBlbGVtZW50CiAgICogIGFsb25nIHdpdGggYW4gdXBkYXRlIGRlbHRhLiBU");
    sb.append("aGUgdXBkYXRlIGRlbHRhIGlzIGEgZnVuY3Rpb25hbCAob3Igc3RydWN0dXJhbCBmdW5jdGlvbmFsKQog");
    sb.append("ICAqICBjbG9zdXJlIHRoYXQgd2lsbCB1cGRhdGUgdGhlIGRvbSBlbGVtZW50IHN1Y2ggdGhhdCBpdCBj");
    sb.append("YW4gYmUgYXR0YWNoZWQgdG8gYW4gQWRhbWEgVHJlZSAqLwogIHZhciBjb252ZXJ0VHlwZVRvRG9tRGVs");
    sb.append("dGEgPSBmdW5jdGlvbih0eXBlLCB0eXBlcykgewogICAgaWYgKHR5cGUubmF0dXJlID09ICJyZWFjdGl2");
    sb.append("ZV9yZWYiIHx8IHR5cGUubmF0dXJlID09ICJuYXRpdmVfcmVmIikgewogICAgICAvLyBnbyB0byB0aGUg");
    sb.append("Zm9yZXN0IGFuZCB0dXJuIHRoZSByZWYgaW50byBhIG1hbmlmZXN0ZWQgdHlwZQogICAgICByZXR1cm4g");
    sb.append("Y29udmVydFR5cGVUb0RvbURlbHRhKHR5cGVzW3R5cGUucmVmXSwgdHlwZXMpOwogICAgfQogICAgaWYg");
    sb.append("KHR5cGUubmF0dXJlID09ICJuYXRpdmVfbWF5YmUiIHx8IHR5cGUubmF0dXJlID09ICJyZWFjdGl2ZV9t");
    sb.append("YXliZSIpIHsKICAgICAgLy8gYSBtYXliZSBpcyBqdXN0IGEgd3JhcHBlciBhcm91bmQgYW5vdGhlciB0");
    sb.append("eXBlIHRoYXQgY2FuIG51bGwgb3V0CiAgICAgIHZhciBkb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50");
    sb.append("KCJzcGFuIik7CiAgICAgIHZhciByZXN1bHQgPSBjb252ZXJ0VHlwZVRvRG9tRGVsdGEodHlwZS50eXBl");
    sb.append("LCB0eXBlcyk7CiAgICAgIHJldHVybiB7CiAgICAgICAgZG9tOiBkb20sCiAgICAgICAgbmFtZTogIm1h");
    sb.append("eWJlJmx0OyIgKyByZXN1bHQubmFtZSArICImZ3Q7IiwKICAgICAgICB1cGRhdGU6IFtyZXN1bHQudXBk");
    sb.append("YXRlLCBmdW5jdGlvbih2YWx1ZSkgewogICAgICAgICAgbnVrZShkb20pOwogICAgICAgICAgaWYgKHZh");
    sb.append("bHVlID09IG51bGwpIHsKICAgICAgICAgICAgZG9tLmlubmVySFRNTCA9ICI8aT5udWxsPC9pPiI7CiAg");
    sb.append("ICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkb20uYXBwZW5kKHJlc3VsdC5kb20pOwogICAgICAg");
    sb.append("ICAgfQogICAgICAgIH1dCiAgICAgIH07CiAgICB9CiAgICBpZiAodHlwZS5uYXR1cmUgPT0gIm5hdGl2");
    sb.append("ZV9saXN0IiB8fCB0eXBlLm5hdHVyZSA9PSAibmF0aXZlX2FycmF5IikgewogICAgICAvLyB0aGlzIGlz");
    sb.append("IHRoZSBtb3N0IGNvbXBsZXggdHlwZSBhcyBpdCByZXF1aXJlcyBhIGRpZmZlcmVudGlhbCBzdHJ1Y3R1");
    sb.append("cmUuCgogICAgICAvLyB3ZSBjcmVhdGUgYSBkdW1teSB0byBnZXQgdGhlIG5hbWUgb2YgdGhlIHR5cGUK");
    sb.append("ICAgICAgdmFyIGR1bW15ID0gY29udmVydFR5cGVUb0RvbURlbHRhKHR5cGUudHlwZSwgdHlwZXMpOwoK");
    sb.append("ICAgICAgLy8gc28sIHdlIGhhdmUgdHdvIGNvbnNpZGVyYXRpb25zLiBGaXJzdCwgaXMgdGhpcyBhIGxp");
    sb.append("c3Qgb2Ygc3RydWN0dXJlcyBPUiBhIGxpc3Qgb2YgdmFsdWVzLgogICAgICB2YXIgcmVjb3JkVHlwZSA9");
    sb.append("IGV4dHJhY3RTdHJ1Y3R1cmVUeXBlKHR5cGUudHlwZSwgdHlwZXMpOwogICAgICBpZiAocmVjb3JkVHlw");
    sb.append("ZSAhPSBudWxsKSB7CiAgICAgICAgLy8gaXQgaXMgYSBsaXN0IG9mIHN0cnVjdHVyZXMsIHNvIHdlIHdh");
    sb.append("bnQgdG8gY3JlYXRlIGEgbmljZSBsb29raW5nIHRhYmxlIHdpdGggcGFnaW5hdGlvbiEKICAgICAgICB2");
    sb.append("YXIgdGFibGVDb250cm9scyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKICAgICAgICB2");
    sb.append("YXIgc2hvd2hpZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgICAgICB0YWJs");
    sb.append("ZUNvbnRyb2xzLmFwcGVuZChzaG93aGlkZSk7CgogICAgICAgIHZhciB0YWJsZUhvbGRlciA9IGRvY3Vt");
    sb.append("ZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIik7CiAgICAgICAgdGFibGVDb250cm9scy5hcHBlbmQodGFi");
    sb.append("bGVIb2xkZXIpOwogICAgICAgIHZhciB0YWJsZUhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQo");
    sb.append("InRoZWFkIik7CiAgICAgICAgdGFibGVIb2xkZXIuYXBwZW5kKHRhYmxlSGVhZGVyKTsKICAgICAgICB2");
    sb.append("YXIgaGVhZGVyUm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTsKICAgICAgICB0YWJsZUhv");
    sb.append("bGRlci5hcHBlbmQoaGVhZGVyUm93KTsKICAgICAgICB2YXIgY29sb3JTdHlsZSA9ICJib3JkZXI6IDFw");
    sb.append("eCBzb2xpZCAjM2I1NGRhOyI7CiAgICAgICAgZm9yICh2YXIgZmllbGROYW1lIGluIHJlY29yZFR5cGUu");
    sb.append("ZmllbGRzKSB7CiAgICAgICAgICB2YXIgZmllbGQgPSByZWNvcmRUeXBlLmZpZWxkc1tmaWVsZE5hbWVd");
    sb.append("OwogICAgICAgICAgaWYgKCJwcml2YXRlIiA9PSBmaWVsZC5wcml2YWN5KSB7CiAgICAgICAgICAgIGNv");
    sb.append("bnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgdmFyIHJlc3VsdCA9IGNvbnZlcnRUeXBlVG9Eb21E");
    sb.append("ZWx0YShmaWVsZC50eXBlLCB0eXBlcyk7CiAgICAgICAgICB2YXIgdGQgPSBkb2N1bWVudC5jcmVhdGVF");
    sb.append("bGVtZW50KCJ0ZCIpOwogICAgICAgICAgdGQuaW5uZXJIVE1MID0gcmVzdWx0Lm5hbWUgKyAiICIgKyBm");
    sb.append("aWVsZE5hbWU7CiAgICAgICAgICBoZWFkZXJSb3cuYXBwZW5kKHRkKTsKICAgICAgICAgIHRkLnN0eWxl");
    sb.append("ID0gY29sb3JTdHlsZSArICJwYWRkaW5nLWxlZnQ6IDAuNWVtOyBwYWRkaW5nLXJpZ2h0OiAwLjVlbTsi");
    sb.append("CiAgICAgICAgfQogICAgICAgIHRhYmxlSG9sZGVyLnN0eWxlID0gY29sb3JTdHlsZSArICJwYWRkaW5n");
    sb.append("OiAwLjVlbTsgbWFyZ2luOjAuNWVtOyBkaXNwbGF5Om5vbmUiCiAgICAgICAgaGVhZGVyUm93LnN0eWxl");
    sb.append("ID0gY29sb3JTdHlsZTsKICAgICAgICB2YXIgdGFibGVCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVu");
    sb.append("dCgidGJvZHkiKTsKICAgICAgICB0YWJsZUhvbGRlci5hcHBlbmQodGFibGVCb2R5KTsKICAgICAgICB2");
    sb.append("YXIgcm93c0J5S2V5ID0ge307CiAgICAgICAgdmFyIHBhZ2luZyA9IHsKICAgICAgICAgIHNob3duOmZh");
    sb.append("bHNlLAogICAgICAgICAgb3JkZXI6W10sCiAgICAgICAgICBwYWdlOiAwLAogICAgICAgICAgcGFnZV9s");
    sb.append("aW1pdDogMTAsCiAgICAgICAgfTsKICAgICAgICB2YXIgY29udHJvbGxlciA9IGRvY3VtZW50LmNyZWF0");
    sb.append("ZUVsZW1lbnQoInNwYW4iKTsKICAgICAgICB0YWJsZUNvbnRyb2xzLmFwcGVuZChjb250cm9sbGVyKTsK");
    sb.append("ICAgICAgICBwYWdpbmcucmVmb3JtID1mdW5jdGlvbigpIHsKICAgICAgICAgIG51a2UodGFibGVCb2R5");
    sb.append("KTsKICAgICAgICAgIHZhciBzdGFydCA9IE1hdGgubWluKHRoaXMucGFnZSAqIHRoaXMucGFnZV9saW1p");
    sb.append("dCwgdGhpcy5vcmRlci5sZW5ndGggLSB0aGlzLnBhZ2VfbGltaXQpOwogICAgICAgICAgZm9yICh2YXIg");
    sb.append("YXQgPSBzdGFydDsgYXQgPCBzdGFydCArIHBhZ2luZy5wYWdlX2xpbWl0OyBhdCsrKSB7CiAgICAgICAg");
    sb.append("ICAgIHZhciByb3cgPSByb3dzQnlLZXlbcGFnaW5nLm9yZGVyW2F0XV07CiAgICAgICAgICAgIGlmIChy");
    sb.append("b3cpIHsKICAgICAgICAgICAgICB0YWJsZUJvZHkuYXBwZW5kKHJvdyk7CiAgICAgICAgICAgIH0KICAg");
    sb.append("ICAgICAgIH0KICAgICAgICAgIG51a2UoY29udHJvbGxlcik7CiAgICAgICAgICBpZiAodGhpcy5zaG93");
    sb.append("bikgewogICAgICAgICAgICB2YXIgcGFnZXMgPSB0aGlzLm9yZGVyLmxlbmd0aCAvIHRoaXMucGFnZV9s");
    sb.append("aW1pdDsKICAgICAgICAgICAgaWYgKHBhZ2VzID4gMSkgewogICAgICAgICAgICAgIGZvciAodmFyIGsg");
    sb.append("PSAwOyBrIDwgcGFnZXM7IGsrKykgewogICAgICAgICAgICAgICAgdmFyIGdvdG9QYWdlID0gZG9jdW1l");
    sb.append("bnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7CiAgICAgICAgICAgICAgICBnb3RvUGFnZS5zdHlsZSA9");
    sb.append("IGJ1dHRvblN0eWxlOwogICAgICAgICAgICAgICAgZ290b1BhZ2UuaW5uZXJIVE1MID0gIltQRzoiICsg");
    sb.append("ayArICJdIjsKICAgICAgICAgICAgICAgIGdvdG9QYWdlLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAg");
    sb.append("ICAgICAgICAgICAgICAgIHRoaXMucGFnaW5nLnBhZ2UgPSB0aGlzLnBnOwogICAgICAgICAgICAgICAg");
    sb.append("ICB0aGlzLnBhZ2luZy5yZWZvcm0oKTsKICAgICAgICAgICAgICAgIH0uYmluZCh7cGFnaW5nOiB0aGlz");
    sb.append("LCBwZzoga30pOwogICAgICAgICAgICAgICAgY29udHJvbGxlci5hcHBlbmQoZ290b1BhZ2UpOwogICAg");
    sb.append("ICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgc2hvd2hpZGUuaW5u");
    sb.append("ZXJIVE1MID0gdGhpcy5zaG93biA/IG1pbnVzU1ZHIDogcGx1c1NWRzsKICAgICAgICAgIHNob3doaWRl");
    sb.append("Lm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdGhpcy5zaG93biA9ICF0aGlzLnNob3du");
    sb.append("OwogICAgICAgICAgICBpZiAodGhpcy5zaG93bikgewogICAgICAgICAgICAgIHRhYmxlSG9sZGVyLnN0");
    sb.append("eWxlLmRpc3BsYXkgPSAiIjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0YWJsZUhv");
    sb.append("bGRlci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMu");
    sb.append("cmVmb3JtKCk7CiAgICAgICAgICB9LmJpbmQodGhpcyk7CiAgICAgICAgfS5iaW5kKHBhZ2luZyk7CgoK");
    sb.append("ICAgICAgICByZXR1cm4gewogICAgICAgICAgZG9tOiB0YWJsZUNvbnRyb2xzLAogICAgICAgICAgbmFt");
    sb.append("ZTogImxpc3QmbHQ7IiArIGR1bW15Lm5hbWUgKyAiJmd0OyIsCiAgICAgICAgICB1cGRhdGU6IHsKICAg");
    sb.append("ICAgICAgICAgJysnOiBmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgICAgdmFyIHJvdyA9IGRvY3Vt");
    sb.append("ZW50LmNyZWF0ZUVsZW1lbnQoInRyIik7CiAgICAgICAgICAgICAgcm93c0J5S2V5W2tleV0gPSByb3c7");
    sb.append("CiAgICAgICAgICAgICAgdmFyIGRlbHRhID0ge307CiAgICAgICAgICAgICAgZm9yICh2YXIgZmllbGRO");
    sb.append("YW1lIGluIHJlY29yZFR5cGUuZmllbGRzKSB7CiAgICAgICAgICAgICAgICB2YXIgZmllbGQgPSByZWNv");
    sb.append("cmRUeXBlLmZpZWxkc1tmaWVsZE5hbWVdOwogICAgICAgICAgICAgICAgaWYgKCJwcml2YXRlIiA9PSBm");
    sb.append("aWVsZC5wcml2YWN5KSB7CiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAg");
    sb.append("fQogICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGNvbnZlcnRUeXBlVG9Eb21EZWx0YShmaWVsZC50");
    sb.append("eXBlLCB0eXBlcyk7CiAgICAgICAgICAgICAgICB2YXIgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50");
    sb.append("KCJ0ZCIpOwogICAgICAgICAgICAgICAgdGQuc3R5bGUgPSBjb2xvclN0eWxlICsgInBhZGRpbmc6IDAu");
    sb.append("MjVlbTsgdGV4dC1hbGlnbjp0b3AiOwogICAgICAgICAgICAgICAgdGQuYXBwZW5kKHJlc3VsdC5kb20p");
    sb.append("OwogICAgICAgICAgICAgICAgcm93LmFwcGVuZCh0ZCk7CiAgICAgICAgICAgICAgICBkZWx0YVtmaWVs");
    sb.append("ZE5hbWVdID0gcmVzdWx0LnVwZGF0ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJu");
    sb.append("IGRlbHRhOwogICAgICAgICAgICB9LAogICAgICAgICAgICAnLSc6IGZ1bmN0aW9uIChrZXkpIHsKICAg");
    sb.append("ICAgICAgICAgICB2YXIgZG9tID0gcm93c0J5S2V5W2tleV07CiAgICAgICAgICAgICAgdGFibGVCb2R5");
    sb.append("LnJlbW92ZShkb20pOwogICAgICAgICAgICAgIGRlbGV0ZSByb3dzQnlLZXlba2V5XTsKICAgICAgICAg");
    sb.append("ICAgfSwKICAgICAgICAgICAgJ34nOiBmdW5jdGlvbiAob3JkZXIpIHsKICAgICAgICAgICAgICBpZiAo");
    sb.append("b3JkZXIgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgcGFnaW5nLm9yZGVyID0gb3JkZXI7CiAgICAg");
    sb.append("ICAgICAgICAgICBwYWdpbmcucmVmb3JtKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAg");
    sb.append("ICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIG5vdCBhIHJlY29yZCwg");
    sb.append("c28gd2UgdXNlIGEgc2ltcGxlIGxpc3QKICAgICAgICB2YXIgbGlzdEhvbGRlciA9IGRvY3VtZW50LmNy");
    sb.append("ZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIHZhciBkb21CeUtleSA9IHt9OwogICAgICAgIHJldHVy");
    sb.append("biB7CiAgICAgICAgICBkb206IGxpc3RIb2xkZXIsCiAgICAgICAgICBuYW1lOiAibGlzdDwiICsgZHVt");
    sb.append("bXkubmFtZSArICI+IiwKICAgICAgICAgIHVwZGF0ZTogewogICAgICAgICAgICAnKyc6IGZ1bmN0aW9u");
    sb.append("IChrZXkpIHsKICAgICAgICAgICAgICB2YXIgaXRlbUhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1l");
    sb.append("bnQoInNwYW4iKTsKICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gY29udmVydFR5cGVUb0RvbURlbHRh");
    sb.append("KHR5cGUudHlwZSwgdHlwZXMpOwogICAgICAgICAgICAgIGl0ZW1Ib2xkZXIuYXBwZW5kKHJlc3VsdC5k");
    sb.append("b20pOwogICAgICAgICAgICAgIGl0ZW1Ib2xkZXIuYXBwZW5kKHNpbXBsZSgic3BhbiIsICIsICIpKTsK");
    sb.append("ICAgICAgICAgICAgICBkb21CeUtleVtrZXldID0gaXRlbUhvbGRlcjsKICAgICAgICAgICAgICByZXR1");
    sb.append("cm4gcmVzdWx0LnVwZGF0ZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgJy0nOiBmdW5jdGlvbiAo");
    sb.append("a2V5KSB7CiAgICAgICAgICAgICAgdmFyIGRvbSA9IGRvbUJ5S2V5W2tleV07CiAgICAgICAgICAgICAg");
    sb.append("bGlzdEhvbGRlci5yZW1vdmUoZG9tKTsKICAgICAgICAgICAgICBkZWxldGUgZG9tQnlLZXlba2V5XTsK");
    sb.append("ICAgICAgICAgICAgfSwKICAgICAgICAgICAgJ34nOiBmdW5jdGlvbiAob3JkZXIpIHsKICAgICAgICAg");
    sb.append("ICAgfQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0KICAgIH0KICAgIGlmICh0eXBlLm5hdHVy");
    sb.append("ZSA9PSAicmVhY3RpdmVfdmFsdWUiIHx8IHR5cGUubmF0dXJlID09ICJuYXRpdmVfdmFsdWUiKSB7CiAg");
    sb.append("ICAgIC8vIGl0J3MganVzdCBkYXRhLCBzbyBjcmVhdGUgYSBzaW5nbGUgbm9kZSB0byBkcmF3IGl0CiAg");
    sb.append("ICAgIHZhciBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICBpdGVtLmlu");
    sb.append("bmVySFRNTCA9ICJudWxsIjsKICAgICAgaXRlbS5zdHlsZSA9ICJjb2xvcjogIzc3YTVmZjsiOwogICAg");
    sb.append("ICB2YXIgdXBkYXRlID0gZnVuY3Rpb24odmFsdWUpIHsgaXRlbS5pbm5lckhUTUwgPSB2YWx1ZTsgfTsK");
    sb.append("ICAgICAgaWYgKHR5cGUudHlwZSA9PSAic3RyaW5nIikgewogICAgICAgIGl0ZW0uc3R5bGUgPSAiY29s");
    sb.append("b3I6ICM3N2Q2NTYiOwogICAgICAgIHVwZGF0ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7IGl0ZW0uaW5uZXJI");
    sb.append("VE1MID0gIlwiIiArIHZhbHVlICsgIlwiIjsgfTsKICAgICAgfSBlbHNlIGlmICh0eXBlLnR5cGUgPT0g");
    sb.append("InByaW5jaXBhbCIpIHsKICAgICAgICBpdGVtLnN0eWxlID0gImNvbG9yOiAjQkE4M0ZGOyI7CiAgICAg");
    sb.append("ICAgdXBkYXRlID0gZnVuY3Rpb24odmFsdWUpIHsgaXRlbS5pbm5lckhUTUwgPSB2YWx1ZSAhPSBudWxs");
    sb.append("ID8gKHZhbHVlLmFnZW50ICsgIkAiICsgdmFsdWUuYXV0aG9yaXR5KSA6ICJudWxsIjsgfTsKICAgICAg");
    sb.append("fSBlbHNlIGlmICh0eXBlLnR5cGUgPT0gImJvb2wiKSB7CiAgICAgICAgaXRlbS5zdHlsZSA9ICJjb2xv");
    sb.append("cjogI0U4M0IzQjsiOwogICAgICB9CiAgICAgIHJldHVybiB7CiAgICAgICAgZG9tOml0ZW0sCiAgICAg");
    sb.append("ICAgbmFtZTogdHlwZS50eXBlLAogICAgICAgIHVwZGF0ZTogdXBkYXRlCiAgICAgIH07CiAgICB9CiAg");
    sb.append("ICBpZiAodHlwZS5uYXR1cmUgPT0gInJlYWN0aXZlX3JlY29yZCIgfHwgdHlwZS5uYXR1cmUgPT0gIm5h");
    sb.append("dGl2ZV9tZXNzYWdlIikgewogICAgICAvLyBpdCdzIGEgc3RydWN0dXJlLCBzbyBsZXQncyBjcmVhdGUg");
    sb.append("YSByZWNvcmQgdGhhdCBjYW4gc2hvdy9oaWRlCiAgICAgIHZhciBvYmpfaG9sZGVyID0gZG9jdW1lbnQu");
    sb.append("Y3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICB2YXIgc2hvd2hpZGUgPSBkb2N1bWVudC5jcmVhdGVF");
    sb.append("bGVtZW50KCJidXR0b24iKTsKICAgICAgb2JqX2hvbGRlci5hcHBlbmQoc2hvd2hpZGUpOwogICAgICBv");
    sb.append("YmpfaG9sZGVyLnNob3dHcm91cCA9IHR5cGUubmFtZSAhPSAiUm9vdCI7CgogICAgICB2YXIgZ3JvdXAg");
    sb.append("PSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgb2JqX2hvbGRlci5hcHBlbmQoZ3Jv");
    sb.append("dXApOwogICAgICBncm91cC5hcHBlbmQoc2ltcGxlKCJkaXYiLCAieyIpKTsKICAgICAgdmFyIGNoaWxk");
    sb.append("cmVuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidWwiKTsKICAgICAgZ3JvdXAuYXBwZW5kKGNoaWxk");
    sb.append("cmVuKTsKICAgICAgZ3JvdXAuYXBwZW5kKHNpbXBsZSgiZGl2IiwgIn0iKSk7CiAgICAgIGdyb3VwLnN0");
    sb.append("eWxlID0gInBhZGRpbmctbGVmdDoxMHB4IjsKICAgICAgY2hpbGRyZW4uc3R5bGUgPSAicGFkZGluZy1s");
    sb.append("ZWZ0OjEwcHg7IjsKICAgICAgc2hvd2hpZGUub25jbGljayA9IGZ1bmN0aW9uKCkgewogICAgICAgIG9i");
    sb.append("al9ob2xkZXIuc2hvd0dyb3VwID0gISBvYmpfaG9sZGVyLnNob3dHcm91cDsKICAgICAgICBpZiAob2Jq");
    sb.append("X2hvbGRlci5zaG93R3JvdXApIHsKICAgICAgICAgIGdyb3VwLnN0eWxlLmRpc3BsYXkgPSAiIjsKICAg");
    sb.append("ICAgICAgIHNob3doaWRlLmlubmVySFRNTCA9IG1pbnVzU1ZHOwogICAgICAgIH0gZWxzZSB7CiAgICAg");
    sb.append("ICAgICBncm91cC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgc2hvd2hpZGUuaW5uZXJI");
    sb.append("VE1MID0gcGx1c1NWRzsKICAgICAgICB9CiAgICAgIH07CiAgICAgIHNob3doaWRlLm9uY2xpY2soKTsK");
    sb.append("CiAgICAgIHZhciBkZWx0YSA9IHt9OwogICAgICBmb3IgKHZhciBmaWVsZE5hbWUgaW4gdHlwZS5maWVs");
    sb.append("ZHMpIHsKICAgICAgICB2YXIgZmllbGQgPSB0eXBlLmZpZWxkc1tmaWVsZE5hbWVdOwogICAgICAgIGlm");
    sb.append("ICgicHJpdmF0ZSIgPT0gZmllbGQucHJpdmFjeSkgewogICAgICAgICAgY29udGludWU7CiAgICAgICAg");
    sb.append("fQogICAgICAgIHZhciByZXN1bHQgPSBjb252ZXJ0VHlwZVRvRG9tRGVsdGEoZmllbGQudHlwZSwgdHlw");
    sb.append("ZXMpOwogICAgICAgIHZhciBmaWVsZERvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpIik7CiAg");
    sb.append("ICAgICAgZmllbGREb20uYXBwZW5kKHNpbXBsZSgic3BhbiIsICBmaWVsZC5wcml2YWN5ICsgIiAiICsg");
    sb.append("cmVzdWx0Lm5hbWUgKyAiICIgKyBmaWVsZE5hbWUgKyAiID0gIikpOwogICAgICAgIGZpZWxkRG9tLmFw");
    sb.append("cGVuZChyZXN1bHQuZG9tKTsKICAgICAgICBjaGlsZHJlbi5hcHBlbmQoZmllbGREb20pOwogICAgICAg");
    sb.append("IGRlbHRhW2ZpZWxkTmFtZV0gPSByZXN1bHQudXBkYXRlOwogICAgICB9CiAgICAgIHJldHVybiB7CiAg");
    sb.append("ICAgICAgZG9tOiBvYmpfaG9sZGVyLAogICAgICAgIG5hbWU6IHR5cGUubmFtZSwKICAgICAgICB1cGRh");
    sb.append("dGU6ZGVsdGEKICAgICAgfTsKICAgIH0KICAgIHZhciB1bmtub3duID0gZG9jdW1lbnQuY3JlYXRlRWxl");
    sb.append("bWVudCgiZGl2Iik7CiAgICB1bmtub3duLmlubmVySFRNTCA9IEpTT04uc3RyaW5naWZ5KHR5cGUpOwog");
    sb.append("ICAgcmV0dXJuIHtkb206IHVua25vd24sIHVwZGF0ZTogZnVuY3Rpb24oKSB7fX07CiAgfTsKCiAgc2Vs");
    sb.append("Zi5mb3JtSWRHZW4gPSAwOwogIHZhciBuZXh0Rm9ybUlkID0gZnVuY3Rpb24oKSB7CiAgICBzZWxmLmZv");
    sb.append("cm1JZEdlbisrOwogICAgcmV0dXJuIHNlbGYuZm9ybUlkR2VuOwogIH07CiAgdmFyIGZpbGxPdXRGb3Jt");
    sb.append("Rm9yVHlwZSA9IGZ1bmN0aW9uKGRvbSwgbmFtZSwgdHlwZSwgdHlwZXMpIHsKICAgIGlmICh0eXBlLm5h");
    sb.append("dHVyZSA9PSAibmF0aXZlX3JlZiIpIHsKICAgICAgZmlsbE91dEZvcm1Gb3JUeXBlKGRvbSwgbmFtZSwg");
    sb.append("dHlwZXNbdHlwZS5yZWZdLCB0eXBlcyk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlmICh0eXBlLm5h");
    sb.append("dHVyZSA9PSAibmF0aXZlX21lc3NhZ2UiKSB7CiAgICAgIGZvciAodmFyIGZpZWxkIGluIHR5cGUuZmll");
    sb.append("bGRzKSB7CiAgICAgICAgdmFyIGZpZWxkVHlwZSA9IHR5cGUuZmllbGRzW2ZpZWxkXS50eXBlOwogICAg");
    sb.append("ICAgIHZhciBmaWVsZEhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAg");
    sb.append("IGZpbGxPdXRGb3JtRm9yVHlwZShmaWVsZEhvbGRlciwgbmFtZSA9PSAiIiA/IGZpZWxkIDogKG5hbWUg");
    sb.append("KyAiLiIgKyBmaWVsZCksIGZpZWxkVHlwZSwgdHlwZXMpOwogICAgICAgIGRvbS5hcHBlbmQoZmllbGRI");
    sb.append("b2xkZXIpOwogICAgICB9CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlmICh0eXBlLm5hdHVyZSA9PSAi");
    sb.append("bmF0aXZlX2FycmF5IikgewogICAgICAvLyBUT0RPCiAgICB9CiAgICBpZiAodHlwZS5uYXR1cmUgPT0g");
    sb.append("Im5hdGl2ZV9tYXliZSIpIHsKICAgICAgdmFyIG1heWJlSG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxl");
    sb.append("bWVudCgiZGl2Iik7CiAgICAgIHZhciBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxhYmVs");
    sb.append("Iik7CiAgICAgIGxhYmVsLmlubmVySFRNTCA9ICJlbmFibGUgIiArIG5hbWU7CiAgICAgIHZhciBjaGVj");
    sb.append("a2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7CiAgICAgIGNoZWNrYm94LnR5cGUg");
    sb.append("PSAiY2hlY2tib3giOwogICAgICBjaGVja2JveC5pZCA9IG5leHRGb3JtSWQoKTsKICAgICAgY2hlY2ti");
    sb.append("b3gubmFtZSA9ICIiOwogICAgICBsYWJlbC5odG1sRm9yID0gY2hlY2tib3guaWQ7CiAgICAgIHZhciBt");
    sb.append("YXliZVZhbHVlUmVmID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIHZhciBtYXli");
    sb.append("ZVZhbHVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIGZpbGxPdXRGb3JtRm9y");
    sb.append("VHlwZShtYXliZVZhbHVlLCBuYW1lLCB0eXBlLnR5cGUsIHR5cGVzKTsKICAgICAgbWF5YmVIb2xkZXIu");
    sb.append("YXBwZW5kKGxhYmVsKTsKICAgICAgbWF5YmVIb2xkZXIuYXBwZW5kKGNoZWNrYm94KTsKICAgICAgbWF5");
    sb.append("YmVIb2xkZXIuYXBwZW5kKG1heWJlVmFsdWVSZWYpOwogICAgICBkb20uYXBwZW5kKG1heWJlSG9sZGVy");
    sb.append("KTsKICAgICAgY2hlY2tib3gub25jaGFuZ2UgPSBmdW5jdGlvbigpIHsKICAgICAgICBudWtlKG1heWJl");
    sb.append("VmFsdWVSZWYpOwogICAgICAgIGlmIChjaGVja2JveC5jaGVja2VkKSB7CiAgICAgICAgICBtYXliZVZh");
    sb.append("bHVlUmVmLmFwcGVuZChtYXliZVZhbHVlKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIHJldHVybjsK");
    sb.append("ICAgIH0KICAgIGlmICh0eXBlLm5hdHVyZSA9PSAibmF0aXZlX3ZhbHVlIikgewogICAgICB2YXIgbGFi");
    sb.append("ZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsYWJlbCIpOwogICAgICB2YXIgaW5wdXQgPSBkb2N1");
    sb.append("bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwoKICAgICAgaW5wdXQuaWQgPSAiZGVidWdnZXJfZm9y");
    sb.append("bV9pZF8iICsgbmV4dEZvcm1JZCgpOwogICAgICBsYWJlbC5pbm5lckhUTUwgPSBuYW1lOwogICAgICBp");
    sb.append("bnB1dC5uYW1lID0gbmFtZTsKICAgICAgaW5wdXQuc3R5bGUgPSBpbnB1dFN0eWxlOwogICAgICBpbnB1");
    sb.append("dC50eXBlID0gInRleHQiOwogICAgICBsYWJlbC5mb3JIdG1sID0gaW5wdXQuaWQ7CiAgICAgIGRvbS5h");
    sb.append("cHBlbmQobGFiZWwpOwogICAgICBkb20uYXBwZW5kKGlucHV0KTsKICAgICAgcmV0dXJuOwogICAgfQog");
    sb.append("ICAgZG9tLmlubmVySFRNTCA9IG5hbWUgKyAiLS0+IiArIEpTT04uc3RyaW5naWZ5KHR5cGUpOwogIH07");
    sb.append("CgogIHZhciBtYWtlQ2hhbm5lbERlYnVnZ2VyID0gZnVuY3Rpb24oY2hhbm5lbHMsIHR5cGVzLCBjb25u");
    sb.append("ZWN0aW9uKSB7CiAgICB2YXIgc2VsZWN0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzZWxlY3Qi");
    sb.append("KTsKICAgIHNlbGVjdG9yLnN0eWxlID0gImJhY2tncm91bmQ6ICMzMzM7IGNvbG9yOiNmZmY7IjsKICAg");
    sb.append("IHZpZXdDaGFubmVscy5hcHBlbmQoc2VsZWN0b3IpOwogICAgdmFyIGZvcm1Ib2xkZXIgPSBkb2N1bWVu");
    sb.append("dC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIHZpZXdDaGFubmVscy5hcHBlbmQoZm9ybUhvbGRlcik7");
    sb.append("CiAgICB2YXIgY2hvb3NlID0gZnVuY3Rpb24oY2hhbm5lbCkgewogICAgICBudWtlKGZvcm1Ib2xkZXIp");
    sb.append("OwogICAgICB2YXIgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImZvcm0iKTsKICAgICAgZm9y");
    sb.append("bUhvbGRlci5hcHBlbmQoZm9ybSk7CiAgICAgIHZhciB0eXBlID0gdHlwZXNbY2hhbm5lbHNbY2hhbm5l");
    sb.append("bF1dOwogICAgICBmaWxsT3V0Rm9ybUZvclR5cGUoZm9ybSwgIiIsIHR5cGUsIHR5cGVzKTsKCiAgICAg");
    sb.append("IHZhciBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgICAgYnV0dG9u");
    sb.append("LnN0eWxlID0gYnV0dG9uU3R5bGU7CiAgICAgIGJ1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24oZXZlbnQp");
    sb.append("IHsKICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIHZhciBtZXNzYWdlID0gUnhI");
    sb.append("VE1MLkJ1aWxkRm9ybU9iamVjdChmb3JtKTsKICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gIlNlbmRp");
    sb.append("bmciOwogICAgICAgIGNvbnNvbGUubG9nKGNoYW5uZWwgKyAiOiIgKyBKU09OLnN0cmluZ2lmeShtZXNz");
    sb.append("YWdlKSk7CiAgICAgICAgY29ubmVjdGlvbi5zZW5kKGNoYW5uZWwsIG1lc3NhZ2UsIHsKICAgICAgICAg");
    sb.append("IHN1Y2Nlc3M6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gIlN1Y2Nl");
    sb.append("c3MhIFNlbmQgQW5vdGhlciEiOwogICAgICAgICAgfSwKICAgICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9u");
    sb.append("KHJlYXNvbikgewogICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gIltGYWlsZWQ6IiArIHJlYXNv");
    sb.append("biArICJdLCBUcnkgQWdhaW4iOwogICAgICAgICAgfQogICAgICAgIH0pCgogICAgICB9OwogICAgICBi");
    sb.append("dXR0b24uaW5uZXJIVE1MID0gIlNlbmQiOwogICAgICBmb3JtLmFwcGVuZChidXR0b24pOwogICAgICAv");
    sb.append("LyBCdWlsZEZvcm1PYmplY3QKICAgIH07CiAgICB2YXIgZmlyc3QgPSBudWxsOwogICAgdmFyIGNoYW5u");
    sb.append("ZWxzU29ydGVkID0gW107CiAgICBmb3IgKHZhciBjaCBpbiBjaGFubmVscykgewogICAgICBjaGFubmVs");
    sb.append("c1NvcnRlZC5wdXNoKGNoKTsKICAgIH0KICAgIGNoYW5uZWxzU29ydGVkLnNvcnQoKTsKICAgIGZvciAo");
    sb.append("dmFyIGsgaW4gY2hhbm5lbHNTb3J0ZWQpIHsKICAgICAgdmFyIGNoID0gY2hhbm5lbHNTb3J0ZWRba107");
    sb.append("CiAgICAgIGlmIChmaXJzdCA9PSBudWxsKSB7CiAgICAgICAgZmlyc3QgPSBjaDsKICAgICAgfQogICAg");
    sb.append("ICB2YXIgbXNnVHlwZSA9IGNoYW5uZWxzW2NoXTsKICAgICAgdmFyIG9wdCA9IGRvY3VtZW50LmNyZWF0");
    sb.append("ZUVsZW1lbnQoIm9wdGlvbiIpOwogICAgICBvcHQuaW5uZXJIVE1MID0gY2ggKyAiIDogIiArIG1zZ1R5");
    sb.append("cGU7CiAgICAgIG9wdC5sYWJlbCA9IGNoICsgIiA6ICIgKyBtc2dUeXBlOwogICAgICBvcHQudmFsdWUg");
    sb.append("PSBjaDsKICAgICAgc2VsZWN0b3IuYXBwZW5kKG9wdCk7CiAgICAgIHNlbGVjdG9yLm9uY2hhbmdlID0g");
    sb.append("ZnVuY3Rpb24oKSB7CiAgICAgICAgY2hvb3NlKHNlbGVjdG9yLnZhbHVlKTsKICAgICAgfTsKICAgIH0K");
    sb.append("CiAgICBpZiAoZmlyc3QgIT0gbnVsbCkgewogICAgICBjaG9vc2UoZmlyc3QpOwogICAgfQogIH07Cgog");
    sb.append("IHZhciByZW5kZXIgPSBmdW5jdGlvbihuYW1lKSB7CiAgICB2YXIgY28gPSBjb25uZWN0aW9uc1tuYW1l");
    sb.append("XTsKICAgIGlmIChjby5yZW5kZXJlZCA9PSBjby5ib3VuZCkgewogICAgICByZXR1cm47CiAgICB9CiAg");
    sb.append("ICBjby5yZW5kZXJlZCA9IGNvLmJvdW5kOwogICAgY28uZGVidWdfdHJlZS5udWtlKCk7CiAgICBudWtl");
    sb.append("KHZpZXdKc29uKTsKICAgIG51a2Uodmlld0NoYW5uZWxzKTsKCiAgICB2YXIgaGFuZGxlciA9IHsKICAg");
    sb.append("ICAgc3VjY2VzczogZnVuY3Rpb24gKHBheWxvYWQpIHsKICAgICAgICAvLyBoYW5kbGUgdGhlIGRhdGEg");
    sb.append("aW5zcGVjdG9yIHRhYgogICAgICAgIHZhciByZWZsZWN0aW9uID0gcGF5bG9hZC5yZWZsZWN0aW9uOwog");
    sb.append("ICAgICAgIHZhciByZXN1bHQgPSBjb252ZXJ0VHlwZVRvRG9tRGVsdGEocmVmbGVjdGlvbi50eXBlc1si");
    sb.append("X19Sb290Il0sIHJlZmxlY3Rpb24udHlwZXMpOwogICAgICAgIHZpZXdKc29uLmFwcGVuZChyZXN1bHQu");
    sb.append("ZG9tKTsKICAgICAgICBjby5kZWJ1Z190cmVlLnN1YnNjcmliZShyZXN1bHQudXBkYXRlKTsKICAgICAg");
    sb.append("ICAvLyBoYW5kbGUgdGhlIGNoYW5uZWxzIHRhYgogICAgICAgIG1ha2VDaGFubmVsRGVidWdnZXIocmVm");
    sb.append("bGVjdGlvbi5jaGFubmVscywgcmVmbGVjdGlvbi50eXBlcywgY28ucHRyKTsKICAgICAgfSwKICAgICAg");
    sb.append("ZmFpbHVyZTogZnVuY3Rpb24ocmVhc29uKSB7CiAgICAgICAgdmlld0pzb24uaW5uZXJIVE1MID0gIltG");
    sb.append("QUlMRUQgVE8gR0VUIFNDSEVNQToiICsgcmVhc29uICsgIl0iOwogICAgICAgIHZpZXdDaGFubmVscy5p");
    sb.append("bm5lckhUTUwgPSAiW0ZBSUxFRCBUTyBHRVQgU0NIRU1BOiIgKyByZWFzb24gKyAiXSI7CiAgICAgIH0K");
    sb.append("ICAgIH07CiAgICBpZiAoY28udmlhX2RvbWFpbikgewogICAgICBjby5yYXcuRG9tYWluUmVmbGVjdChj");
    sb.append("by5pZGVudGl0eSwgY28uZG9tYWluLCBoYW5kbGVyKTsKICAgIH0gZWxzZSB7CiAgICAgIGNvLnJhdy5T");
    sb.append("cGFjZVJlZmxlY3QoY28uaWRlbnRpdHksIGNvLnNwYWNlLCBjby5rZXksIGhhbmRsZXIpOwogICAgfQog");
    sb.append("IH07CgogIHZhciBjb25uZWN0aW9uU2VsZWN0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzZWxl");
    sb.append("Y3QiKTsKICBjb25uZWN0aW9uU2VsZWN0b3Iuc3R5bGUgPSAiYmFja2dyb3VuZDogIzMzMzsgY29sb3I6");
    sb.append("ICNmZmYiOwogIHZhciBzd2l0Y2hfdG9fY29ubmVjdGlvbiA9IGZ1bmN0aW9uKG5hbWUpIHsKICAgIGN1");
    sb.append("cnJlbnQgPSBuYW1lOwogICAgbnVrZSh2aWV3Q2hhbm5lbHMpOwogICAgbnVrZSh2aWV3SnNvbik7CiAg");
    sb.append("ICBjb25uZWN0aW9uc1tuYW1lXS5yZW5kZXJlZCA9ICIiOwogICAgcmVuZGVyKG5hbWUpOwogIH07CiAg");
    sb.append("Y29ubmVjdGlvblNlbGVjdG9yLm9uY2hhbmdlID0gZnVuY3Rpb24oKSB7CiAgICBzd2l0Y2hfdG9fY29u");
    sb.append("bmVjdGlvbihjb25uZWN0aW9uU2VsZWN0b3IudmFsdWUpOwogIH07CiAgdmFyIHJlZnJlc2hfc2VsZWN0");
    sb.append("ID0gZnVuY3Rpb24oKSB7CiAgICBudWtlKGNvbm5lY3Rpb25TZWxlY3Rvcik7CiAgICBmb3IgKHZhciBu");
    sb.append("YW1lIGluIGNvbm5lY3Rpb25zKSB7CiAgICAgIHZhciBvcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50");
    sb.append("KCJvcHRpb24iKTsKICAgICAgb3B0LnZhbHVlID0gbmFtZTsKICAgICAgb3B0LmlubmVyVGV4dCA9IG5h");
    sb.append("bWU7CiAgICAgIGNvbm5lY3Rpb25TZWxlY3Rvci5hcHBlbmRDaGlsZChvcHQpOwogICAgICBpZiAoY3Vy");
    sb.append("cmVudCA9PSBudWxsKSB7CiAgICAgICAgc3dpdGNoX3RvX2Nvbm5lY3Rpb24obmFtZSk7CiAgICAgICAg");
    sb.append("Y29ubmVjdGlvblNlbGVjdG9yLnZhbHVlID0gbmFtZTsKICAgICAgfQogICAgfQogIH07CgogIHNlbGYu");
    sb.append("dG9nZ2xlID0gZnVuY3Rpb24oKSB7CiAgICBpZiAoc2VsZi5zaG93bikgewogICAgICB0cnkgewogICAg");
    sb.append("ICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoc2VsZi5yb290KTsKICAgICAgfSBjYXRjaCAobm90");
    sb.append("cHJlc2VudCkgewogICAgICAgIHNlbGYuc2hvd24gPSAhc2VsZi5zaG93bjsKICAgICAgICBkb2N1bWVu");
    sb.append("dC5ib2R5LmFwcGVuZChzZWxmLnJvb3QpOwogICAgICB9CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAg");
    sb.append("IHNlbGYucm9vdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICBkZWJ1Z2dlclBv");
    sb.append("c2l0aW9uID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIkFkYW1hRGVidWdnZXJQb3NpdGlvbiIpOwogICAg");
    sb.append("ICBpZiAoIWRlYnVnZ2VyUG9zaXRpb24gfHwgZGVidWdnZXJQb3NpdGlvbiA9PSAiIikgewogICAgICAg");
    sb.append("IGRlYnVnZ2VyUG9zaXRpb24gPSAidG9wOjBweDsgbGVmdDowcHg7d2lkdGg6ODAwcHg7aGVpZ2h0OjYw");
    sb.append("MHB4IjsKICAgICAgfQogICAgICBzZWxmLnJvb3Quc3R5bGUgPSAicG9zaXRpb246YWJzb2x1dGU7IiAr");
    sb.append("IGRlYnVnZ2VyUG9zaXRpb24gKyAiO2JhY2tncm91bmQ6ICMwMDA7Ym9yZGVyOjFweCBzb2xpZCByZWQ7");
    sb.append("ei1pbmRleDoxMDAwOyBvdmVyZmxvdzpzY3JvbGwiOwogICAgICB2YXIgdGl0bGVCYXIgPSBkb2N1bWVu");
    sb.append("dC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgdGl0bGVCYXIuaW5uZXJIVE1MID0gIkFkYW1hIERl");
    sb.append("YnVnZ2VyIjsKICAgICAgdGl0bGVCYXIuc3R5bGUgPSAiYmFja2dyb3VuZDogIzIyMjsgY29sb3I6ICMw");
    sb.append("ZjA7IGN1cnNvcjptb3ZlOyB3aWR0aDoxMDAlOyBmb250LXZhcmlhbnQ6IHNtYWxsLWNhcHM7IHBhZGRp");
    sb.append("bmc6MnB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IjsKICAgICAgdGl0bGVCYXIub25tb3VzZWRvd24gPSBm");
    sb.append("dW5jdGlvbihldikgewogICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgdmFyIHJlY3Qg");
    sb.append("PSBzZWxmLnJvb3QuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgdmFyIHN0YXJ0ID0ge3g6");
    sb.append("IGV2LmNsaWVudFgsIHk6IGV2LmNsaWVudFl9OwogICAgICAgIHZhciB1cGRhdGUgPSBmdW5jdGlvbihu");
    sb.append("eCkgewogICAgICAgICAgc2VsZi5yb290LnN0eWxlLmxlZnQgPSAocmVjdC5sZWZ0ICsgbnguY2xpZW50");
    sb.append("WCAtIHN0YXJ0LngpICsgInB4IjsKICAgICAgICAgIHNlbGYucm9vdC5zdHlsZS50b3AgPSAocmVjdC50");
    sb.append("b3AgKyBueC5jbGllbnRZIC0gc3RhcnQueSkgKyAicHgiOwogICAgICAgIH07CiAgICAgICAgd2luZG93");
    sb.append("Lm9ubW91c2Vtb3ZlID0gZnVuY3Rpb24obngpIHsKICAgICAgICAgIHVwZGF0ZShueCk7CiAgICAgICAg");
    sb.append("ICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiQWRhbWFEZWJ1Z2dlclBvc2l0aW9uIiwgInRvcDoiK3NlbGYu");
    sb.append("cm9vdC5zdHlsZS50b3ArIjsgbGVmdDoiK3NlbGYucm9vdC5zdHlsZS5sZWZ0KyI7d2lkdGg6ODAwcHg7");
    sb.append("aGVpZ2h0OjYwMHB4Iik7CiAgICAgICAgfTsKICAgICAgICB3aW5kb3cub25tb3VzZXVwID0gZnVuY3Rp");
    sb.append("b24obngpIHsKICAgICAgICAgIHVwZGF0ZShueCk7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRl");
    sb.append("bSgiQWRhbWFEZWJ1Z2dlclBvc2l0aW9uIiwgInRvcDoiK3NlbGYucm9vdC5zdHlsZS50b3ArIjsgbGVm");
    sb.append("dDoiK3NlbGYucm9vdC5zdHlsZS5sZWZ0KyI7d2lkdGg6ODAwcHg7aGVpZ2h0OjYwMHB4Iik7CiAgICAg");
    sb.append("ICAgICB3aW5kb3cub25tb3VzZW1vdmUgPSBmdW5jdGlvbigpIHt9OwogICAgICAgICAgd2luZG93Lm9u");
    sb.append("bW91c2V1cCA9IGZ1bmN0aW9uKCkge307CiAgICAgICAgfTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAg");
    sb.append("ICAgIH0KICAgICAgc2VsZi5yb290LmFwcGVuZENoaWxkKHRpdGxlQmFyKTsKICAgICAgc2VsZi5yb290");
    sb.append("LmFwcGVuZENoaWxkKGNvbm5lY3Rpb25TZWxlY3Rvcik7CiAgICAgIHNlbGYucm9vdC5hcHBlbmRDaGls");
    sb.append("ZCh2aWV3SnNvbik7CiAgICAgIHNlbGYucm9vdC5hcHBlbmRDaGlsZCh2aWV3Q2hhbm5lbHMpOwogICAg");
    sb.append("ICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNlbGYucm9vdCk7CiAgICB9CiAgICBzZWxmLnNob3du");
    sb.append("ID0gIXNlbGYuc2hvd247CiAgfTsKCiAgc2VsZi5yZWdpc3RlciA9IGZ1bmN0aW9uKGNvbm5lY3Rpb24p");
    sb.append("IHsKICAgIGNvbm5lY3Rpb25zW2Nvbm5lY3Rpb24ubmFtZV0gPSBjb25uZWN0aW9uOwogICAgY29ubmVj");
    sb.append("dGlvbi5kZWJ1Z190cmVlID0gbmV3IEFkYW1hVHJlZSgpOwogICAgY29ubmVjdGlvbi5kZWJ1Z2dpbmcg");
    sb.append("PSAiPyI7CiAgICByZWZyZXNoX3NlbGVjdCgpOwogICAgcmV0dXJuIGZ1bmN0aW9uKHBheWxvYWQpIHsK");
    sb.append("ICAgICAgaWYgKGNvbm5lY3Rpb24uYm91bmQgIT0gY29ubmVjdGlvbi5kZWJ1Z2dpbmcgJiYgY3VycmVu");
    sb.append("dCA9PSBjb25uZWN0aW9uLm5hbWUpIHsKICAgICAgICByZW5kZXIoY29ubmVjdGlvbi5uYW1lKTsKICAg");
    sb.append("ICAgfQogICAgICBpZiAoImRhdGEiIGluIHBheWxvYWQuZGVsdGEpIHsKICAgICAgICBjb25uZWN0aW9u");
    sb.append("LmRlYnVnX3RyZWUudXBkYXRlKHBheWxvYWQuZGVsdGEuZGF0YSk7CiAgICAgIH0KICAgICAgLyoKICAg");
    sb.append("ICAgaWYgKCJvdXRzdGFuZGluZyIgaW4gcGF5bG9hZC5kZWx0YSkgewovLyAgICAgICAgY28ub25kZWNp");
    sb.append("ZGUocGF5bG9hZC5kZWx0YS5vdXRzdGFuZGluZyk7CiAgICAgIH0KICAgICAgaWYgKCd2aWV3c3RhdGUn");
    sb.append("IGluIHBheWxvYWQuZGVsdGEpIHsKLy8gICAgICAgIHN0YXRlLnZpZXcudHJlZS51cGRhdGUocGF5bG9h");
    sb.append("ZC5kZWx0YS52aWV3c3RhdGUpOwogICAgICB9CiAgICAgIGlmICgnZ290bycgaW4gcGF5bG9hZC5kZWx0");
    sb.append("YSkgewovLyAgICAgICAgc2VsZi5nb3RvKHBheWxvYWQuZGVsdGEuZ290byk7CiAgICAgIH0KICAgICAg");
    sb.append("Ki8KICAgIH0KICB9OwogIHJldHVybiBzZWxmOwp9KSgpOw==");
    return sb.toString();
  }
  public static final String RXHTML = new String(Base64.getDecoder().decode(make_rxhtml()), StandardCharsets.UTF_8);
  private static String make_rxhtml() {
    StringBuilder sb = new StringBuilder();
    sb.append("dmFyIFJ4SFRNTCA9IChmdW5jdGlvbiAoKSB7CiAgdmFyIHNlbGYgPSB7fTsKCiAgdmFyIHRlbXBsYXRl");
    sb.append("cyA9IHt9OwogIHZhciByb3V0ZXIgPSB7fTsKICAvLyBUaGlzIHN0cmFuZ2UgZXNjYXBpbmcgaXMgZm9y");
    sb.append("IGRldmVsb3BlciBtb2RlIHRvIHByb3h5IHRvIGxvY2FsaG9zdC4KICB2YXIgY29ubmVjdGlvbiA9IG5l");
    sb.append("dyBBZGFtYS5Db25uZWN0aW9uKC8qRU5EUE9JTlQ9WyovQWRhbWEuUHJvZHVjdGlvbi8qXSovKTsKICB2");
    sb.append("YXIgY29ubmVjdGlvbnMgPSB7fTsKCiAgdmFyIGNvbm5lY3Rpb25Nb25pdG9yRG9tID0gZG9jdW1lbnQu");
    sb.append("Y3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgY29ubmVjdGlvbi5vbnN0YXR1c2NoYW5nZSA9IGZ1bmN0aW9u");
    sb.append("IChzdGF0dXMpIHsKICAgIHZhciBpY29uID0gZnVuY3Rpb24gKGNvbG9yKSB7IHJldHVybiAiPHN2ZyB4");
    sb.append("bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwi");
    sb.append("MCAwIDI0IDI0XCIgc3Ryb2tlLXdpZHRoPVwiMS41XCIgc3Ryb2tlPVwiIiArIGNvbG9yICsgIlwiIHN0");
    sb.append("eWxlPVwid2lkdGg6MTZweDsgaGVpZ2h0OjE2cHhcIj48cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5k");
    sb.append("XCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBkPVwiTTguMjg4IDE1LjAzOGE1LjI1IDUuMjUgMCAw");
    sb.append("MTcuNDI0IDBNNS4xMDYgMTEuODU2YzMuODA3LTMuODA4IDkuOTgtMy44MDggMTMuNzg4IDBNMS45MjQg");
    sb.append("OC42NzRjNS41NjUtNS41NjUgMTQuNTg3LTUuNTY1IDIwLjE1MiAwTTEyLjUzIDE4LjIybC0uNTMuNTMt");
    sb.append("LjUzLS41M2EuNzUuNzUgMCAwMTEuMDYgMHpcIiAvPjwvc3ZnPlxuIjsgfTsKICAgIGlmICghc3RhdHVz");
    sb.append("KSB7CiAgICAgIGNvbm5lY3Rpb25Nb25pdG9yRG9tLnRpdGxlID0gImRpc2Nvbm5lY3RlZCI7CiAgICAg");
    sb.append("IGNvbm5lY3Rpb25Nb25pdG9yRG9tLmlubmVySFRNTCA9IGljb24oInJlZCIpOwogICAgICBjb25uZWN0");
    sb.append("aW9uLm9ucGluZyA9IGZ1bmN0aW9uIChfMSwgXzIpIHsgfTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbm5l");
    sb.append("Y3Rpb24ub25waW5nID0gZnVuY3Rpb24gKF8sIGxhdGVuY3kpIHsKICAgICAgICBjb25uZWN0aW9uTW9u");
    sb.append("aXRvckRvbS50aXRsZSA9ICJjb25uZWN0ZWQ7IGxhdGVuY3k9IiArIGxhdGVuY3kgKyAibXMiOwogICAg");
    sb.append("ICAgIGlmIChsYXRlbmN5ID49IDEwMCkgewogICAgICAgICAgY29ubmVjdGlvbk1vbml0b3JEb20uaW5u");
    sb.append("ZXJIVE1MID0gaWNvbigib3JhbmdlIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbm5lY3Rp");
    sb.append("b25Nb25pdG9yRG9tLmlubmVySFRNTCA9IGljb24oImdyZWVuIik7CiAgICAgICAgfQogICAgICB9Owog");
    sb.append("ICAgfQogIH07CiAgY29ubmVjdGlvbk1vbml0b3JEb20uc3R5bGUgPSAicG9zaXRpb246Zml4ZWQ7IGJv");
    sb.append("dHRvbTowcHg7IHJpZ2h0OjBweCI7CiAgaWYgKEFkYW1hLkRlYnVnZ2VyKSB7CiAgICBjb25uZWN0aW9u");
    sb.append("TW9uaXRvckRvbS5vbmNsaWNrID0gQWRhbWEuRGVidWdnZXIudG9nZ2xlOwogIH0KICBjb25uZWN0aW9u");
    sb.append("LnN0YXJ0KCk7CgogIHZhciByb290UmVwbGFjZSA9ICIvIjsKICB2YXIgZml4UGF0aCA9IGZ1bmN0aW9u");
    sb.append("IChwYXRoKSB7CiAgICByZXR1cm4gcGF0aDsKICB9OwogIGlmICh3aW5kb3cubG9jYXRpb24uaG9zdG5h");
    sb.append("bWUuZW5kc1dpdGgoIi5hZGFtYS1wbGF0Zm9ybS5jb20iKSAmJiAhd2luZG93LmxvY2F0aW9uLmhvc3Ru");
    sb.append("YW1lLmVuZHNXaXRoKCJpZGUuYWRhbWEtcGxhdGZvcm0uY29tIikpIHsKICAgIHZhciBwYXJ0cyA9IHdp");
    sb.append("bmRvdy5sb2NhdGlvbi5wYXRobmFtZS5zcGxpdCgiLyIpOwogICAgcm9vdFJlcGxhY2UgPSBbcGFydHNb");
    sb.append("MF0sIHBhcnRzWzFdLCBwYXJ0c1syXSwgIiJdLmpvaW4oIi8iKTsKICAgIHZhciBvZmZzZXQgPSBwYXJ0");
    sb.append("c1swXS5sZW5ndGggKyBwYXJ0c1sxXS5sZW5ndGggKyBwYXJ0c1syXS5sZW5ndGggKyAyOwogICAgZml4");
    sb.append("UGF0aCA9IGZ1bmN0aW9uIChwYXRoKSB7CiAgICAgIHJldHVybiBwYXRoLnN1YnN0cmluZyhvZmZzZXQp");
    sb.append("OwogICAgfTsKICB9CgogIHZhciBmaXhIcmVmID0gZnVuY3Rpb24gKGhyZWYpIHsKICAgIGlmICghaHJl");
    sb.append("ZikgewogICAgICByZXR1cm4gIiMiOwogICAgfQogICAgaWYgKGhyZWYuc3RhcnRzV2l0aCgiLyIpKSB7");
    sb.append("CiAgICAgIHJldHVybiByb290UmVwbGFjZSArIGhyZWYuc3Vic3RyaW5nKDEpOwogICAgfQogICAgcmV0");
    sb.append("dXJuIGhyZWY7CiAgfTsKCiAgdmFyIGdldF9jb25uZWN0aW9uX29iaiA9IGZ1bmN0aW9uIChuYW1lKSB7");
    sb.append("CiAgICBpZiAobmFtZSBpbiBjb25uZWN0aW9ucykgewogICAgICByZXR1cm4gY29ubmVjdGlvbnNbbmFt");
    sb.append("ZV07CiAgICB9IGVsc2UgewogICAgICB2YXIgb2JqID0gewogICAgICAgIG5hbWU6IG5hbWUsCiAgICAg");
    sb.append("ICAgcHRyOiBudWxsLAogICAgICAgIHRyZWU6IG5ldyBBZGFtYVRyZWUoKSwKICAgICAgICBvdXRzdGFu");
    sb.append("ZGluZzoge30sCiAgICAgICAgZGVjaXNpb25zOiB7fSwKICAgICAgICBjaG9pY2Vfc3Viczoge30sCiAg");
    sb.append("ICAgICAgcmVzZXRzOiB7fSwKICAgICAgICBjb25uZWN0aW9uX2V2ZW50czoge30sCiAgICAgICAgc3lu");
    sb.append("Y19ldmVudHM6IHt9LAogICAgICAgIGlkOiAwLAogICAgICAgIGNvbm5lY3Rpb25fc3RhdGU6IGZhbHNl");
    sb.append("LAogICAgICAgIGNob2ljZXM6IHt9LAogICAgICAgIGJvdW5kOiAiIiwKICAgICAgICB2aWV3c3RhdGVf");
    sb.append("c2VudDogdHJ1ZSwKICAgICAgICB2aWV3c3RhdGVfY2xvbmU6ICIiLAogICAgICAgIGhhc19maWx0ZXI6");
    sb.append("IGZhbHNlLAogICAgICAgIHN5bmNlZDogZmFsc2UsCiAgICAgICAgZmlsdGVyOiB7fSwKICAgICAgICB2");
    sb.append("c3NlcTogMCwKICAgICAgICBkZWJ1Z2dlcjogZnVuY3Rpb24gKGRlbHRhKSB7IH0sCiAgICAgICAgcmF3");
    sb.append("OiBjb25uZWN0aW9uCiAgICAgIH07CiAgICAgIG9iai5udWtlID0gZnVuY3Rpb24gKCkgewogICAgICAg");
    sb.append("IHRoaXMuY29ubmVjdGlvbl9ldmVudHMgPSB7fTsKICAgICAgICB0aGlzLnN5bmNfZXZlbnRzID0ge307");
    sb.append("CiAgICAgICAgdGhpcy5jaG9pY2Vfc3VicyA9IHt9OwogICAgICB9LmJpbmQob2JqKTsKICAgICAgaWYg");
    sb.append("KEFkYW1hLkRlYnVnZ2VyKSB7CiAgICAgICAgb2JqLmRlYnVnZ2VyID0gQWRhbWEuRGVidWdnZXIucmVn");
    sb.append("aXN0ZXIob2JqKTsKICAgICAgfQogICAgICBvYmouc3luYyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2");
    sb.append("YXIgc3luY2VkID0gdGhpcy5jb25uZWN0aW9uX3N0YXRlICYmIHRoaXMudmlld3N0YXRlX3NlbnQ7CiAg");
    sb.append("ICAgICAgaWYgKHRoaXMuc3luY2VkID09IHN5bmNlZCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAg");
    sb.append("IH0KICAgICAgICB0aGlzLnN5bmNlZCA9IHN5bmNlZDsKICAgICAgICB2YXIgYXhlID0gW107CiAgICAg");
    sb.append("ICAgZm9yICh2YXIgc3ViIGluIG9iai5zeW5jX2V2ZW50cykgewogICAgICAgICAgaWYgKCEob2JqLnN5");
    sb.append("bmNfZXZlbnRzW3N1Yl0oc3luY2VkKSkpIHsKICAgICAgICAgICAgYXhlLnB1c2goc3ViKTsKICAgICAg");
    sb.append("ICAgIH0KICAgICAgICB9CiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBheGUubGVuZ3RoOyBrKysp");
    sb.append("IHsKICAgICAgICAgIGRlbGV0ZSBvYmouc3luY19ldmVudHNbYXhlW2tdXTsKICAgICAgICB9CiAgICAg");
    sb.append("IH0uYmluZChvYmopOwogICAgICBvYmouc3Vic2NyaWJlX3N5bmMgPSBmdW5jdGlvbiAoY2FsbGJhY2sp");
    sb.append("IHsKICAgICAgICB2YXIgcyA9ICItfCIgKyB0aGlzLmlkKys7CiAgICAgICAgdGhpcy5zeW5jX2V2ZW50");
    sb.append("c1tzXSA9IGNhbGxiYWNrOwogICAgICAgIGNhbGxiYWNrKHRoaXMuc3luY2VkKTsKICAgICAgICByZXR1");
    sb.append("cm4gZnVuY3Rpb24gKCkgewogICAgICAgICAgZGVsZXRlIHRoaXMuc3luY19ldmVudHNbc107CiAgICAg");
    sb.append("ICAgfS5iaW5kKHRoaXMpOwogICAgICB9OwogICAgICBvYmouc2V0X2Nvbm5lY3RlZCA9IGZ1bmN0aW9u");
    sb.append("IChjcykgewogICAgICAgIGlmICh0aGlzLmNvbm5lY3Rpb25fc3RhdGUgPT0gY3MpIHsKICAgICAgICAg");
    sb.append("IHJldHVybjsKICAgICAgICB9CiAgICAgICAgdGhpcy5jb25uZWN0aW9uX3N0YXRlID0gY3M7CiAgICAg");
    sb.append("ICAgdmFyIGF4ZSA9IFtdOwogICAgICAgIGZvciAodmFyIHN1YiBpbiBvYmouY29ubmVjdGlvbl9ldmVu");
    sb.append("dHMpIHsKICAgICAgICAgIGlmICghKG9iai5jb25uZWN0aW9uX2V2ZW50c1tzdWJdKGNzKSkpIHsKICAg");
    sb.append("ICAgICAgICAgYXhlLnB1c2goc3ViKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZm9yICh2");
    sb.append("YXIgayA9IDA7IGsgPCBheGUubGVuZ3RoOyBrKyspIHsKICAgICAgICAgIGRlbGV0ZSBvYmouY29ubmVj");
    sb.append("dGlvbl9ldmVudHNbYXhlW2tdXTsKICAgICAgICB9CiAgICAgICAgdGhpcy5zeW5jKCk7CiAgICAgIH0u");
    sb.append("YmluZChvYmopOwogICAgICBvYmouY29ubmVjdGVkID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICAg");
    sb.append("ICAgdmFyIHMgPSAiLXwiICsgdGhpcy5pZCsrOwogICAgICAgIHRoaXMuY29ubmVjdGlvbl9ldmVudHNb");
    sb.append("c10gPSBjYWxsYmFjazsKICAgICAgICBjYWxsYmFjayh0aGlzLmNvbm5lY3Rpb25fc3RhdGUpOwogICAg");
    sb.append("ICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBkZWxldGUgdGhpcy5jb25uZWN0aW9uX2V2");
    sb.append("ZW50c1tzXTsKICAgICAgICB9LmJpbmQodGhpcyk7CiAgICAgIH0uYmluZChvYmopOwogICAgICBvYmou");
    sb.append("c3Vic2NyaWJlX2FueSA9IGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICAgIHZhciBzID0gIi18IiAr");
    sb.append("IHRoaXMuaWQrKzsKICAgICAgICB0aGlzLmRlY2lzaW9uc1tzXSA9IGNhbGxiYWNrOwogICAgICAgIHJl");
    sb.append("dHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBkZWxldGUgdGhpcy5kZWNpc2lvbnNbc107CiAgICAg");
    sb.append("ICAgfS5iaW5kKHRoaXMpOwogICAgICB9LmJpbmQob2JqKTsKICAgICAgb2JqLnN1YnNjcmliZSA9IGZ1");
    sb.append("bmN0aW9uIChjaGFubmVsLCBjYWxsYmFjaykgewogICAgICAgIHZhciBzID0gY2hhbm5lbCArICJ8IiAr");
    sb.append("IHRoaXMuaWQrKzsKICAgICAgICB0aGlzLmRlY2lzaW9uc1tzXSA9IGNhbGxiYWNrOwogICAgICAgIHJl");
    sb.append("dHVybiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICBkZWxldGUgdGhpcy5kZWNpc2lvbnNbc107CiAgICAg");
    sb.append("ICAgfS5iaW5kKHRoaXMpOwogICAgICB9LmJpbmQob2JqKTsKICAgICAgb2JqLnN1YnNjcmliZV9yZXNl");
    sb.append("dCA9IGZ1bmN0aW9uIChjYWxsYmFjaykgewogICAgICAgIHZhciBkciA9ICJyZXNldHwiICsgdGhpcy5p");
    sb.append("ZCsrOwogICAgICAgIHRoaXMucmVzZXRzW2RyXSA9IGNhbGxiYWNrOwogICAgICAgIHJldHVybiBmdW5j");
    sb.append("dGlvbiAoKSB7CiAgICAgICAgICBkZWxldGUgdGhpcy5yZXNldHNbZHJdOwogICAgICAgIH0uYmluZCh0");
    sb.append("aGlzKTsKICAgICAgfS5iaW5kKG9iaik7CiAgICAgIG9iai5zdWJzY3JpYmVfY2hvaWNlID0gZnVuY3Rp");
    sb.append("b24gKGNoYW5uZWwsIGNhbGxiYWNrKSB7CiAgICAgICAgdmFyIHMgPSBjaGFubmVsICsgInwiICsgdGhp");
    sb.append("cy5pZCsrOwogICAgICAgIHRoaXMuY2hvaWNlX3N1YnNbc10gPSBjYWxsYmFjazsKICAgICAgICByZXR1");
    sb.append("cm4gZnVuY3Rpb24gKCkgewogICAgICAgICAgZGVsZXRlIHRoaXMuY2hvaWNlX3N1YnNbc107CiAgICAg");
    sb.append("ICAgfS5iaW5kKHRoaXMpOwogICAgICB9LmJpbmQob2JqKTsKICAgICAgb2JqLm9uY2hvaWNlcyA9IGZ1");
    sb.append("bmN0aW9uIChjaGFubmVsLCBjaG9pY2UpIHsKICAgICAgICB2YXIgYXhlID0gW107CiAgICAgICAgZm9y");
    sb.append("ICh2YXIgc3ViIGluIG9iai5jaG9pY2Vfc3VicykgewogICAgICAgICAgaWYgKHN1Yi5zdGFydHNXaXRo");
    sb.append("KGNoYW5uZWwgKyAifCIpKSB7CiAgICAgICAgICAgIGlmICghb2JqLmNob2ljZV9zdWJzW3N1Yl0oY2hv");
    sb.append("aWNlKSkgewogICAgICAgICAgICAgIGF4ZS5wdXNoKHN1Yik7CiAgICAgICAgICAgIH0KICAgICAgICAg");
    sb.append("IH0KICAgICAgICB9CiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBheGUubGVuZ3RoOyBrKyspIHsK");
    sb.append("ICAgICAgICAgIGRlbGV0ZSBvYmouY2hvaWNlX3N1YnNbYXhlW2tdXTsKICAgICAgICB9CiAgICAgIH07");
    sb.append("CiAgICAgIG9iai5vbmRlY2lkZSA9IGZ1bmN0aW9uIChvdXRzdGFuZGluZykgewogICAgICAgIHZhciBh");
    sb.append("eGVSZXNldCA9IFtdOwogICAgICAgIGZvciAodmFyIGRyIGluIG9iai5yZXNldHMpIHsKICAgICAgICAg");
    sb.append("IHZhciByID0gb2JqLnJlc2V0c1tkcl07CiAgICAgICAgICBpZiAoIShyKCkpKSB7CiAgICAgICAgICAg");
    sb.append("IGF4ZVJlc2V0LnB1c2goZHIpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmb3IgKHZhciBr");
    sb.append("ID0gMDsgayA8IGF4ZVJlc2V0Lmxlbmd0aDsgaysrKSB7CiAgICAgICAgICBkZWxldGUgb2JqLnJlc2V0");
    sb.append("c1theGVSZXNldFtrXV07CiAgICAgICAgfQogICAgICAgIGZvciAodmFyIGNoIGluIG9iai5vdXRzdGFu");
    sb.append("ZGluZykgewogICAgICAgICAgb2JqLm91dHN0YW5kaW5nW2NoXSA9IHsgb3B0aW9uczogW10gfTsKICAg");
    sb.append("ICAgICB9CiAgICAgICAgdmFyIG4gPSBvdXRzdGFuZGluZy5sZW5ndGg7CiAgICAgICAgZm9yICh2YXIg");
    sb.append("ayA9IDA7IGsgPCBuOyBrKyspIHsKICAgICAgICAgIHZhciBvID0gb3V0c3RhbmRpbmdba107CiAgICAg");
    sb.append("ICAgICBvYmoub3V0c3RhbmRpbmdbby5jaGFubmVsXSA9IG87CiAgICAgICAgfQogICAgICAgIGZvciAo");
    sb.append("dmFyIGNoIGluIG9iai5vdXRzdGFuZGluZykgewogICAgICAgICAgdmFyIG91dCA9IG9iai5vdXRzdGFu");
    sb.append("ZGluZ1tjaF07CiAgICAgICAgICB2YXIgYXhlID0gW107CiAgICAgICAgICBmb3IgKHZhciBzdWIgaW4g");
    sb.append("b2JqLmRlY2lzaW9ucykgewogICAgICAgICAgICBpZiAoc3ViLnN0YXJ0c1dpdGgoY2ggKyAifCIpIHx8");
    sb.append("IHN1Yi5zdGFydHNXaXRoKCItfCIpKSB7CiAgICAgICAgICAgICAgaWYgKCFvYmouZGVjaXNpb25zW3N1");
    sb.append("Yl0ob3V0LCBjaCkpIHsKICAgICAgICAgICAgICAgIGF4ZS5wdXNoKHN1Yik7CiAgICAgICAgICAgICAg");
    sb.append("fQogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGF4");
    sb.append("ZS5sZW5ndGg7IGsrKykgewogICAgICAgICAgICBkZWxldGUgb2JqLmRlY2lzaW9uc1theGVba11dOwog");
    sb.append("ICAgICAgICAgfQogICAgICAgIH0KICAgICAgfTsKICAgICAgY29ubmVjdGlvbnNbbmFtZV0gPSBvYmo7");
    sb.append("CiAgICAgIHJldHVybiBvYmo7CiAgICB9CiAgfTsKICBzZWxmLmdldENvbm5lY3Rpb25CeU5hbWUgPSBn");
    sb.append("ZXRfY29ubmVjdGlvbl9vYmo7CgogIHNlbGYubWFrZSA9IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBu");
    sb.append("ZXcgQWRhbWFUcmVlKCk7CiAgfTsKCiAgLy8gSEVMUEVSIHwgc3Vic2NyaWJlIHRoZSBnaXZlbiAnc3Vi");
    sb.append("JyB0byBjaGFuZ2VzIHdpdGhpbiBzdGF0ZSBmb3IgdGhlIGdpdmVuIGZpZWxkIG5hbWVkIG5hbWUKICB2");
    sb.append("YXIgc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN0YXRlLCBuYW1lLCBzdWIpIHsKICAgIHZhciBzcyA9IHNl");
    sb.append("bGYucEkoc3RhdGUsIG5hbWUpOwogICAgdmFyIHMgPSBzc1tzcy5jdXJyZW50XTsKICAgIGlmICgiQGUi");
    sb.append("IGluIHMuZGVsdGEpIHsKICAgICAgcy5kZWx0YVsiQGUiXS5wdXNoKHN1Yik7CiAgICB9IGVsc2Ugewog");
    sb.append("ICAgICBzLmRlbHRhWyJAZSJdID0gW3N1Yl07CiAgICB9CiAgfTsKICBzZWxmLnN1YnNjcmliZSA9IHN1");
    sb.append("YnNjcmliZTsKCiAgLy8gSEVMUEVSIHwgY3JlYXRlIGZyZXNoIHN0YXRlCiAgdmFyIGZyZXNoID0gZnVu");
    sb.append("Y3Rpb24gKHdoZXJlKSB7CiAgICByZXR1cm4gewogICAgICB0cmVlOiBuZXcgQWRhbWFUcmVlKCksCiAg");
    sb.append("ICAgIGRlbHRhOiB7fSwKICAgICAgcGFyZW50OiBudWxsLAogICAgICBwYXRoOiBudWxsLAogICAgICB3");
    sb.append("aGVyZTogd2hlcmUKICAgIH07CiAgfTsKICBzZWxmLmZyZXNoID0gZnJlc2g7CgogIC8vIEhFTFBFUiB8");
    sb.append("IGNyZWF0ZSBhIG5ldyBkZWx0YSBjb3B5IGZyb20gdGhlIGdpdmVuIHNwZWNpZmljIHN0YXRlIChpLmUu");
    sb.append("IGVpdGhlciBkYXRhIG9yIHZpZXcpCiAgdmFyIG5ld19kZWx0YV9jb3B5ID0gZnVuY3Rpb24gKHNzKSB7");
    sb.append("CiAgICBpZiAoc3MgPT0gbnVsbCkgewogICAgICByZXR1cm4gbnVsbDsKICAgIH0KICAgIHZhciBwYXJl");
    sb.append("bnQgPSBudWxsOwogICAgaWYgKHNzLnBhcmVudCAhPSBudWxsKSB7CiAgICAgIHBhcmVudCA9IG5ld19k");
    sb.append("ZWx0YV9jb3B5KHNzLnBhcmVudCk7CiAgICB9CiAgICB2YXIgbmV3X2RlbHRhID0ge307CiAgICBpZiAo");
    sb.append("cGFyZW50ICE9IG51bGwpIHsKICAgICAgcGFyZW50LmRlbHRhW3NzLnBhdGhdID0gbmV3X2RlbHRhOwog");
    sb.append("ICAgfQogICAgcmV0dXJuIHsgdHJlZTogc3MudHJlZSwgcGFyZW50OiBwYXJlbnQsIGRlbHRhOiBuZXdf");
    sb.append("ZGVsdGEsIHBhdGg6IHNzLnBhdGggfTsKICB9OwogIHNlbGYubWFrZURlbHRhQ29weSA9IG5ld19kZWx0");
    sb.append("YV9jb3B5OwoKICAvLyBIRUxQRVIgfCBjb25zdHJ1Y3QgYSBwYXRoIHRvCiAgdmFyIHBhdGhfdG8gPSBm");
    sb.append("dW5jdGlvbiAoc3MsIG9iaikgewogICAgaWYgKHNzLnBhcmVudCAhPSBudWxsKSB7CiAgICAgIHZhciBw");
    sb.append("ZWVsID0ge307CiAgICAgIHBlZWxbc3MucGF0aF0gPSBvYmo7CiAgICAgIHJldHVybiBwYXRoX3RvKHNz");
    sb.append("LnBhcmVudCwgcGVlbCk7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gb2JqOwogICAgfQogIH07CiAg");
    sb.append("c2VsZi5wYXRoVG8gPSBwYXRoX3RvOwoKICAvLyBIRUxQRVIgfCBnZXQgdGhlIHJvb3Qgb2YgdGhlIHNw");
    sb.append("ZWNpZmljIHN0YXRlIChpLmUuIGVpdGhlciB0aGUgZGF0YSdzIHJvb3Qgb3IgdGhlIHZpZXcncyByb290");
    sb.append("KQogIHZhciByb290X29mID0gZnVuY3Rpb24gKHNzKSB7CiAgICB2YXIgeCA9IHNzOwogICAgd2hpbGUg");
    sb.append("KHgucGFyZW50ICE9IG51bGwpIHsKICAgICAgeCA9IHgucGFyZW50OwogICAgfQogICAgcmV0dXJuIHg7");
    sb.append("CiAgfTsKICBzZWxmLnJvb3RPZiA9IHJvb3Rfb2Y7CgogIC8vIEhFTFBFUiB8IHJlbW92ZSBhbGwgdGhl");
    sb.append("IGNoaWxkcmVuIGZyb20gdGhlIGdpdmVuIERPTSBub2RlCiAgdmFyIG51a2UgPSBmdW5jdGlvbiAocGFy");
    sb.append("ZW50KSB7CiAgICB2YXIgbGFzdCA9IHBhcmVudC5sYXN0Q2hpbGQ7CiAgICB3aGlsZSAobGFzdCkgewog");
    sb.append("ICAgICBwYXJlbnQucmVtb3ZlQ2hpbGQobGFzdCk7CiAgICAgIGxhc3QgPSBwYXJlbnQubGFzdENoaWxk");
    sb.append("OwogICAgfQogIH07CiAgc2VsZi5udWtlID0gbnVrZTsKCiAgLy8gSEVMUEVSOiBkZWJvdW5jZSB0aGUg");
    sb.append("Z2l2ZW4gZnVuY3Rpb25hbCB3aGVuIHJhcGlkIGZ1bmN0aW9uIHNwcmVhZCBpcyBleHBlY3RlZAogIHZh");
    sb.append("ciBkZWJvdW5jZSA9IGZ1bmN0aW9uIChtcywgZm9vKSB7CiAgICB2YXIgc3RhdHVzID0geyBpbmZsaWdo");
    sb.append("dDogZmFsc2UsIHRpbWVvdXQ6IG51bGwgfTsKICAgIHN0YXR1cy5pbmZsaWdodCA9IGZhbHNlOwogICAg");
    sb.append("cmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCFzdGF0dXMuaW5mbGlnaHQpIHsKICAgICAgICBz");
    sb.append("dGF0dXMuaW5mbGlnaHQgPSB0cnVlOwogICAgICAgIHN0YXR1cy50aW1lb3V0ID0gd2luZG93LnNldFRp");
    sb.append("bWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgc3RhdHVzLmluZmxpZ2h0ID0gZmFsc2U7CiAgICAg");
    sb.append("ICAgICBzdGF0dXMudGltZW91dCA9IG51bGw7CiAgICAgICAgICBmb28oKTsKICAgICAgICB9LCBtcyAv");
    sb.append("KiBtcyAqLyk7IC8vIGRlYm91bmNlIHRoZSBwYXJhbWV0ZXJzCiAgICAgIH0KICAgIH07CiAgfTsKICBz");
    sb.append("ZWxmLmRlYm91bmNlID0gZGVib3VuY2U7CgogIC8vIEhFTFBFUiB8IHByZXBhcmUgYSBmcmVlIHVuc3Vi");
    sb.append("c2NyaWJlIG9iamVjdAogIHZhciBtYWtlX3Vuc3ViID0gZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIHsK");
    sb.append("ICAgICAgX19kYXRhOiBmdW5jdGlvbiAoKSB7CiAgICAgIH0sIF9fdmlldzogZnVuY3Rpb24gKCkgewog");
    sb.append("ICAgICB9CiAgICB9OwogIH07CgogIC8vIEhFTFBFUiB8IGF1Z21lbnQgYW4gZXhpc3Rpbmcgb2JqZWN0");
    sb.append("IHdpdGggdW5zdWJzY3JpYmUgZGF0YQogIHZhciBhZGRfdW5zdWIgPSBmdW5jdGlvbiAob2JqKSB7CiAg");
    sb.append("ICBvYmouX19kYXRhID0gZnVuY3Rpb24gKCkgewogICAgfTsKICAgIG9iai5fX3ZpZXcgPSBmdW5jdGlv");
    sb.append("biAoKSB7CiAgICB9OwogIH07CgogIC8vIEhFTFBFUiB8IGZpcmUgdGhlIHVuc3Vic2NyaWJlIGNhbGxz");
    sb.append("IHdpdGhpbiBhbiBvYmplY3QKICB2YXIgZmlyZV91bnN1YiA9IGZ1bmN0aW9uICh1bnN1YikgewogICAg");
    sb.append("dW5zdWIuX19kYXRhKCk7CiAgICB1bnN1Yi5fX3ZpZXcoKTsKICB9OwoKICAvLyBIRUxQRVIgfCBzdWJz");
    sb.append("Y3JpYmUgdG8gc3RhdGUgYW5kIHBvcHVsYXRlIHVuc3Vic2NyaWJlIG9iamVjdAogIHZhciBzdWJzY3Jp");
    sb.append("YmVfc3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUsIHVuc3ViKSB7CiAgICBpZiAoc3RhdGUuZGF0YSAhPSBu");
    sb.append("dWxsKSB7CiAgICAgIHVuc3ViLl9fZGF0YSA9IHN0YXRlLmRhdGEudHJlZS5zdWJzY3JpYmUocm9vdF9v");
    sb.append("ZihzdGF0ZS5kYXRhKS5kZWx0YSk7CiAgICB9IGVsc2UgewogICAgICB1bnN1Yi5fX2RhdGEgPSBmdW5j");
    sb.append("dGlvbiAoKSB7CiAgICAgIH07CiAgICB9CiAgICBpZiAoc3RhdGUudmlldyAhPSBudWxsKSB7CiAgICAg");
    sb.append("IHVuc3ViLl9fdmlldyA9IHN0YXRlLnZpZXcudHJlZS5zdWJzY3JpYmUocm9vdF9vZihzdGF0ZS52aWV3");
    sb.append("KS5kZWx0YSk7CiAgICB9IGVsc2UgewogICAgICB1bnN1Yi5fX3ZpZXcgPSBmdW5jdGlvbiAoKSB7CiAg");
    sb.append("ICAgIH07CiAgICB9CiAgfTsKCiAgLy8gUlVOVElNRSB8IFN3aXRjaCB0byB0aGUgdmlldyBvYmplY3QK");
    sb.append("ICBzZWxmLnBWID0gZnVuY3Rpb24gKHN0YXRlKSB7CiAgICByZXR1cm4geyBzZXJ2aWNlOiBzdGF0ZS5z");
    sb.append("ZXJ2aWNlLCBkYXRhOiBzdGF0ZS5kYXRhLCB2aWV3OiBzdGF0ZS52aWV3LCBjdXJyZW50OiAidmlldyIg");
    sb.append("fTsKICB9OwogIHNlbGYubmV3U3RhdGVWaWV3T2YgPSBzZWxmLnBWOwoKICAvLyBSVU5USU1FIHwgU3dp");
    sb.append("dGNoIHRvIHRoZSBkYXRhIG9iamVjdAogIHNlbGYucEQgPSBmdW5jdGlvbiAoc3RhdGUpIHsKICAgIHJl");
    sb.append("dHVybiB7IHNlcnZpY2U6IHN0YXRlLnNlcnZpY2UsIGRhdGE6IHN0YXRlLmRhdGEsIHZpZXc6IHN0YXRl");
    sb.append("LnZpZXcsIGN1cnJlbnQ6ICJkYXRhIiB9OwogIH07CiAgc2VsZi5uZXdTdGF0ZURhdGFPZiA9IHNlbGYu");
    sb.append("cEQ7CgogIC8vIFJVTlRJTUUgfCBTd2l0Y2ggdG8gdGhlIHJvb3Qgb2JqZWN0IC8gKFJvb3QpCiAgc2Vs");
    sb.append("Zi5wUiA9IGZ1bmN0aW9uIChzdGF0ZSkgewogICAgdmFyIG5leHQgPSB7IHNlcnZpY2U6IHN0YXRlLnNl");
    sb.append("cnZpY2UsIGRhdGE6IHN0YXRlLmRhdGEsIHZpZXc6IHN0YXRlLnZpZXcsIGN1cnJlbnQ6IHN0YXRlLmN1");
    sb.append("cnJlbnQgfTsKICAgIHZhciBwcmlvciA9IG5leHRbc3RhdGUuY3VycmVudF07CiAgICB3aGlsZSAocHJp");
    sb.append("b3IgIT0gbnVsbCkgewogICAgICBuZXh0W3N0YXRlLmN1cnJlbnRdID0gcHJpb3I7CiAgICAgIHByaW9y");
    sb.append("ID0gcHJpb3IucGFyZW50OwogICAgfQogICAgcmV0dXJuIG5leHQ7CiAgfTsKICBzZWxmLm5ld1N0YXRl");
    sb.append("Um9vdE9mID0gc2VsZi5wUjsKCiAgLy8gUlVOVElNRSB8IC4uLyAoVXApCiAgc2VsZi5wVSA9IGZ1bmN0");
    sb.append("aW9uIChzdGF0ZSkgewogICAgdmFyIG5leHQgPSB7IHNlcnZpY2U6IHN0YXRlLnNlcnZpY2UsIGRhdGE6");
    sb.append("IHN0YXRlLmRhdGEsIHZpZXc6IHN0YXRlLnZpZXcsIGN1cnJlbnQ6IHN0YXRlLmN1cnJlbnQgfTsKICAg");
    sb.append("IHZhciBwcmlvciA9IG5leHRbc3RhdGUuY3VycmVudF07CiAgICBpZiAocHJpb3IucGFyZW50ICE9IG51");
    sb.append("bGwpIHsKICAgICAgbmV4dFtzdGF0ZS5jdXJyZW50XSA9IHByaW9yOwogICAgfQogICAgcmV0dXJuIG5l");
    sb.append("eHQ7CiAgfTsKICBzZWxmLm5ld1N0YXRlUGFyZW50T2YgPSBzZWxmLnBVOwoKICAvLyBSVU5USU1FIHwg");
    sb.append("ZGl2ZSBvbmUgbGV2ZWwgSW50byBwYXRoMS9wYXRoMi8uLi4uL3BhdGhOCiAgc2VsZi5wSSA9IGZ1bmN0");
    sb.append("aW9uIChzdGF0ZSwgbmFtZSkgewogICAgdmFyIHByaW9yID0gc3RhdGVbc3RhdGUuY3VycmVudF07CiAg");
    sb.append("ICBpZiAoIShuYW1lIGluIHByaW9yLmRlbHRhKSkgewogICAgICBwcmlvci5kZWx0YVtuYW1lXSA9IHt9");
    sb.append("OwogICAgfQogICAgdmFyIG5leHQgPSB7IHNlcnZpY2U6IHN0YXRlLnNlcnZpY2UsIGRhdGE6IHN0YXRl");
    sb.append("LmRhdGEsIHZpZXc6IHN0YXRlLnZpZXcsIGN1cnJlbnQ6IHN0YXRlLmN1cnJlbnQgfTsKICAgIG5leHRb");
    sb.append("c3RhdGUuY3VycmVudF0gPSB7CiAgICAgIHRyZWU6IHByaW9yLnRyZWUsCiAgICAgIGRlbHRhOiBwcmlv");
    sb.append("ci5kZWx0YVtuYW1lXSwKICAgICAgcGFyZW50OiBwcmlvciwKICAgICAgcGF0aDogbmFtZQogICAgfTsK");
    sb.append("ICAgIGlmIChuZXh0LmN1cnJlbnQgPT0gImRhdGEiKSB7CiAgICAgIG5leHQuZGF0YS5jb25uZWN0aW9u");
    sb.append("ID0gcHJpb3IuY29ubmVjdGlvbjsKICAgIH0KICAgIHJldHVybiBuZXh0OwogIH07CiAgc2VsZi5uZXdT");
    sb.append("dGF0ZURpdmVJbnRvID0gc2VsZi5wSTsKCiAgLy8gUlVOVElNRSB8IGV4dGVuZCB0aGUgZ2l2ZW4gc3Rh");
    sb.append("dGUgd2l0aCB0aGUgdmlldyBoYXZpbmcgYSBzZXBhcmF0ZSBjaGlsZAogIHNlbGYucEVWID0gZnVuY3Rp");
    sb.append("b24gKHN0YXRlLCBuYW1lKSB7CiAgICBpZiAoIShuYW1lIGluIHN0YXRlLnZpZXcuZGVsdGEpKSB7CiAg");
    sb.append("ICAgIHN0YXRlLnZpZXcuZGVsdGFbbmFtZV0gPSB7fTsKICAgIH0KICAgIHJldHVybiB7CiAgICAgIHNl");
    sb.append("cnZpY2U6IHN0YXRlLnNlcnZpY2UsCiAgICAgIGRhdGE6IHN0YXRlLmRhdGEsCiAgICAgIHZpZXc6IHsK");
    sb.append("ICAgICAgICB0cmVlOiBzdGF0ZS52aWV3LnRyZWUsCiAgICAgICAgZGVsdGE6IHN0YXRlLnZpZXcuZGVs");
    sb.append("dGFbbmFtZV0sCiAgICAgICAgcGFyZW50OiBzdGF0ZS52aWV3LAogICAgICAgIHBhdGg6IG5hbWUKICAg");
    sb.append("ICAgfSwKICAgICAgY3VycmVudDogc3RhdGUuY3VycmVudAogICAgfTsKICB9OwogIHNlbGYubmV3U3Rh");
    sb.append("dGVDcmVhdGVWaWV3Q2hpbGQgPSBzZWxmLnBFVjsKCiAgc2VsZi5wSUUgPSBmdW5jdGlvbiAoc3RhdGUs");
    sb.append("IG5hbWUsIGV4cGFuZFZpZXcpIHsKICAgIHZhciBuZXh0ID0gc2VsZi5wSShzdGF0ZSwgbmFtZSk7CiAg");
    sb.append("ICBpZiAoZXhwYW5kVmlldykgewogICAgICByZXR1cm4gc2VsZi5wRVYobmV4dCwgbmFtZSk7CiAgICB9");
    sb.append("IGVsc2UgewogICAgICByZXR1cm4gbmV4dDsKICAgIH0KICB9OwoKICB2YXIgZm9yayA9IGZ1bmN0aW9u");
    sb.append("IChwcmlvclN0YXRlKSB7CiAgICB2YXIgc3RhdGUgPSB7CiAgICAgIHNlcnZpY2U6IHByaW9yU3RhdGUu");
    sb.append("c2VydmljZSwKICAgICAgZGF0YTogbmV3X2RlbHRhX2NvcHkocHJpb3JTdGF0ZS5kYXRhKSwKICAgICAg");
    sb.append("dmlldzogbmV3X2RlbHRhX2NvcHkocHJpb3JTdGF0ZS52aWV3KSwKICAgICAgY3VycmVudDogcHJpb3JT");
    sb.append("dGF0ZS5jdXJyZW50CiAgICB9OwogICAgaWYgKHN0YXRlLmRhdGEgIT0gbnVsbCkgewogICAgICBzdGF0");
    sb.append("ZS5kYXRhLmNvbm5lY3Rpb24gPSBwcmlvclN0YXRlLmRhdGEuY29ubmVjdGlvbjsKICAgIH0KICAgIHJl");
    sb.append("dHVybiBzdGF0ZTsKICB9OwoKICAvLyBSVU5USU1FIHwgc3Vic2NyaWJlIGJldHdlZW4gdGhlIHN0YXRl");
    sb.append("IGFuZCB0aGUgb2JqZWN0LgogIC8vIFdoZW4gdGhlIG1lbWJlciBmaWVsZCB3aXRoaW4gc3RhdGUgb2Yg");
    sb.append("bmFtZSBjaGFuZ2VzLCBjb3B5IHRoYXQgdmFsdWUgaW50byB0aGUgb2JqIGFuZCBydW4gcmVjb21wdXRl");
    sb.append("KCkKICBzZWxmLlkgPSBmdW5jdGlvbiAoc3RhdGUsIG9iaiwgbmFtZSwgcmVjb21wdXRlKSB7CiAgICB2");
    sb.append("YXIgc3ViID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIG9ialtuYW1lXSA9IHZhbHVlOwogICAgICBy");
    sb.append("ZWNvbXB1dGUoKTsKICAgIH07CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5hbWUsIHN1Yik7CiAgfTsKCiAg");
    sb.append("c2VsZi5ZMiA9IGZ1bmN0aW9uIChzdGF0ZSwgciwga2V5LCBuYW1lLCByZWNvbXB1dGUpIHsKICAgIHZh");
    sb.append("ciBzdWIgPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgdmFyIG9iaiA9IHIuX1trZXldOwogICAgICBv");
    sb.append("YmpbbmFtZV0gPSB2YWx1ZTsKICAgICAgcmVjb21wdXRlKG9iaik7CiAgICAgIHJldHVybiB0cnVlOwog");
    sb.append("ICAgfTsKICAgIHN1YnNjcmliZShzdGF0ZSwgbmFtZSwgc3ViKTsKICB9OwoKICAvLyBSVU5USU1FOiBi");
    sb.append("dWlsZCBhbiByeG9iagogIHNlbGYuUlggPSBmdW5jdGlvbiAodmFycykgewogICAgdmFyIG8gPSB7fTsK");
    sb.append("ICAgIG8uXyA9IHt9OwogICAgZm9yICh2YXIgayA9IDA7IGsgPCB2YXJzLmxlbmd0aDsgaysrKSB7CiAg");
    sb.append("ICAgIG8uX1t2YXJzW2tdXSA9IHt9OwogICAgfQogICAgby5fXyA9IGZ1bmN0aW9uKCkge307CiAgICBy");
    sb.append("ZXR1cm4gbzsKICB9OwoKICAvLyBSVU5USU1FIHwgSnVzdCBzdWJzY3JpYmVlIHZhbHVlIHRvIHRoZSBv");
    sb.append("YmplY3QgZmllbGQgb2YgbmFtZSAobm8tcmVjb21wdXRlKQogIHNlbGYuWVMgPSBmdW5jdGlvbiAoc3Rh");
    sb.append("dGUsIG9iaiwgbmFtZSkgewogICAgdmFyIHN1YiA9IGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICBvYmpb");
    sb.append("bmFtZV0gPSB2YWx1ZTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9OwogICAgc3Vic2NyaWJlKHN0YXRl");
    sb.append("LCBuYW1lLCBzdWIpOwogIH07CgogIC8vIFJVTlRJTUUgfCAiVGV4dCIKICBzZWxmLlQgPSBmdW5jdGlv");
    sb.append("biAodHgpIHsKICAgIHJldHVybiBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0eCk7CiAgfTsKCiAgLy8g");
    sb.append("Y29udmVydCBhIHZhbHVlIGludG8gYSBib29sZWFuCiAgc2VsZi5CID0gZnVuY3Rpb24odmFsKSB7CiAg");
    sb.append("ICBpZiAodmFsID09PSB0cnVlKSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogICAgcmV0dXJuIHZh");
    sb.append("bCA9PSAidHJ1ZSI7CiAgfTsKCiAgLy8gUlVOVElNRSB8IDx2aWV3LXdyaXRlIG5hbWU9IiIgdmFsdWU9");
    sb.append("IiI+CiAgc2VsZi5WVyA9IGZ1bmN0aW9uKHN0YXRlLCBuYW1lLCByeE9iaikgewogICAgcnhPYmouX18g");
    sb.append("PSBkZWJvdW5jZSg1MCwgZnVuY3Rpb24oKSB7CiAgICAgIHZhciBvYmogPSB7fTsKICAgICAgdmFyIHZh");
    sb.append("bHVlID0gcnhPYmoudmFsdWU7CiAgICAgIGlmICh0eXBlb2YgKHZhbHVlKSA9PSAiZnVuY3Rpb24iKSB7");
    sb.append("CiAgICAgICAgb2JqW25hbWVdID0gdmFsdWUoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBvYmpbbmFt");
    sb.append("ZV0gPSB2YWx1ZTsKICAgICAgfQogICAgICB2YXIgZGVsdGEgPSBwYXRoX3RvKHN0YXRlLnZpZXcsIG9i");
    sb.append("aik7CiAgICAgIHN0YXRlW3N0YXRlLmN1cnJlbnRdLnRyZWUudXBkYXRlKGRlbHRhKTsKICAgIH0pOwog");
    sb.append("IH07CgogIC8vIFJVTlRJTUUgfCA8bG9va3VwIHBhdGg9Li4uPgogIHNlbGYuTCA9IGZ1bmN0aW9uIChz");
    sb.append("dGF0ZSwgbmFtZSkgewogICAgdmFyIGRvbSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKTsKICAg");
    sb.append("IHZhciBzdWIgPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgZG9tLm5vZGVWYWx1ZSA9IHZhbHVlOwog");
    sb.append("ICAgfTsKICAgIHN1YnNjcmliZShzdGF0ZSwgbmFtZSwgc3ViKTsKICAgIHJldHVybiBkb207CiAgfTsK");
    sb.append("CiAgLy8gUlVOVElNRSB8IDxsb29rdXAgcGF0aD0uLi4gdHJhbnNmb3JtPSIkdHJhbnNmb3JtIiAvPgog");
    sb.append("IHNlbGYuTFQgPSBmdW5jdGlvbiAoc3RhdGUsIG5hbWUsIHRyYW5zZm9ybSkgewogICAgdmFyIGRvbSA9");
    sb.append("IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCIiKTsKICAgIHZhciBzdWIgPSBmdW5jdGlvbiAodmFsdWUp");
    sb.append("IHsKICAgICAgaWYgKHZhbHVlICE9IG51bGwpIHsKICAgICAgICBkb20ubm9kZVZhbHVlID0gdHJhbnNm");
    sb.append("b3JtKHZhbHVlKTsKICAgICAgfQogICAgfTsKICAgIHN1YnNjcmliZShzdGF0ZSwgbmFtZSwgc3ViKTsK");
    sb.append("ICAgIHJldHVybiBkb207CiAgfTsKCiAgLy8gUlVOVElNRSB8IDxsb29rdXAgcGF0aD0uLi4gdHJhbnNm");
    sb.append("b3JtPSIkdHJhbnNmb3JtIiAvPgogIHNlbGYuTFRkVCA9IGZ1bmN0aW9uIChzdGF0ZSwgbmFtZSwgdHJh");
    sb.append("bnNmb3JtLCBmcmVxKSB7CiAgICB2YXIgZG9tID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoIiIpOwog");
    sb.append("ICAgLy8gY3JlYXRlIHRoZSBuZXh1cyBvYmplY3QKICAgIHZhciBvYmogPSB7fTsKICAgIG9iai5mcmVx");
    sb.append("ID0gZnJlcTsKICAgIG9iai52YWx1ZSA9ICIiOwoKICAgIC8vIHVwZGF0ZSB3aWxsIGV4ZWN1dGUgdGhl");
    sb.append("IHRyYW5zZm9ybSBvbiB0aGUgdmFsdWUKICAgIG9iai51cGRhdGUgPSBmdW5jdGlvbigpIHsKICAgICAg");
    sb.append("ZG9tLm5vZGVWYWx1ZSA9IHRyYW5zZm9ybSh0aGlzLnZhbHVlKTsKICAgIH0uYmluZChvYmopOwoKICAg");
    sb.append("IC8vIHN1YnNjcmlwdGlvbiB3aWxsIHN5bmMgdGhlIHZhbHVlCiAgICB2YXIgc3ViID0gZnVuY3Rpb24g");
    sb.append("KHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7CiAgICAgICAgdGhpcy52YWx1ZSA9IHZh");
    sb.append("bHVlOwogICAgICAgIHRoaXMudXBkYXRlKCk7CiAgICAgIH0KICAgIH0uYmluZChvYmopOwoKICAgIC8v");
    sb.append("IHJlZnJlc2ggd2lsbCByZS1leGVjdXRlIHRoZSB1cGRhdGUgKGFuZCB0aHVzIHRoZSB0cmFuc2Zvcm0p");
    sb.append("CiAgICBvYmoucmVmcmVzaCA9IGZ1bmN0aW9uKCkgewogICAgICB0aGlzLnVwZGF0ZSgpOwogICAgICBp");
    sb.append("ZiAoZG9jdW1lbnQuYm9keS5jb250YWlucyhkb20pKSB7IC8vIHdpbGwgcnVuIHNvIGxvbmcgYXMgdGhl");
    sb.append("IERPTSBjb250YWlucyB0aGUgbm9kZSB3ZSBtYW5pcHVsYXRlZAogICAgICAgIHdpbmRvdy5zZXRUaW1l");
    sb.append("b3V0KHRoaXMucmVmcmVzaCwgdGhpcy5mcmVxKTsKICAgICAgfQogICAgfS5iaW5kKG9iaik7CiAgICAv");
    sb.append("LyBraWNrIG9mZiB0aGUgYXV0byB0cmFuc2Zvcm0KICAgIHdpbmRvdy5zZXRUaW1lb3V0KG9iai5yZWZy");
    sb.append("ZXNoLCBmcmVxKTsKICAgIHN1YnNjcmliZShzdGF0ZSwgbmFtZSwgc3ViKTsKICAgIHJldHVybiBkb207");
    sb.append("CiAgfTsKCiAgLy8gUlVOVElNRSB8IDx0YWc+CiAgc2VsZi5FID0gZnVuY3Rpb24gKHRhZywgbnMpIHsK");
    sb.append("ICAgIGlmIChucyA9PSB1bmRlZmluZWQgfHwgbnMgPT0gbnVsbCkgewogICAgICByZXR1cm4gZG9jdW1l");
    sb.append("bnQuY3JlYXRlRWxlbWVudCh0YWcpOwogICAgfSBlbHNlIHsKICAgICAgdmFyIHJlc3VsdCA9IGRvY3Vt");
    sb.append("ZW50LmNyZWF0ZUVsZW1lbnROUyhucywgdGFnKTsKICAgICAgcmVzdWx0LnNldEF0dHJpYnV0ZSgieG1s");
    sb.append("bnMiLCBucyk7CiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgfTsKCiAgLy8gUlVOVElNRSB8IDxw");
    sb.append("aWNrIG5hbWU9Li4uPgogIHNlbGYuUCA9IGZ1bmN0aW9uIChwYXJlbnQsIHByaW9yU3RhdGUsIHJ4T2Jq");
    sb.append("LCBjaGlsZE1ha2VyQ29ubmVjdGVkLCBjaGlsZE1ha2VyRGlzY29ubmVjdGVkKSB7CiAgICB2YXIgdW5z");
    sb.append("dWIgPSBtYWtlX3Vuc3ViKCk7CiAgICByeE9iai5fXyA9IGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKCEo");
    sb.append("J25hbWUnIGluIHJ4T2JqKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAodGhpcy5u");
    sb.append("YW1lID09IHJ4T2JqLm5hbWUpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIGNvID0g");
    sb.append("Z2V0X2Nvbm5lY3Rpb25fb2JqKHJ4T2JqLm5hbWUpOwogICAgICB0aGlzLm5hbWUgPSByeE9iai5uYW1l");
    sb.append("OwogICAgICBjby5jb25uZWN0ZWQoZnVuY3Rpb24gKGNzKSB7CiAgICAgICAgbnVrZShwYXJlbnQpOwog");
    sb.append("ICAgICAgIGZpcmVfdW5zdWIodW5zdWIpOwogICAgICAgIHZhciBzdGF0ZSA9IHsKICAgICAgICAgIHNl");
    sb.append("cnZpY2U6IHByaW9yU3RhdGUuc2VydmljZSwKICAgICAgICAgIGRhdGE6IHsgY29ubmVjdGlvbjogY28s");
    sb.append("IHRyZWU6IGNvLnRyZWUsIGRlbHRhOiB7fSwgcGFyZW50OiBudWxsLCBwYXRoOiBudWxsIH0sCiAgICAg");
    sb.append("ICAgICB2aWV3OiBuZXdfZGVsdGFfY29weShwcmlvclN0YXRlLnZpZXcpLAogICAgICAgICAgY3VycmVu");
    sb.append("dDogImRhdGEiCiAgICAgICAgfTsKICAgICAgICBpZiAoY3MpIHsKICAgICAgICAgIGNoaWxkTWFrZXJD");
    sb.append("b25uZWN0ZWQocGFyZW50LCBzdGF0ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNoaWxkTWFr");
    sb.append("ZXJEaXNjb25uZWN0ZWQocGFyZW50LCBzdGF0ZSk7CiAgICAgICAgfQogICAgICAgIHN1YnNjcmliZV9z");
    sb.append("dGF0ZShzdGF0ZSwgdW5zdWIpOwogICAgICAgIC8vIFRPRE86IHJldHVybiBmYWxzZSB0byB1bnN1Ygog");
    sb.append("ICAgICAgIHJldHVybiB0cnVlOwogICAgICB9KTsKICAgIH0uYmluZCh7IG5hbWU6ICIiIH0pOwogIH07");
    sb.append("CgogIC8vIFJVTlRJTUUgfCA8dGVtcGxhdGUgbmFtZT0iLi4uIj4KICBzZWxmLlRQID0gZnVuY3Rpb24g");
    sb.append("KG5hbWUsIGZvbykgewogICAgdGVtcGxhdGVzW25hbWVdID0gZm9vOwogIH07CgogIC8vIFJVTlRJTUUg");
    sb.append("fCA8dGFnIHJ4OnRlbXBsYXRlPSRuYW1lPgogIHNlbGYuVVQgPSBmdW5jdGlvbiAocGFyZW50LCBzdGF0");
    sb.append("ZSwgbmFtZSwgY2hpbGRfbWFrZXIpIHsKICAgIHZhciBmb28gPSB0ZW1wbGF0ZXNbbmFtZV07CiAgICBm");
    sb.append("b28ocGFyZW50LCBzdGF0ZSwgY2hpbGRfbWFrZXIpOwogIH07CgogIC8vIFJVTlRJTUUgfCA8dGFnIHJ4");
    sb.append("OnN3aXRjaD1wYXRoIC4uPgogIHNlbGYuU1cgPSBmdW5jdGlvbiAocGFyZW50LCBwcmlvclN0YXRlLCBu");
    sb.append("YW1lLCBjaGlsZHJlbk1ha2VyKSB7CiAgICB2YXIgc3dzdCA9IHsgcHJpb3I6IG51bGwgfTsKICAgIGFk");
    sb.append("ZF91bnN1Yihzd3N0KTsKICAgIHZhciBzdWIgPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgaWYgKHZh");
    sb.append("bHVlID09IHRoaXMucHJpb3IpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5wcmlv");
    sb.append("ciA9IHZhbHVlOwogICAgICBmaXJlX3Vuc3ViKHRoaXMpOwogICAgICBudWtlKHBhcmVudCk7CiAgICAg");
    sb.append("IHZhciBzdGF0ZSA9IGZvcmsocHJpb3JTdGF0ZSk7CiAgICAgIGNoaWxkcmVuTWFrZXIocGFyZW50LCBz");
    sb.append("dGF0ZSwgIiIgKyB2YWx1ZSk7CiAgICAgIHN1YnNjcmliZV9zdGF0ZShzdGF0ZSwgdGhpcyk7CgogICAg");
    sb.append("fS5iaW5kKHN3c3QpOwogICAgc3Vic2NyaWJlKHByaW9yU3RhdGUsIG5hbWUsIHN1Yik7CiAgfTsKCiAg");
    sb.append("Ly8gUlVOVElNRSB8IDx0YWcgcng6aXRlcmF0ZT1wYXRoIC4uLj4KICBzZWxmLklUID0gZnVuY3Rpb24g");
    sb.append("KHBhcmVudERvbSwgc3RhdGUsIG5hbWUsIGV4cGFuZFZpZXcsIG1ha2VyKSB7CiAgICB2YXIgaXRfc3Rh");
    sb.append("dGUgPSBzZWxmLnBJRShzdGF0ZSwgbmFtZSwgZXhwYW5kVmlldyk7CiAgICB2YXIgZG9tQnlLZXkgPSB7");
    sb.append("fTsKICAgIHZhciB2aWV3VW5TdWJCeUtleSA9IHt9OwogICAgdmFyIGtpbGwgPSBmdW5jdGlvbiAoKSB7");
    sb.append("CiAgICAgIGZvciAodmFyIGtleSBpbiB2aWV3VW5TdWJCeUtleSkgewogICAgICAgIGZpcmVfdW5zdWIo");
    sb.append("dmlld1VuU3ViQnlLZXlba2V5XSk7CiAgICAgICAgZGVsZXRlIHZpZXdVblN1YkJ5S2V5W2tleV07CiAg");
    sb.append("ICAgIH0KICAgICAgZm9yICh2YXIga2V5IGluIGRvbUJ5S2V5KSB7CiAgICAgICAgZGVsZXRlIGRvbUJ5");
    sb.append("S2V5W2tleV07CiAgICAgIH0KICAgIH07CgogICAgdmFyIHN1YiA9IHsKICAgICAgIisiOiBmdW5jdGlv");
    sb.append("biAoa2V5KSB7CiAgICAgICAgdmFyIG5ld19zdGF0ZSA9IGZvcmsoc2VsZi5wSUUoaXRfc3RhdGUsIGtl");
    sb.append("eSwgZXhwYW5kVmlldykpOwogICAgICAgIHZhciB1bnN1YiA9IG1ha2VfdW5zdWIoKTsKICAgICAgICB2");
    sb.append("YXIgZG9tID0gbWFrZXIobmV3X3N0YXRlKTsKICAgICAgICBkb21CeUtleVtrZXldID0gZG9tOwogICAg");
    sb.append("ICAgIHZpZXdVblN1YkJ5S2V5W2tleV0gPSB1bnN1YjsKICAgICAgICBwYXJlbnREb20uYXBwZW5kKGRv");
    sb.append("bSk7CiAgICAgICAgdmFyIGl0ZW1fZGVsdGEgPSBuZXdfc3RhdGUuZGF0YS5kZWx0YTsKICAgICAgICBu");
    sb.append("ZXdfc3RhdGUuZGF0YS5kZWx0YSA9IHt9OwogICAgICAgIHN1YnNjcmliZV9zdGF0ZShuZXdfc3RhdGUs");
    sb.append("IHVuc3ViKTsKICAgICAgICByZXR1cm4gaXRlbV9kZWx0YTsKICAgICAgfSwKICAgICAgIi0iOiBmdW5j");
    sb.append("dGlvbiAoa2V5KSB7CiAgICAgICAgaWYgKGtleSBpbiBkb21CeUtleSkgewogICAgICAgICAgcGFyZW50");
    sb.append("RG9tLnJlbW92ZUNoaWxkKGRvbUJ5S2V5W2tleV0pOwogICAgICAgICAgZGVsZXRlIGRvbUJ5S2V5W2tl");
    sb.append("eV07CiAgICAgICAgfQogICAgICAgIGlmIChrZXkgaW4gdmlld1VuU3ViQnlLZXkpIHsKICAgICAgICAg");
    sb.append("IGZpcmVfdW5zdWIodmlld1VuU3ViQnlLZXlba2V5XSk7CiAgICAgICAgICBkZWxldGUgdmlld1VuU3Vi");
    sb.append("QnlLZXlba2V5XTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgICJ+IjogZnVuY3Rpb24gKG9yZCkgewog");
    sb.append("ICAgICAgIG51a2UocGFyZW50RG9tKTsKICAgICAgICBpZiAob3JkID09IG51bGwpIHsKICAgICAgICAg");
    sb.append("IGtpbGwoKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgZm9yICh2YXIgayA9IDA7");
    sb.append("IGsgPCBvcmQubGVuZ3RoOyBrKyspIHsKICAgICAgICAgIHBhcmVudERvbS5hcHBlbmQoZG9tQnlLZXlb");
    sb.append("b3JkW2tdXSk7CiAgICAgICAgfQogICAgICB9CiAgICB9OwogICAgc3Vic2NyaWJlKHN0YXRlLCBuYW1l");
    sb.append("LCBzdWIpOwogIH07CgogIHZhciBmaW5kID0gZnVuY3Rpb24gKHN0YXRlLCBjaGFubmVsLCBrZXksIHZh");
    sb.append("bHVlKSB7CiAgICBpZiAoY2hhbm5lbCBpbiBzdGF0ZVsiZGF0YSJdLmNvbm5lY3Rpb24ub3V0c3RhbmRp");
    sb.append("bmcpIHsKICAgICAgdmFyIGFyciA9IHN0YXRlWyJkYXRhIl0uY29ubmVjdGlvbi5vdXRzdGFuZGluZ1tj");
    sb.append("aGFubmVsXS5vcHRpb25zOwogICAgICBmb3IgKHZhciBrID0gMDsgayA8IGFyci5sZW5ndGg7IGsrKykg");
    sb.append("ewogICAgICAgIHZhciBzID0gYXJyW2tdOwogICAgICAgIGlmIChrZXkgaW4gcyAmJiBzW2tleV0gPT0g");
    sb.append("dmFsdWUpIHsKICAgICAgICAgIHJldHVybiBzOwogICAgICAgIH0KICAgICAgfQogICAgICByZXR1cm4g");
    sb.append("bnVsbDsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiBudWxsOwogICAgfQogIH07CgogIHZhciBjdXN0");
    sb.append("b21zID0ge307CgogIHNlbGYuUFJDVUFDID0gZnVuY3Rpb24gKG5hbWUsIGZvbykgewogICAgY3VzdG9t");
    sb.append("c1tuYW1lXSA9IGZvbzsKICB9OwoKICBzZWxmLmV4Q0MgPSBmdW5jdGlvbiAoZG9tLCB0eXBlLCBzdGF0");
    sb.append("ZSwgY3VzdG9tQ29tbWFuZE5hbWUpIHsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5j");
    sb.append("dGlvbiAoKSB7CiAgICAgIGlmIChjdXN0b21Db21tYW5kTmFtZSBpbiBjdXN0b21zKSB7CiAgICAgICAg");
    sb.append("Y3VzdG9tc1tjdXN0b21Db21tYW5kTmFtZV0oc3RhdGUsIGRvbSk7CiAgICAgIH0KICAgIH0pOwogIH07");
    sb.append("CgogIC8vIGN1c3RvbSBldmVudCBvbiBmb3Jtczsgcng6c3VjY2Vzcz0iLi4uIgogIHZhciBmaXJlX3N1");
    sb.append("Y2Nlc3MgPSBmdW5jdGlvbiAoZG9tKSB7CiAgICBkb20uZGlzcGF0Y2hFdmVudChuZXcgRXZlbnQoInN1");
    sb.append("Y2Nlc3MiKSk7CiAgfTsKICBzZWxmLmZpcmVfc3VjY2VzcyA9IGZpcmVfc3VjY2VzczsKCiAgLy8gY3Vz");
    sb.append("dG9tIGV2ZW50IG9uIGZvcm1zOyByeDpmYWlsZWQ9Ii4uLiIKICB2YXIgZmlyZV9mYWlsdXJlID0gZnVu");
    sb.append("Y3Rpb24gKGRvbSwgbXNnKSB7CiAgICB2YXIgZSA9IG5ldyBFdmVudCgiZmFpbHVyZSIpOwogICAgZS5t");
    sb.append("ZXNzYWdlID0gbXNnOwogICAgY29uc29sZS5sb2coIkZBSUxVUkU6IiArIG1zZyk7CiAgICBkb20uZGlz");
    sb.append("cGF0Y2hFdmVudChlKTsKICB9OwogIHNlbGYuZmlyZV9mYWlsdXJlID0gZmlyZV9mYWlsdXJlOwoKICBz");
    sb.append("ZWxmLmFDQyA9IGZ1bmN0aW9uIChmb3JtLCBzdGF0ZSwgY3VzdG9tQ29tbWFuZE5hbWUpIHsKICAgIHZh");
    sb.append("ciBzaWduYWwgPSBmdW5jdGlvbiAobXNnKSB7CiAgICAgIGlmIChzaWduYWwgPT0gbnVsbCkgewogICAg");
    sb.append("ICAgIGZpcmVfc3VjY2Vzcyhmb3JtKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBmaXJlX2ZhaWx1cmUo");
    sb.append("Zm9ybSwgbXNnKTsKICAgICAgfQogICAgfTsKICAgIGZvcm0ub25zdWJtaXQgPSBmdW5jdGlvbiAoZXZ0");
    sb.append("KSB7CiAgICAgIGlmIChjdXN0b21Db21tYW5kTmFtZSBpbiBjdXN0b21zKSB7CiAgICAgICAgZXZ0LnBy");
    sb.append("ZXZlbnREZWZhdWx0KCk7CiAgICAgICAgdmFyIG9iaiA9IGdldF9mb3JtKGZvcm0sIGZhbHNlKTsKICAg");
    sb.append("ICAgICBjdXN0b21zW2N1c3RvbUNvbW1hbmROYW1lXShvYmosIHN0YXRlLCBzaWduYWwsIHNlbGYpOwog");
    sb.append("ICAgICAgIGZpcmVfc3VjY2Vzcyhmb3JtKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBmaXJlX2ZhaWx1");
    sb.append("cmUoZm9ybSwgIkZhaWxlZCB0byBmaW5kICciICsgY3VzdG9tQ29tbWFuZE5hbWUgKyAiJyIpOwogICAg");
    sb.append("ICB9CiAgICB9OwogIH07CgogIHZhciBtYWtlX2Nob2ljZV9hcnJheSA9IGZ1bmN0aW9uIChzdGF0ZSwg");
    sb.append("Y2hhbm5lbCkgewogICAgdmFyIGNob2ljZXMgPSBzdGF0ZS5kYXRhLmNvbm5lY3Rpb24uY2hvaWNlczsK");
    sb.append("ICAgIGlmICghKGNoYW5uZWwgaW4gY2hvaWNlcykpIHsKICAgICAgY2hvaWNlc1tjaGFubmVsXSA9IHt9");
    sb.append("OwogICAgfQogICAgdmFyIGNob2ljZSA9IGNob2ljZXNbY2hhbm5lbF07CiAgICB2YXIgYXJyID0gW107");
    sb.append("CiAgICBmb3IgKHZhciBpZCBpbiBjaG9pY2UpIHsKICAgICAgYXJyLnB1c2goY2hvaWNlW2lkXSk7CiAg");
    sb.append("ICB9CiAgICByZXR1cm4gYXJyOwogIH0KCiAgc2VsZi5leEZJTiA9IGZ1bmN0aW9uIChkb20sIHR5cGUs");
    sb.append("IHN0YXRlLCBjaGFubmVsKSB7CiAgICByZWdfZXZlbnQoc3RhdGUsIGRvbSwgdHlwZSwgZnVuY3Rpb24g");
    sb.append("KCkgewogICAgICB2YXIgYXJyID0gbWFrZV9jaG9pY2VfYXJyYXkoc3RhdGUsIGNoYW5uZWwpOwogICAg");
    sb.append("ICB2YXIgY2xlYXIgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgZGVsZXRlIHN0YXRlLmRhdGEuY29ubmVj");
    sb.append("dGlvbi5jaG9pY2VzW2NoYW5uZWxdOwogICAgICAgIHN0YXRlLmRhdGEuY29ubmVjdGlvbi5vbmNob2lj");
    sb.append("ZXMoY2hhbm5lbCwge30pOwogICAgICB9OwogICAgICBzdGF0ZS5kYXRhLmNvbm5lY3Rpb24ucHRyLnNl");
    sb.append("bmQoY2hhbm5lbCwgYXJyLCB7CiAgICAgICAgZmFpbHVyZTogZnVuY3Rpb24gKHJlYXNvbikgewogICAg");
    sb.append("ICAgICAgY2xlYXIoKTsKICAgICAgICAgIGNvbnNvbGUubG9nKCJmYWlsZWQ6IiArIHJlYXNvbik7CiAg");
    sb.append("ICAgICAgfSwKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocGF5bG9hZCkgewogICAgICAgICAgY2xl");
    sb.append("YXIoKTsKICAgICAgICAgIGNvbnNvbGUubG9nKCJTdWNjZXNzfCIgKyBwYXlsb2FkLnNlcSk7CiAgICAg");
    sb.append("ICAgfQogICAgICB9KTsKICAgIH0pOwogIH07CgogIHNlbGYuRklOID0gZnVuY3Rpb24gKHBhcmVudCwg");
    sb.append("cHJpb3JTdGF0ZSwgY2hhbm5lbCwgc2hvdWxkQmUsIF9leHBhbmQsIG1ha2VyVHJ1ZSwgbWFrZXJGYWxz");
    sb.append("ZSkgewogICAgdmFyIGZpbmFsaXplID0gewogICAgICBvd25lcjogcGFyZW50LAogICAgICBzaG93bjog");
    sb.append("ZmFsc2UKICAgIH07CiAgICBhZGRfdW5zdWIoZmluYWxpemUpOwoKICAgIHZhciBjaGFuZ2UgPSBmdW5j");
    sb.append("dGlvbiAoc2hvdykgewogICAgICBmaXJlX3Vuc3ViKGZpbmFsaXplKTsKICAgICAgbnVrZShwYXJlbnQp");
    sb.append("OwogICAgICB2YXIgc3RhdGUgPSBmb3JrKHByaW9yU3RhdGUpOwogICAgICBpZiAoc2hvdyA9PT0gc2hv");
    sb.append("dWxkQmUpIHsKICAgICAgICBtYWtlclRydWUocGFyZW50LCBzdGF0ZSk7CiAgICAgIH0gZWxzZSB7CiAg");
    sb.append("ICAgICAgbWFrZXJGYWxzZShwYXJlbnQsIHN0YXRlKTsKICAgICAgfQogICAgICBzdWJzY3JpYmVfc3Rh");
    sb.append("dGUoc3RhdGUsIGZpbmFsaXplKTsKICAgIH07CgogICAgZmluYWxpemUudXBkYXRlID0gZnVuY3Rpb24g");
    sb.append("KCkgewogICAgICB2YXIgb3V0ID0gcHJpb3JTdGF0ZS5kYXRhLmNvbm5lY3Rpb24ub3V0c3RhbmRpbmdb");
    sb.append("Y2hhbm5lbF07CiAgICAgIGlmICghKG91dCkpIHJldHVybjsKICAgICAgdmFyIGFyciA9IG1ha2VfY2hv");
    sb.append("aWNlX2FycmF5KHByaW9yU3RhdGUsIGNoYW5uZWwpOwogICAgICB2YXIgZXZhbCA9ICgnbWluJyBpbiBv");
    sb.append("dXQgJiYgJ21heCcgaW4gb3V0KSA/IChvdXQubWluIDw9IGFyci5sZW5ndGggJiYgYXJyLmxlbmd0aCA8");
    sb.append("PSBvdXQubWF4KSA6IHRydWU7CiAgICAgIGlmIChmaW5hbGl6ZS5ldmFsICE9IGV2YWwpIHsKICAgICAg");
    sb.append("ICBmaW5hbGl6ZS5ldmFsID0gZXZhbDsKICAgICAgICBjaGFuZ2UoZmluYWxpemUuZXZhbCk7CiAgICAg");
    sb.append("IH0KICAgIH07CgogICAgcHJpb3JTdGF0ZS5kYXRhLmNvbm5lY3Rpb24uc3Vic2NyaWJlX2Nob2ljZShj");
    sb.append("aGFubmVsLCBmdW5jdGlvbiAoKSB7CiAgICAgIGZpbmFsaXplLnVwZGF0ZSgpOwogICAgICAvLyBUT0RP");
    sb.append("OiByZXR1cm4gd2hldGhlciBvciBub3QgdGhpcyBuZWVkcyB0byBiZSBheGVkCiAgICAgIHJldHVybiB0");
    sb.append("cnVlOwogICAgfSk7CiAgfTsKCiAgLy8gY2hvb3NlCiAgc2VsZi5leENIID0gZnVuY3Rpb24gKGRvbSwg");
    sb.append("dHlwZSwgc3RhdGUsIG5hbWUsIGNoYW5uZWwsIGtleSkgewogICAgdmFyIGRlY2lkZSA9IHsgdmFsdWU6");
    sb.append("IG51bGwgfTsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoKSB7CiAgICAg");
    sb.append("IHZhciByZXN1bHQgPSBmaW5kKHN0YXRlLCBjaGFubmVsLCBrZXksIGRlY2lkZS52YWx1ZSk7CiAgICAg");
    sb.append("IGlmIChyZXN1bHQgIT0gbnVsbCkgewogICAgICAgIHZhciBjaG9pY2VzID0gc3RhdGUuZGF0YS5jb25u");
    sb.append("ZWN0aW9uLmNob2ljZXM7CiAgICAgICAgaWYgKCEoY2hhbm5lbCBpbiBjaG9pY2VzKSkgewogICAgICAg");
    sb.append("ICAgY2hvaWNlc1tjaGFubmVsXSA9IHt9OwogICAgICAgIH0KICAgICAgICB2YXIgY2hvaWNlID0gY2hv");
    sb.append("aWNlc1tjaGFubmVsXTsKICAgICAgICB2YXIgdmFsS2V5ID0gcmVzdWx0W2tleV07CiAgICAgICAgaWYg");
    sb.append("KHZhbEtleSBpbiBjaG9pY2UpIHsKICAgICAgICAgIGRlbGV0ZSBjaG9pY2VbdmFsS2V5XTsKICAgICAg");
    sb.append("ICB9IGVsc2UgewogICAgICAgICAgY2hvaWNlW3ZhbEtleV0gPSByZXN1bHQ7CiAgICAgICAgfQogICAg");
    sb.append("ICAgIHN0YXRlLmRhdGEuY29ubmVjdGlvbi5vbmNob2ljZXMoY2hhbm5lbCwgY2hvaWNlKTsKICAgICAg");
    sb.append("fQogICAgfSk7CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5hbWUsIGZ1bmN0aW9uICh2YWx1ZSkgewogICAg");
    sb.append("ICBkZWNpZGUudmFsdWUgPSB2YWx1ZTsKICAgIH0pOwogIH07CgogIHNlbGYuZXhEID0gZnVuY3Rpb24g");
    sb.append("KGRvbSwgdHlwZSwgc3RhdGUsIG5hbWUsIGNoYW5uZWwsIGtleSkgewogICAgdmFyIGRlY2lkZSA9IHsg");
    sb.append("dmFsdWU6IG51bGwgfTsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoKSB7");
    sb.append("CiAgICAgIHZhciByZXN1bHQgPSBmaW5kKHN0YXRlLCBjaGFubmVsLCBrZXksIGRlY2lkZS52YWx1ZSk7");
    sb.append("CiAgICAgIGlmIChyZXN1bHQgIT0gbnVsbCkgewogICAgICAgIGxldCBzdGFydCA9IHBlcmZvcm1hbmNl");
    sb.append("Lm5vdygpOwogICAgICAgIHN0YXRlLmRhdGEuY29ubmVjdGlvbi5wdHIuc2VuZChjaGFubmVsLCByZXN1");
    sb.append("bHQsIHsKICAgICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24pIHsKCiAgICAgICAgICB9LAog");
    sb.append("ICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHBheWxvYWQpIHsKICAgICAgICAgICAgY29uc29sZS5s");
    sb.append("b2coIlN1Y2Nlc3N8IiArIHBheWxvYWQuc2VxICsgIjtsYXRlbmN5PSIgKyAocGVyZm9ybWFuY2Uubm93");
    sb.append("KCkgLSBzdGFydCkpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsKICAgIHN1");
    sb.append("YnNjcmliZShzdGF0ZSwgbmFtZSwgZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIGRlY2lkZS52YWx1ZSA9");
    sb.append("IHZhbHVlOwogICAgfSk7CiAgfTsKCiAgdmFyIHJlZ19ldmVudCA9IGZ1bmN0aW9uIChzdGF0ZSwgZG9t");
    sb.append("LCB0eXBlLCBydW5uYWJsZSkgewogICAgLy8gVE9ETzogY29ubmVjdGVkL2Rpc2Nvbm5lY3RlZCBhcyBz");
    sb.append("cGVjaWFsIGV2ZW50cyB0byBjb25zaWRlcgogICAgaWYgKHR5cGUgPT0gImxvYWQiKSB7CiAgICAgIHdp");
    sb.append("bmRvdy5zZXRUaW1lb3V0KHJ1bm5hYmxlLCAxKTsKICAgICB9IGVsc2UgaWYgKHR5cGUuc3RhcnRzV2l0");
    sb.append("aCgiZGVsYXk6IikpIHsKICAgICAgLy8gZGVsYXkgd2lsbCBydW4gYWZ0ZXIgJGRlbGF5VGltZU1TIElG");
    sb.append("IHRoZSBkb20gZWxlbWVudCBpcyBzdGlsbCB2aXNpYmxlIHRvIHRoZSBkb2N1bWVudAogICAgICB2YXIg");
    sb.append("ZGVsYXlUaW1lTVMgPSBwYXJzZUludCh0eXBlLnN1YnN0cmluZyg2KSk7CiAgICAgIHdpbmRvdy5zZXRU");
    sb.append("aW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgIGlmIChkb2N1bWVudC5ib2R5LmNvbnRhaW5zKGRvbSkp");
    sb.append("IHsKICAgICAgICAgIHJ1bm5hYmxlKCk7CiAgICAgICAgfQogICAgICB9LCBkZWxheVRpbWVNUyk7CiAg");
    sb.append("ICB9IGVsc2UgewogICAgICBkb20uYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBydW5uYWJsZSk7CiAgICB9");
    sb.append("CiAgfQoKICAvLyBSVU5USU1FOiA8dGFnIC4uIHJ4OmV2ZW50PSIuLi4gZmlyZTpjaGFubmVsIC4uLiIg");
    sb.append("Li4uPgogIHNlbGYub25GUiA9IGZ1bmN0aW9uIChzdGF0ZSwgZG9tLCB0eXBlLCBjaGFubmVsKSB7CiAg");
    sb.append("ICByZWdfZXZlbnQoc3RhdGUsIGRvbSwgdHlwZSwgZnVuY3Rpb24gKCkgewogICAgICBzdGF0ZS5kYXRh");
    sb.append("LmNvbm5lY3Rpb24ucHRyLnNlbmQoY2hhbm5lbCwge30sIHsKICAgICAgICBzdWNjZXNzOiBmdW5jdGlv");
    sb.append("biAoKSB7CiAgICAgICAgICBjb25zb2xlLmxvZygiU0VOVCAnIiArIGNoYW5uZWwgKyAiJyIpOwogICAg");
    sb.append("ICAgIH0sCiAgICAgICAgZmFpbHVyZTogZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgY29uc29s");
    sb.append("ZS5sb2coIkZBSUxFRCBUTyBGSVJFICciICsgY2hhbm5lbCArICInIERVRToiICsgcmVhc29uKTsgJycK");
    sb.append("ICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CiAgfQoKICAvLyBSVU5USU1FOiA8dGFnIC4uIHJ4OmV2");
    sb.append("ZW50PSIuLi4gZm9yY2UtYXV0aD1uYW1lLHRva2VuIC4uLiI+CiAgc2VsZi5vbkZPUkNFX0FVVEggPSBm");
    sb.append("dW5jdGlvbiAoZG9tLCB0eXBlLCBpZGVudGl0eU5hbWUsIGlkZW50aXR5KSB7CiAgICByZWdfZXZlbnQo");
    sb.append("bnVsbCwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoKSB7CiAgICAgIGlkZW50aXRpZXNbaWRlbnRpdHlOYW1l");
    sb.append("XSA9IGlkZW50aXR5OwogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaWRlbnRpdHlfIiArIGlkZW50");
    sb.append("aXR5TmFtZSwgaWRlbnRpdHkpOwogICAgfSk7CiAgfTsKCiAgLy8gUlVOVElNRTogPHRhZyAuLiByeDpl");
    sb.append("dmVudD0iLi4uIHNldDpuYW1lPXZhbHVlIC4uLiI+CiAgc2VsZi5vblMgPSBmdW5jdGlvbiAoZG9tLCB0");
    sb.append("eXBlLCBzdGF0ZSwgbmFtZSwgdmFsdWUpIHsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBm");
    sb.append("dW5jdGlvbiAoKSB7CiAgICAgIHZhciBvYmogPSB7fTsKICAgICAgaWYgKHR5cGVvZiAodmFsdWUpID09");
    sb.append("ICJmdW5jdGlvbiIpIHsKICAgICAgICBvYmpbbmFtZV0gPSB2YWx1ZSgpOwogICAgICB9IGVsc2Ugewog");
    sb.append("ICAgICAgIG9ialtuYW1lXSA9IHZhbHVlOwogICAgICB9CiAgICAgIHZhciBkZWx0YSA9IHBhdGhfdG8o");
    sb.append("c3RhdGUudmlldywgb2JqKTsKICAgICAgc3RhdGVbc3RhdGUuY3VycmVudF0udHJlZS51cGRhdGUoZGVs");
    sb.append("dGEpOwogICAgfSk7CiAgfTsKCiAgLy8gUlVOVElNRTogPHRhZyAuLiByeDpldmVudD0iLi4uIHRlOm5h");
    sb.append("bWUgLi4uIj4KICBzZWxmLm9uVE0gPSBmdW5jdGlvbiAoZG9tLCB0eXBlLCBzdGF0ZSwgbmFtZSwgb3gs");
    sb.append("IG95KSB7CiAgICByZWdfZXZlbnQoc3RhdGUsIGRvbSwgdHlwZSwgZnVuY3Rpb24gKGV2ZW50KSB7CiAg");
    sb.append("ICAgIHZhciBvYmogPSB7fTsKICAgICAgb2JqW25hbWVdID0gewogICAgICAgIHg6ZXZlbnQuY2xpZW50");
    sb.append("WCArIHdpbmRvdy5zY3JvbGxYICsgb3gsCiAgICAgICAgeTpldmVudC5jbGllbnRZICsgd2luZG93LnNj");
    sb.append("cm9sbFkgKyBveQogICAgICB9OwogICAgICB2YXIgZGVsdGEgPSBwYXRoX3RvKHN0YXRlLnZpZXcsIG9i");
    sb.append("aik7CiAgICAgIHN0YXRlW3N0YXRlLmN1cnJlbnRdLnRyZWUudXBkYXRlKGRlbHRhKTsKICAgIH0pOwog");
    sb.append("IH07CgogIC8vIFJVTlRJTUU6IDx0YWcgLi4gcng6ZXZlbnQ9Ii4uLiB0ZTpuYW1lIC4uLiI+CiAgc2Vs");
    sb.append("Zi5vblRFID0gZnVuY3Rpb24gKGRvbSwgdHlwZSwgc3RhdGUsIG5hbWUpIHsKICAgIHJlZ19ldmVudChz");
    sb.append("dGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoZXZlbnQpIHsKICAgICAgdmFyIG9iaiA9IHt9OwogICAg");
    sb.append("ICBvYmpbbmFtZV0gPSBldmVudC5tZXNzYWdlOwogICAgICB2YXIgZGVsdGEgPSBwYXRoX3RvKHN0YXRl");
    sb.append("LnZpZXcsIG9iaik7CiAgICAgIHN0YXRlW3N0YXRlLmN1cnJlbnRdLnRyZWUudXBkYXRlKGRlbHRhKTsK");
    sb.append("ICAgIH0pOwogIH07CgogIC8vIFJVTlRJTUU6IDx0YWcgLi4gcng6ZXZlbnQ9Ii4uLiByZXNldCAuLi4i");
    sb.append("PgogIHNlbGYub1JTVCA9IGZ1bmN0aW9uIChkb20sIHR5cGUsIHN0YXRlKSB7CiAgICByZWdfZXZlbnQo");
    sb.append("c3RhdGUsIGRvbSwgdHlwZSwgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIGRvbS5yZXNldCgpOwogICAg");
    sb.append("fSk7CiAgfTsKCiAgLy8gUlVOVElNRTogPHRhZyAuLiByeDpldmVudD0iLi4uIHJlc2V0IC4uLiI+CiAg");
    sb.append("c2VsZi5vU0JNVCA9IGZ1bmN0aW9uIChkb20sIHR5cGUsIHN0YXRlKSB7CiAgICByZWdfZXZlbnQoc3Rh");
    sb.append("dGUsIGRvbSwgdHlwZSwgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgIHZhciBuZXh0ID0gZG9tOwogICAg");
    sb.append("ICB3aGlsZSAobmV4dCAhPSBudWxsKSB7CiAgICAgICAgaWYgKG5leHQudGFnTmFtZS50b1VwcGVyQ2Fz");
    sb.append("ZSgpID09ICJGT1JNIikgewogICAgICAgICAgbmV4dC5vbnN1Ym1pdChuZXcgU3VibWl0RXZlbnQoInN1");
    sb.append("Ym1pdCIpKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgbmV4dCA9IG5leHQucGFy");
    sb.append("ZW50RWxlbWVudDsKICAgICAgfQogICAgfSk7CiAgfTsKCiAgLy8gUlVOVElNRTogPHRhZyAuLiByeDpl");
    sb.append("dmVudD0iLi4uIGdvdG86dXJpIC4uLiI+CiAgc2VsZi5vbkdPID0gZnVuY3Rpb24gKGRvbSwgdHlwZSwg");
    sb.append("c3RhdGUsIHZhbHVlKSB7CiAgICByZWdfZXZlbnQoc3RhdGUsIGRvbSwgdHlwZSwgZnVuY3Rpb24gKCkg");
    sb.append("ewogICAgICB2YXIgdXJpID0gKHR5cGVvZiAodmFsdWUpID09ICJmdW5jdGlvbiIpID8gdmFsdWUoKSA6");
    sb.append("IHZhbHVlOwogICAgICBzZWxmLmdvdG8odXJpKTsKICAgIH0pOwogIH07CgogIC8vIFJVTlRJTUU6IDx0");
    sb.append("YWcgLi4gcng6ZXZlbnQ9Ii4uLiB0b2dnbGU6bmFtZSAuLi4iPgogIHNlbGYub25UID0gZnVuY3Rpb24g");
    sb.append("KGRvbSwgdHlwZSwgc3RhdGUsIG5hbWUpIHsKICAgIHZhciBjYXB0dXJlZCA9IHsgdmFsdWU6IGZhbHNl");
    sb.append("IH07CiAgICByZWdfZXZlbnQoc3RhdGUsIGRvbSwgdHlwZSwgZnVuY3Rpb24gKCkgewogICAgICB2YXIg");
    sb.append("b2JqID0ge307CiAgICAgIG9ialtuYW1lXSA9ICFjYXB0dXJlZC52YWx1ZTsKICAgICAgdmFyIGRlbHRh");
    sb.append("ID0gcGF0aF90byhzdGF0ZS52aWV3LCBvYmopOwogICAgICBzdGF0ZVtzdGF0ZS5jdXJyZW50XS50cmVl");
    sb.append("LnVwZGF0ZShkZWx0YSk7CiAgICB9KTsKICAgIHN1YnNjcmliZShzdGF0ZSwgbmFtZSwgZnVuY3Rpb24g");
    sb.append("KHZhbHVlKSB7CiAgICAgIGNhcHR1cmVkLnZhbHVlID0gdmFsdWUgPT0gdHJ1ZTsKICAgIH0pOwogIH07");
    sb.append("CgogIHZhciBvcmRlcl90b2dnbGUgPSBmdW5jdGlvbihwcmlvciwgdmFsKSB7CgogICAgdmFyIHBhcnRz");
    sb.append("ID0gcHJpb3Iuc3BsaXQoIiwiKTsKICAgIHZhciBwcmVmaXggPSAnJzsKICAgIHZhciBuZXh0ID0gWyIi");
    sb.append("XTsKICAgIGZvciAodmFyIGsgPSAwOyBrIDwgcGFydHMubGVuZ3RoOyBrKyspIHsKICAgICAgaWYgKHBh");
    sb.append("cnRzW2tdID09ICIiKSB7CiAgICAgICAgY29udGludWU7CiAgICAgIH0gZWxzZSBpZiAodmFsID09IHBh");
    sb.append("cnRzW2tdKSB7CiAgICAgICAgcHJlZml4ID0gJy0nOwogICAgICB9IGVsc2UgaWYgKCItIiArIHZhbCA9");
    sb.append("PXBhcnRzW2tdKSB7CiAgICAgICAgcHJlZml4ID0gJyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbmV4");
    sb.append("dC5wdXNoKHBhcnRzW2tdKTsKICAgICAgfQogICAgfQogICAgbmV4dFswXSA9IHByZWZpeCArIHZhbDsK");
    sb.append("ICAgIHJldHVybiBuZXh0LmpvaW4oIiwiKTsKICB9CgogIC8vIFJVTlRJTUU6IDx0YWcgLi4gcng6ZXZl");
    sb.append("bnQ9Ii4uLiBvcmRlci10b2dnbGU6bmFtZT12YWwgLi4uIj4KICBzZWxmLm9uT1QgPSBmdW5jdGlvbiAo");
    sb.append("ZG9tLCB0eXBlLCBzdGF0ZSwgbmFtZSwgdmFsKSB7CiAgICB2YXIgY2FwdHVyZWQgPSB7IHZhbHVlOiAi");
    sb.append("IiB9OwogICAgcmVnX2V2ZW50KHN0YXRlLCBkb20sIHR5cGUsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFy");
    sb.append("IG9iaiA9IHt9OwogICAgICBvYmpbbmFtZV0gPSBvcmRlcl90b2dnbGUoY2FwdHVyZWQudmFsdWUsIHZh");
    sb.append("bCk7CiAgICAgIHZhciBkZWx0YSA9IHBhdGhfdG8oc3RhdGUudmlldywgb2JqKTsKICAgICAgc3RhdGVb");
    sb.append("c3RhdGUuY3VycmVudF0udHJlZS51cGRhdGUoZGVsdGEpOwogICAgfSk7CiAgICBzdWJzY3JpYmUoc3Rh");
    sb.append("dGUsIG5hbWUsIGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICBjYXB0dXJlZC52YWx1ZSA9IHZhbHVlOwog");
    sb.append("ICAgfSk7CiAgfTsKCiAgLy8gUlVOVElNRTogPHRhZyAuLiByeDpldmVudD0iLi4uIGRlbHRhOm5hbWU9");
    sb.append("ZGlmZiIgLi4uIj4KICBzZWxmLm9uRCA9IGZ1bmN0aW9uIChkb20sIHR5cGUsIHN0YXRlLCBuYW1lLCBk");
    sb.append("aWZmKSB7CiAgICB2YXIgY2FwdHVyZWQgPSB7IHZhbHVlOiAwIH07CiAgICByZWdfZXZlbnQoc3RhdGUs");
    sb.append("IGRvbSwgdHlwZSwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgb2JqID0ge307CiAgICAgIG9ialtuYW1l");
    sb.append("XSA9IGNhcHR1cmVkLnZhbHVlICsgZGlmZjsKICAgICAgdmFyIGRlbHRhID0gcGF0aF90byhzdGF0ZS52");
    sb.append("aWV3LCBvYmopOwogICAgICBzdGF0ZVtzdGF0ZS5jdXJyZW50XS50cmVlLnVwZGF0ZShkZWx0YSk7CiAg");
    sb.append("ICB9KTsKICAgIHN1YnNjcmliZShzdGF0ZSwgbmFtZSwgZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIGlm");
    sb.append("ICh0eXBlb2YgKHZhbHVlKSA9PSAibnVtYmVyIikgewogICAgICAgIGNhcHR1cmVkLnZhbHVlID0gdmFs");
    sb.append("dWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIHZhbCA9IHBhcnNlRmxvYXQodmFsdWUpOwogICAg");
    sb.append("ICAgIGlmICghaXNOYU4odmFsKSkgewogICAgICAgICAgY2FwdHVyZWQudmFsdWUgPSB2YWw7CiAgICAg");
    sb.append("ICAgfQogICAgICB9CiAgICB9KTsKICB9OwogIHNlbGYuQ1NFTiA9IGZ1bmN0aW9uIChwYXJlbnQsIHBy");
    sb.append("aW9yU3RhdGUsIGV2YWxTdGF0ZSwgY2hhbm5lbCwga2V5LCBuYW1lLCBzaG91bGRCZSwgX2V4cGFuZCwg");
    sb.append("bWFrZXJUcnVlLCBtYWtlckZhbHNlKSB7CiAgICB2YXIgY2hvc2VuID0gewogICAgICB2YWx1ZTogIiIs");
    sb.append("CiAgICAgIG93bmVyOiBwYXJlbnQsCiAgICAgIHNob3duOiBmYWxzZSwKICAgICAgZXZhbDogbnVsbAog");
    sb.append("ICAgfTsKICAgIGFkZF91bnN1YihjaG9zZW4pOwogICAgdmFyIGNoYW5nZSA9IGZ1bmN0aW9uIChzaG93");
    sb.append("KSB7CiAgICAgIGZpcmVfdW5zdWIoY2hvc2VuKTsKICAgICAgbnVrZShwYXJlbnQpOwogICAgICB2YXIg");
    sb.append("c3RhdGUgPSBmb3JrKHByaW9yU3RhdGUpOwogICAgICBpZiAoc2hvdyA9PT0gc2hvdWxkQmUpIHsKICAg");
    sb.append("ICAgICBtYWtlclRydWUocGFyZW50LCBzdGF0ZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbWFrZXJG");
    sb.append("YWxzZShwYXJlbnQsIHN0YXRlKTsKICAgICAgfQogICAgICBzdWJzY3JpYmVfc3RhdGUoc3RhdGUsIGNo");
    sb.append("b3Nlbik7CiAgICB9OwoKICAgIGNob3Nlbi51cGRhdGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBv");
    sb.append("dXQgPSBwcmlvclN0YXRlLmRhdGEuY29ubmVjdGlvbi5vdXRzdGFuZGluZ1tjaGFubmVsXTsKICAgICAg");
    sb.append("aWYgKCEob3V0KSkgcmV0dXJuOwoKICAgICAgdmFyIGNob2ljZXMgPSBwcmlvclN0YXRlLmRhdGEuY29u");
    sb.append("bmVjdGlvbi5jaG9pY2VzOwogICAgICBpZiAoIShjaGFubmVsIGluIGNob2ljZXMpKSB7CiAgICAgICAg");
    sb.append("Y2hvaWNlc1tjaGFubmVsXSA9IHt9OwogICAgICB9CiAgICAgIHZhciBjaG9pY2UgPSBjaG9pY2VzW2No");
    sb.append("YW5uZWxdOwogICAgICB2YXIgZXZhbCA9IGNob3Nlbi52YWx1ZSBpbiBjaG9pY2U7CiAgICAgIGlmIChj");
    sb.append("aG9zZW4uZXZhbCAhPSBldmFsKSB7CiAgICAgICAgY2hvc2VuLmV2YWwgPSBldmFsOwogICAgICAgIGNo");
    sb.append("YW5nZShjaG9zZW4uZXZhbCk7CiAgICAgIH0KICAgIH07CgogICAgcHJpb3JTdGF0ZS5kYXRhLmNvbm5l");
    sb.append("Y3Rpb24uc3Vic2NyaWJlX2Nob2ljZShjaGFubmVsLCBmdW5jdGlvbiAoKSB7CiAgICAgIGNob3Nlbi51");
    sb.append("cGRhdGUoKTsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9KTsKCiAgICBzdWJzY3JpYmUoZXZhbFN0YXRl");
    sb.append("LCBuYW1lLCBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAgY2hvc2VuLnZhbHVlID0gdmFsdWU7CiAgICAg");
    sb.append("IGNob3Nlbi51cGRhdGUoKTsKICAgIH0pOwogIH07CgogIHNlbGYuREUgPSBmdW5jdGlvbiAocGFyZW50");
    sb.append("LCBwcmlvclN0YXRlLCBldmFsU3RhdGUsIGNoYW5uZWwsIGtleSwgbmFtZSwgc2hvdWxkQmUsIF9leHBh");
    sb.append("bmQsIG1ha2VyVHJ1ZSwgbWFrZXJGYWxzZSkgewogICAgdmFyIGRlY2lkZSA9IHsKICAgICAgdmFsdWU6");
    sb.append("ICIiLAogICAgICBvd25lcjogcGFyZW50LAogICAgICBzaG93bjogZmFsc2UsCiAgICAgIGV2YWw6IG51");
    sb.append("bGwKICAgIH07CiAgICBhZGRfdW5zdWIoZGVjaWRlKTsKICAgIHZhciBjaGFuZ2UgPSBmdW5jdGlvbiAo");
    sb.append("c2hvdykgewogICAgICBmaXJlX3Vuc3ViKGRlY2lkZSk7CiAgICAgIG51a2UocGFyZW50KTsKICAgICAg");
    sb.append("dmFyIHN0YXRlID0gZm9yayhwcmlvclN0YXRlKTsKICAgICAgaWYgKHNob3cgPT09IHNob3VsZEJlKSB7");
    sb.append("CiAgICAgICAgbWFrZXJUcnVlKHBhcmVudCwgc3RhdGUpOwogICAgICB9IGVsc2UgewogICAgICAgIG1h");
    sb.append("a2VyRmFsc2UocGFyZW50LCBzdGF0ZSk7CiAgICAgIH0KICAgICAgc3Vic2NyaWJlX3N0YXRlKHN0YXRl");
    sb.append("LCBkZWNpZGUpOwogICAgfTsKCiAgICBkZWNpZGUudXBkYXRlID0gZnVuY3Rpb24gKCkgewogICAgICB2");
    sb.append("YXIgZXZhbCA9IGZpbmQocHJpb3JTdGF0ZSwgY2hhbm5lbCwga2V5LCBkZWNpZGUudmFsdWUpICE9IG51");
    sb.append("bGw7CiAgICAgIGlmIChkZWNpZGUuZXZhbCAhPSBldmFsKSB7CiAgICAgICAgZGVjaWRlLmV2YWwgPSBl");
    sb.append("dmFsOwogICAgICAgIGNoYW5nZShkZWNpZGUuZXZhbCk7CiAgICAgIH0KICAgIH07CgogICAgcHJpb3JT");
    sb.append("dGF0ZS5kYXRhLmNvbm5lY3Rpb24uc3Vic2NyaWJlKGNoYW5uZWwsIGZ1bmN0aW9uICgpIHsKICAgICAg");
    sb.append("ZGVjaWRlLnVwZGF0ZSgpOwogICAgICAvLyBUT0RPOiByZXR1cm4gd2hldGhlciBvciBub3QgdGhpcyBu");
    sb.append("ZWVkcyB0byBiZSBheGVkCiAgICAgIHJldHVybiB0cnVlOwogICAgfSk7CgogICAgc3Vic2NyaWJlKGV2");
    sb.append("YWxTdGF0ZSwgbmFtZSwgZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIGRlY2lkZS52YWx1ZSA9IHZhbHVl");
    sb.append("OwogICAgICBkZWNpZGUudXBkYXRlKCk7CiAgICB9KTsKICB9OwoKICBzZWxmLklGID0gZnVuY3Rpb24g");
    sb.append("KHBhcmVudCwgcHJpb3JTdGF0ZSwgbmFtZSwgc2hvdWxkQmUsIGV4cGFuZFZpZXcsIG1ha2VyVHJ1ZSwg");
    sb.append("bWFrZXJGYWxzZSkgewogICAgdmFyIHVuc3ViID0gbWFrZV91bnN1YigpOwogICAgdmFyIHNldCA9IGZ1");
    sb.append("bmN0aW9uICh2YWx1ZSkgewogICAgICB2YXIgc2hvdyA9ICh2YWx1ZSA/IHRydWUgOiBmYWxzZSkgPT09");
    sb.append("IHNob3VsZEJlOwogICAgICBpZiAodGhpcy5zaG93biA9PSBzaG93KSB7CiAgICAgICAgcmV0dXJuOwog");
    sb.append("ICAgICB9CiAgICAgIHRoaXMuc2hvd24gPSBzaG93OwogICAgICBudWtlKHBhcmVudCk7CiAgICAgIGZp");
    sb.append("cmVfdW5zdWIodW5zdWIpOwogICAgICB2YXIgc3RhdGUgPSBmb3JrKHByaW9yU3RhdGUpOwogICAgICB2");
    sb.append("YXIgbmV4dCA9IHN0YXRlOwogICAgICBpZiAodHlwZW9mICh2YWx1ZSkgPT0gIm9iamVjdCIpIHsKICAg");
    sb.append("ICAgICBuZXh0ID0gc2VsZi5wSShuZXh0LCBuYW1lKTsKICAgICAgICBpZiAoZXhwYW5kVmlldykgewog");
    sb.append("ICAgICAgICAgbmV4dCA9IHNlbGYucEVWKG5leHQsIG5hbWUpOwogICAgICAgIH0KICAgICAgfQogICAg");
    sb.append("ICAvLyB3ZSBkZWZhdWx0IGJhY2sgdG8gZGF0YSBpbiB0aGUgSUYgY2FzZQogICAgICBuZXh0LmN1cnJl");
    sb.append("bnQgPSAnZGF0YSc7CiAgICAgIGlmIChzaG93KSB7CiAgICAgICAgbWFrZXJUcnVlKHBhcmVudCwgbmV4");
    sb.append("dCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbWFrZXJGYWxzZShwYXJlbnQsIG5leHQpOwogICAgICB9");
    sb.append("CiAgICAgIHN1YnNjcmliZV9zdGF0ZShzdGF0ZSwgdW5zdWIpOwogICAgfS5iaW5kKHsgc2hvd246ICdu");
    sb.append("bycgfSk7CiAgICBzdWJzY3JpYmUocHJpb3JTdGF0ZSwgbmFtZSwgc2V0KTsKICB9OwoKICAvLy8gUlVO");
    sb.append("VElNRSB8IHJ4OmFjdGlvbj1jb3B5OnBhdGgKICBzZWxmLmFDUCA9IGZ1bmN0aW9uIChmb3JtLCBzdGF0");
    sb.append("ZSwgbmFtZSkgewogICAgZm9ybS5vbnN1Ym1pdCA9IGZ1bmN0aW9uIChldnQpIHsKICAgICAgZXZ0LnBy");
    sb.append("ZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciBvYmogPSBnZXRfZm9ybShmb3JtLCBmYWxzZSk7CiAgICAg");
    sb.append("IGlmIChuYW1lICE9ICIuIiAmJiBuYW1lICE9ICIiKSB7CiAgICAgICAgdmFyIG5vID0ge307CiAgICAg");
    sb.append("ICAgbm9bbmFtZV0gPSBvYmo7CiAgICAgICAgb2JqID0gbm87CiAgICAgIH0KICAgICAgdmFyIGRlbHRh");
    sb.append("ID0gcGF0aF90byhzdGF0ZS52aWV3LCBvYmopOwogICAgICBzdGF0ZS52aWV3LnRyZWUudXBkYXRlKGRl");
    sb.append("bHRhKTsKICAgICAgZmlyZV9zdWNjZXNzKGZvcm0pOwogICAgfTsKICB9OwoKICAvLyBSVU5USU1FIHwg");
    sb.append("PGlucHV0IC4uLiByeDpzeW5jPXBhdGggLi4uPgogIHNlbGYuU1kgPSBmdW5jdGlvbiAoZWwsIHN0YXRl");
    sb.append("LCBuYW1lLCBtcykgewogICAgdmFyIHR5cGUgPSAoInR5cGUiIGluIGVsKSA/IGVsLnR5cGUudG9VcHBl");
    sb.append("ckNhc2UoKSA6ICJ0ZXh0IjsKICAgIHZhciBzaWduYWwgPSBmdW5jdGlvbiAodmFsdWUpIHsKICAgICAg");
    sb.append("dmFyIG9iaiA9IHt9OwogICAgICBvYmpbbmFtZV0gPSBlbC52YWx1ZTsKICAgICAgdmFyIGRlbHRhID0g");
    sb.append("cGF0aF90byhzdGF0ZS52aWV3LCBvYmopOwogICAgICBzdGF0ZS52aWV3LnRyZWUudXBkYXRlKGRlbHRh");
    sb.append("KTsKICAgIH07CiAgICBpZiAodHlwZSA9PSAiQ0hFQ0tCT1giKSB7CiAgICAgIGVsLm9uY2hhbmdlID0g");
    sb.append("ZGVib3VuY2UobXMsIGZ1bmN0aW9uIChldnQpIHsKICAgICAgICBzaWduYWwoZWwuY2hlY2tlZCA/IHRy");
    sb.append("dWUgOiBmYWxzZSk7CiAgICAgIH0pOwogICAgfSBlbHNlIGlmICh0eXBlID09ICJSQURJTyIpIHsKICAg");
    sb.append("ICAgZWwub25jaGFuZ2UgPSBkZWJvdW5jZShtcywgZnVuY3Rpb24gKGV2dCkgewogICAgICAgIGlmIChl");
    sb.append("bC5jaGVja2VkKSB7CiAgICAgICAgICBzaWduYWwoZWwudmFsdWUpOwogICAgICAgIH0KICAgICAgfSk7");
    sb.append("CiAgICB9IGVsc2UgewogICAgICBlbC5vbmNoYW5nZSA9IGRlYm91bmNlKG1zLCBmdW5jdGlvbiAoZXZ0");
    sb.append("KSB7CiAgICAgICAgc2lnbmFsKGVsLnZhbHVlKTsKICAgICAgfSk7CiAgICAgIGVsLm9ua2V5dXAgPSBl");
    sb.append("bC5vbmNoYW5nZTsKICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIHNp");
    sb.append("Z25hbChlbC52YWx1ZSk7CiAgICAgIH0sIDEpOwogICAgfQogIH07CgogIHZhciBmaXJzdE9jY3VyID0g");
    sb.append("ZnVuY3Rpb24oYSwgYikgewogICAgaWYgKGEgPiAwICYmIGIgPiAwKSB7CiAgICAgIHJldHVybiBNYXRo");
    sb.append("Lm1pbihhLCBiKTsKICAgIH0KICAgIGlmIChhID4gMCkgewogICAgICByZXR1cm4gYTsKICAgIH0gZWxz");
    sb.append("ZSB7CiAgICAgIHJldHVybiBiOwogICAgfQogIH07CiAgLy8gSEVMUEVSIHwgZXh0cmFjdCBhbGwgdGhl");
    sb.append("IGlucHV0cyBmcm9tIHRoZSBnaXZlbiBlbGVtZW50IGFuZCBidWlsZCBhbiBvYmplY3QKICB2YXIgYnVp");
    sb.append("bGRfb2JqID0gZnVuY3Rpb24gKGVsLCBvYmpUb0luc2VydEludG8sIGFsbG93X3Bhc3N3b3Jkcykgewog");
    sb.append("ICAgdmFyIGp1c3RTZXQgPSBlbC50YWdOYW1lLnRvVXBwZXJDYXNlKCkgPT0gIlRFWFRBUkVBIiB8fCBl");
    sb.append("bC50YWdOYW1lLnRvVXBwZXJDYXNlKCkgPT0gIlNFTEVDVCI7CiAgICB2YXIgaXNJbnB1dEJveCA9IGVs");
    sb.append("LnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PSAiSU5QVVQiOwogICAgdmFyIGlzRmllbGRTZXQgPSBlbC50");
    sb.append("YWdOYW1lLnRvVXBwZXJDYXNlKCkgPT0gIkZJRUxEU0VUIjsKICAgIHZhciBoYXNOYW1lID0gIm5hbWUi");
    sb.append("IGluIGVsOwogICAgdmFyIGluc2VydEF0ID0gb2JqVG9JbnNlcnRJbnRvOwogICAgLy8gdGhlIGFwcGx5");
    sb.append("IGZ1bmN0aW9uIGlzIGhvdyB3ZSBpbmplY3QgdGhlIHZhbHVlIGludG8gdGhlIG9iamVjdAogICAgdmFy");
    sb.append("IGFwcGx5ID0gZnVuY3Rpb24gKHZhbCkgeyB9OwoKICAgIGlmIChoYXNOYW1lICYmIChqdXN0U2V0IHx8");
    sb.append("IGlzSW5wdXRCb3ggfHwgaXNGaWVsZFNldCkpIHsKICAgICAgdmFyIG5hbWUgPSAiIjsKICAgICAgbmFt");
    sb.append("ZSA9IGVsLm5hbWU7CiAgICAgIGlmIChuYW1lID09ICIiKSB7IC8vIHRoaXMgaXMgYSBzcGVjaWFsIG5h");
    sb.append("bWUgZm9yIHRoaW5ncyB0aGF0IGRvbid0IGdldCBwaWNrZWQgdXAKICAgICAgICByZXR1cm47CiAgICAg");
    sb.append("IH0KICAgICAgdmFyIGtEb3RPclNsYXNoID0gZmlyc3RPY2N1cihuYW1lLmluZGV4T2YoJy4nKSwgbmFt");
    sb.append("ZS5pbmRleE9mKCcvJykpOwogICAgICB3aGlsZSAoa0RvdE9yU2xhc2ggPiAwKSB7CiAgICAgICAgdmFy");
    sb.append("IHBhciA9IG5hbWUuc3Vic3RyaW5nKDAsIGtEb3RPclNsYXNoKTsKICAgICAgICBpZiAoIShwYXIgaW4g");
    sb.append("aW5zZXJ0QXQpKSB7CiAgICAgICAgICBpbnNlcnRBdFtwYXJdID0ge307CiAgICAgICAgfQogICAgICAg");
    sb.append("IGluc2VydEF0ID0gaW5zZXJ0QXRbcGFyXTsKICAgICAgICBuYW1lID0gbmFtZS5zdWJzdHJpbmcoa0Rv");
    sb.append("dE9yU2xhc2ggKyAxKTsKICAgICAgICBrRG90T3JTbGFzaCA9IGZpcnN0T2NjdXIobmFtZS5pbmRleE9m");
    sb.append("KCcuJyksIG5hbWUuaW5kZXhPZignLycpKTsKICAgICAgfQoKICAgICAgaWYgKG5hbWUuZW5kc1dpdGgo");
    sb.append("IisiKSkgewogICAgICAgIC8vIGhlcmUsIHdlIHB1c2ggdGhlIHZhbHVlIGludG8gdGhlIGFycmF5CiAg");
    sb.append("ICAgICAgbmFtZSA9IG5hbWUuc3Vic3RyaW5nKDAsIG5hbWUubGVuZ3RoIC0gMSk7CiAgICAgICAgYXBw");
    sb.append("bHkgPSBmdW5jdGlvbiAodikgewogICAgICAgICAgaWYgKCEobmFtZSBpbiBpbnNlcnRBdCkpIHsKICAg");
    sb.append("ICAgICAgICAgaW5zZXJ0QXRbbmFtZV0gPSBbdl07CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAg");
    sb.append("ICBpbnNlcnRBdFtuYW1lXS5wdXNoKHYpOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0gZWxz");
    sb.append("ZSB7CiAgICAgICAgLy8gaGVyZSB3ZSBzZXQgdGhlIG9iamVjdAogICAgICAgIGFwcGx5ID0gZnVuY3Rp");
    sb.append("b24gKHYpIHsKICAgICAgICAgIGluc2VydEF0W25hbWVdID0gdjsKICAgICAgICB9OwogICAgICB9CiAg");
    sb.append("ICB9CgogICAgaWYgKGp1c3RTZXQpIHsKICAgICAgYXBwbHkoZWwudmFsdWUpOwogICAgfSBlbHNlIGlm");
    sb.append("IChpc0ZpZWxkU2V0KSB7CiAgICAgIHZhciBuZXh0T2JqZWN0ID0ge307CiAgICAgIGlmICgiY2hpbGRy");
    sb.append("ZW4iIGluIGVsKSB7CiAgICAgICAgdmFyIGFyciA9IGVsLmNoaWxkcmVuOwogICAgICAgIHZhciBuID0g");
    sb.append("YXJyLmxlbmd0aDsKICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IG47IGsrKykgewogICAgICAgICAg");
    sb.append("dmFyIGNoID0gZWwuY2hpbGRyZW5ba107CiAgICAgICAgICBidWlsZF9vYmooY2gsIG5leHRPYmplY3Qs");
    sb.append("IGFsbG93X3Bhc3N3b3Jkcyk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGFwcGx5KG5leHRPYmplY3Qp");
    sb.append("OwogICAgfSBlbHNlIGlmIChpc0lucHV0Qm94KSB7CiAgICAgIHZhciB0eXBlID0gKCJ0eXBlIiBpbiBl");
    sb.append("bCkgPyBlbC50eXBlLnRvVXBwZXJDYXNlKCkgOiAiVEVYVCI7CiAgICAgIGlmICh0eXBlID09ICJTVUJN");
    sb.append("SVQiIHx8IHR5cGUgPT0gIlJFU0VUIikgcmV0dXJuOwogICAgICBpZiAodHlwZSA9PSAiUEFTU1dPUkQi");
    sb.append("ICYmICFhbGxvd19wYXNzd29yZHMpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgaWYgKHR5");
    sb.append("cGUgPT0gIkNIRUNLQk9YIikgewogICAgICAgIGFwcGx5KGVsLmNoZWNrZWQgPyB0cnVlIDogZmFsc2Up");
    sb.append("OwogICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gIlJBRElPIikgewogICAgICAgIGlmIChlbC5jaGVja2Vk");
    sb.append("KSB7CiAgICAgICAgICBhcHBseShlbC52YWx1ZSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAg");
    sb.append("ICAgIGFwcGx5KGVsLnZhbHVlKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgaWYgKCJjaGlsZHJl");
    sb.append("biIgaW4gZWwpIHsKICAgICAgICB2YXIgYXJyID0gZWwuY2hpbGRyZW47CiAgICAgICAgdmFyIG4gPSBh");
    sb.append("cnIubGVuZ3RoOwogICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgbjsgaysrKSB7CiAgICAgICAgICB2");
    sb.append("YXIgY2ggPSBlbC5jaGlsZHJlbltrXTsKICAgICAgICAgIGJ1aWxkX29iaihjaCwgb2JqVG9JbnNlcnRJ");
    sb.append("bnRvLCBhbGxvd19wYXNzd29yZHMpOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIHNlbGYu");
    sb.append("QnVpbGRGb3JtT2JqZWN0ID0gZnVuY3Rpb24oZm9ybSkgewogICAgdmFyIG9iaiA9IHt9OwogICAgYnVp");
    sb.append("bGRfb2JqKGZvcm0sIG9iaiwgZmFsc2UpOwogICAgcmV0dXJuIG9iajsKICB9OwoKICAvLyBIRUxQRVIg");
    sb.append("fCByZXR1cm4gYW4gb2JqZWN0IG9mIGFsbCB0aGUgaW5wdXRzIG9mIHRoZSBnaXZlbiBmb3JtIGVsZW1l");
    sb.append("bnQKICB2YXIgZ2V0X2Zvcm0gPSBmdW5jdGlvbiAoZm9ybSwgYWxsb3dfcGFzc3dvcmRzKSB7CiAgICB2");
    sb.append("YXIgb2JqID0ge307CiAgICBidWlsZF9vYmooZm9ybSwgb2JqLCBhbGxvd19wYXNzd29yZHMpOwogICAg");
    sb.append("cmV0dXJuIG9iajsKICB9OwoKICAvLyBIRUxQRVIgfCByZXR1cm4gYSBwYXNzd29yZCBmcm9tIHRoZSBn");
    sb.append("aXZlbiBmb3JtCiAgdmFyIGdldF9wYXNzd29yZCA9IGZ1bmN0aW9uIChlbCkgewogICAgaWYgKGVsLnRh");
    sb.append("Z05hbWUudG9VcHBlckNhc2UoKSA9PSAiSU5QVVQiICYmIGVsLnR5cGUudG9VcHBlckNhc2UoKSA9PSAi");
    sb.append("UEFTU1dPUkQiKSB7CiAgICAgIHJldHVybiBbZWwubmFtZSwgZWwudmFsdWVdOwogICAgfQogICAgaWYg");
    sb.append("KCJjaGlsZHJlbiIgaW4gZWwpIHsKICAgICAgdmFyIGFyciA9IGVsLmNoaWxkcmVuOwogICAgICB2YXIg");
    sb.append("biA9IGFyci5sZW5ndGg7CiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgbjsgaysrKSB7CiAgICAgICAg");
    sb.append("dmFyIGNoID0gZWwuY2hpbGRyZW5ba107CiAgICAgICAgdmFyIHJlc3VsdCA9IGdldF9wYXNzd29yZChj");
    sb.append("aCk7CiAgICAgICAgaWYgKHJlc3VsdCAhPT0gbnVsbCkgewogICAgICAgICAgcmV0dXJuIHJlc3VsdDsK");
    sb.append("ICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBudWxsOwogIH07CgogIHZhciB3cmFwcGVy");
    sb.append("cyA9IHt9OwogIHZhciB3cmFwcGVyc19vbmxvYWQgPSB7fTsKICBzZWxmLlBSV1AgPSBmdW5jdGlvbiAo");
    sb.append("bmFtZSwgZm9vKSB7CiAgICB3cmFwcGVyc1tuYW1lXSA9IGZvbzsKICAgIGlmIChuYW1lIGluIHdyYXBw");
    sb.append("ZXJzX29ubG9hZCkgewogICAgICB2YXIgdG9sb2FkID0gd3JhcHBlcnNfb25sb2FkW25hbWVdOwogICAg");
    sb.append("ICBmb3IgKHZhciBrID0gMDsgayA8IHRvbG9hZC5sZW5ndGg7IGsrKykgewogICAgICAgIHRvbG9hZFtr");
    sb.append("XSgpOwogICAgICB9CiAgICB9CiAgfTsKCiAgLy8gPC4uLiByeDp3cmFwPWNvbnN0ID4KICBzZWxmLldQ");
    sb.append("ID0gZnVuY3Rpb24gKGRvbSwgc3RhdGUsIG5hbWUsIHJ4b2JqLCBjaGlsZE1ha2VyV2l0aENhc2UpIHsK");
    sb.append("ICAgIGlmIChuYW1lIGluIHdyYXBwZXJzKSB7CiAgICAgIHdyYXBwZXJzW25hbWVdKGRvbSwgc3RhdGUs");
    sb.append("IHJ4b2JqLCBjaGlsZE1ha2VyV2l0aENhc2UsIHNlbGYpOwogICAgfSBlbHNlIHsKICAgICAgdmFyIGxv");
    sb.append("YWRlciA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB3cmFwcGVyc1tuYW1lXShkb20sIHN0YXRlLCByeG9i");
    sb.append("aiwgY2hpbGRNYWtlcldpdGhDYXNlLCBzZWxmKTsKICAgICAgfTsKICAgICAgaWYgKG5hbWUgaW4gd3Jh");
    sb.append("cHBlcnNfb25sb2FkKSB7CiAgICAgICAgd3JhcHBlcnNfb25sb2FkW25hbWVdLnB1c2gobG9hZGVyKTsK");
    sb.append("ICAgICAgfSBlbHNlIHsKICAgICAgICB3cmFwcGVyc19vbmxvYWRbbmFtZV0gPSBbbG9hZGVyXTsKICAg");
    sb.append("ICAgfQogICAgfQogIH07CgogIC8vIFJVTlRJTUUgfCByZWdpc3RlciB0aGUgcGFnZSBmb3IgdGhlIHVy");
    sb.append("aSB0byB0aGUgZ2l2ZW4gZm9vKCkuCiAgc2VsZi5QRyA9IGZ1bmN0aW9uICh1cmksIGZvbykgewogICAg");
    sb.append("dmFyIGhlYWQgPSByb3V0ZXI7CiAgICBmb3IgKHZhciBrID0gMDsgayA8IHVyaS5sZW5ndGg7IGsrKykg");
    sb.append("ewogICAgICB2YXIgcGFydCA9IHVyaVtrXTsKICAgICAgaWYgKCEocGFydCBpbiBoZWFkKSkgewogICAg");
    sb.append("ICAgIGhlYWRbcGFydF0gPSB7fTsKICAgICAgfQogICAgICBoZWFkID0gaGVhZFtwYXJ0XTsKICAgIH0K");
    sb.append("ICAgIGhlYWRbIkAiXSA9IGZvbzsKICB9OwoKICB2YXIgcm91dGUgPSBmdW5jdGlvbiAocGFydHMsIGF0");
    sb.append("LCBoZWFkLCB2aWV3KSB7CiAgICBpZiAoYXQgPCBwYXJ0cy5sZW5ndGgpIHsKICAgICAgaWYgKCJudW1i");
    sb.append("ZXIiIGluIGhlYWQpIHsKICAgICAgICB2YXIgbmVjayA9IGhlYWRbIm51bWJlciJdOwogICAgICAgIHZh");
    sb.append("ciB2YWwgPSBwYXJzZUZsb2F0KHBhcnRzW2F0XSk7CiAgICAgICAgaWYgKCFpc05hTih2YWwpKSB7CiAg");
    sb.append("ICAgICAgICBmb3IgKHZhciBicmFuY2ggaW4gbmVjaykgewogICAgICAgICAgICB2aWV3W2JyYW5jaF0g");
    sb.append("PSB2YWw7CiAgICAgICAgICAgIHZhciBjYW5kaWRhdGUgPSByb3V0ZShwYXJ0cywgYXQgKyAxLCBuZWNr");
    sb.append("W2JyYW5jaF0sIHZpZXcpOwogICAgICAgICAgICBpZiAoY2FuZGlkYXRlICE9PSBudWxsKSB7CiAgICAg");
    sb.append("ICAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBkZWxldGUg");
    sb.append("dmlld1ticmFuY2hdOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgIH0KICAgICAgaWYgKCJ0ZXh0");
    sb.append("IiBpbiBoZWFkKSB7CiAgICAgICAgdmFyIG5lY2sgPSBoZWFkWyJ0ZXh0Il07CiAgICAgICAgdmFyIHZh");
    sb.append("bCA9IHBhcnRzW2F0XTsKICAgICAgICBmb3IgKHZhciBicmFuY2ggaW4gbmVjaykgewogICAgICAgICAg");
    sb.append("dmlld1ticmFuY2hdID0gdmFsOwogICAgICAgICAgdmFyIGNhbmRpZGF0ZSA9IHJvdXRlKHBhcnRzLCBh");
    sb.append("dCArIDEsIG5lY2tbYnJhbmNoXSwgdmlldyk7CiAgICAgICAgICBpZiAoY2FuZGlkYXRlICE9PSBudWxs");
    sb.append("KSB7CiAgICAgICAgICAgIHJldHVybiBjYW5kaWRhdGU7CiAgICAgICAgICB9CiAgICAgICAgICBkZWxl");
    sb.append("dGUgdmlld1ticmFuY2hdOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAoImZpeGVkIiBpbiBoZWFk");
    sb.append("KSB7CiAgICAgICAgdmFyIG5lY2sgPSBoZWFkWyJmaXhlZCJdOwogICAgICAgIGZvciAodmFyIGJyYW5j");
    sb.append("aCBpbiBuZWNrKSB7CiAgICAgICAgICBpZiAoYnJhbmNoID09IHBhcnRzW2F0XSkgewogICAgICAgICAg");
    sb.append("ICB2YXIgY2FuZGlkYXRlID0gcm91dGUocGFydHMsIGF0ICsgMSwgbmVja1ticmFuY2hdLCB2aWV3KTsK");
    sb.append("ICAgICAgICAgICAgaWYgKGNhbmRpZGF0ZSAhPT0gbnVsbCkgewogICAgICAgICAgICAgIHJldHVybiBj");
    sb.append("YW5kaWRhdGU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0g");
    sb.append("ZWxzZSB7CiAgICAgIGlmICgiQCIgaW4gaGVhZCkgewogICAgICAgIHJldHVybiBoZWFkWyJAIl07CiAg");
    sb.append("ICAgIH0KICAgIH0KICB9OwoKICBzZWxmLmdvdG8gPSBmdW5jdGlvbiAodXJpKSB7CiAgICBjb25zb2xl");
    sb.append("LmxvZygiZ29pbmcgdG86IiArIHVyaSk7CiAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7");
    sb.append("CiAgICAgIGlmICh1cmkuc3RhcnRzV2l0aCgiLyIpKSB7CiAgICAgICAgc2VsZi5ydW4oZG9jdW1lbnQu");
    sb.append("Ym9keSwgdXJpLCB0cnVlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJl");
    sb.append("ZiA9IGZpeEhyZWYodXJpKTsKICAgICAgfQogICAgfSwgMTApOwogIH07CgogIHNlbGYuaW5pdCA9IGZ1");
    sb.append("bmN0aW9uICgpIHsKICAgIHNlbGYucnVuKGRvY3VtZW50LmJvZHksIGZpeFBhdGgod2luZG93LmxvY2F0");
    sb.append("aW9uLnBhdGhuYW1lICsgd2luZG93LmxvY2F0aW9uLmhhc2gpLCBmYWxzZSk7CiAgICB3aW5kb3cub25w");
    sb.append("b3BzdGF0ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgc2VsZi5ydW4oZG9jdW1lbnQuYm9keSwgZml4UGF0");
    sb.append("aCh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyB3aW5kb3cubG9jYXRpb24uaGFzaCksIGZhbHNlKTsK");
    sb.append("ICAgIH07CiAgfTsKCiAgLy8gQVBJIHwgUnVuIHRoZSBwYWdlIGluIHRoZSBnaXZlbiBwbGFjZQogIHNl");
    sb.append("bGYucnVuID0gZnVuY3Rpb24gKHdoZXJlLCByYXdQYXRoLCBwdXNoKSB7CiAgICB2YXIgcGF0aCA9IHJh");
    sb.append("d1BhdGg7CiAgICB3aGlsZSAocGF0aC5lbmRzV2l0aCgiLyIpICYmIHBhdGggIT0gIi8iKSB7CiAgICAg");
    sb.append("IHBhdGggPSBwYXRoLnN1YnN0cmluZygwLCBwYXRoLmxlbmd0aCAtIDEpOwogICAgfQogICAgZm9yIChj");
    sb.append("b25LZXkgaW4gY29ubmVjdGlvbnMpIHsKICAgICAgY29ubmVjdGlvbnNbY29uS2V5XS50cmVlLm51a2Uo");
    sb.append("KTsKICAgICAgY29ubmVjdGlvbnNbY29uS2V5XS5udWtlKCk7CiAgICB9CiAgICB2YXIgcGFydHMgPSAo");
    sb.append("cGF0aC5zdGFydHNXaXRoKCIvIikgPyBwYXRoLnN1YnN0cmluZygxKSA6IHBhdGgpLnNwbGl0KCIvIik7");
    sb.append("CiAgICB2YXIgaW5pdCA9IHt9OwogICAgdHJ5IHsKICAgICAgaW5pdC52aWV3ZXJfdGltZXpvbmUgPSBJ");
    sb.append("bnRsLkRhdGVUaW1lRm9ybWF0KCkucmVzb2x2ZWRPcHRpb25zKCkudGltZVpvbmU7CiAgICAgIGluaXQu");
    sb.append("dmlld2VyX2xhbmd1YWdlID0gbmF2aWdhdG9yLmxhbmd1YWdlOwogICAgfSBjYXRjaCAoYnJvd3NlckJh");
    sb.append("ZCkgewogICAgICAvLyB3ZSBqdXN0IGRvbid0IHNlZSB0aGUgdmlld3N0YXRlIGlmIHdlIGRvbid0IGhh");
    sb.append("dmUgdGhlc2UgYXZhaWxhYmxlCiAgICB9CiAgICB2YXIgZm9vID0gcm91dGUocGFydHMsIDAsIHJvdXRl");
    sb.append("ciwgaW5pdCk7CiAgICBudWtlKHdoZXJlKTsKICAgIGlmIChmb28gIT0gbnVsbCkgewogICAgICB2YXIg");
    sb.append("c3RhdGUgPSB7IHNlcnZpY2U6IGNvbm5lY3Rpb24sIGRhdGE6IG51bGwsIHZpZXc6IGZyZXNoKHdoZXJl");
    sb.append("KSwgY3VycmVudDogInZpZXciIH07CiAgICAgIHN0YXRlLnZpZXcuaW5pdCA9IGluaXQ7CiAgICAgIGZv");
    sb.append("byh3aGVyZSwgc3RhdGUpOwogICAgICBzdGF0ZS52aWV3LnRyZWUuc3Vic2NyaWJlKHN0YXRlLnZpZXcu");
    sb.append("ZGVsdGEpOwogICAgICBzdGF0ZS52aWV3LnRyZWUudXBkYXRlKGluaXQpOwogICAgICBpZiAocHVzaCkg");
    sb.append("ewogICAgICAgIHdpbmRvdy5oaXN0b3J5LnB1c2hTdGF0ZSh7fSwgIiIsIGZpeEhyZWYocGF0aCkpOwog");
    sb.append("ICAgICB9CiAgICB9IGVsc2UgewogICAgICBpZiAocGF0aCAhPSAiLzQwNCIpIHsKICAgICAgICBzZWxm");
    sb.append("LnJ1bih3aGVyZSwgIi80MDQiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBkZWZhdWx0IDQwNAog");
    sb.append("ICAgICB9CiAgICB9CiAgICB3aGVyZS5hcHBlbmRDaGlsZChjb25uZWN0aW9uTW9uaXRvckRvbSk7CiAg");
    sb.append("fTsKCiAgdmFyIGlkZW50aXRpZXMgPSB7fTsKCiAgc2VsZi5TSUdOT1VUID0gZnVuY3Rpb24gKCkgewog");
    sb.append("ICAgaWRlbnRpdGllcyA9IHt9OwogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oImlkZW50aXR5X2Rl");
    sb.append("ZmF1bHQiKTsKICAgIHZhciBheGUgPSBbXTsKICAgIGZvciAodmFyIGNpZCBpbiBjb25uZWN0aW9ucykg");
    sb.append("ewogICAgICB2YXIgY28gPSBjb25uZWN0aW9uc1tjaWRdOwogICAgICBpZiAoY28ucHRyICE9IG51bGwp");
    sb.append("IHsKICAgICAgICBjby5wdHIuZW5kKHsgc3VjY2VzczogZnVuY3Rpb24gKCkgeyB9LCBmYWlsdXJlOiBm");
    sb.append("dW5jdGlvbiAoKSB7IH0gfSk7CiAgICAgIH0KICAgICAgYXhlLnB1c2goY2lkKTsKICAgIH0KICAgIGZv");
    sb.append("ciAodmFyIGsgPSAwOyBrIDwgYXhlLmxlbmd0aDsgaysrKSB7CiAgICAgIGRlbGV0ZSBjb25uZWN0aW9u");
    sb.append("c1theGVba11dOwogICAgfQoKICAgIHNlbGYuZ290bygiLyIpOwogIH07CgogIHNlbGYuR09PR0xFX1NJ");
    sb.append("R05fT04gPSBmdW5jdGlvbiAoYWNjZXNzVG9rZW4pIHsKICAgIGNvbm5lY3Rpb24uSW5pdENvbnZlcnRH");
    sb.append("b29nbGVVc2VyKGFjY2Vzc1Rva2VuLCB7CiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChwYXlsb2FkKSB7");
    sb.append("CiAgICAgICAgaWRlbnRpdGllc1siZGVmYXVsdCJdID0gcGF5bG9hZC5pZGVudGl0eTsKICAgICAgICBs");
    sb.append("b2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaWRlbnRpdHlfZGVmYXVsdCIsIHBheWxvYWQuaWRlbnRpdHkpOwog");
    sb.append("ICAgICAgIHNlbGYuZ290bygiLyIpOwogICAgICB9LAogICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVh");
    sb.append("c29uKSB7CiAgICAgICAgY29uc29sZS5sb2coIkdvb2dsZSBmYWlsdXJlOiAiICsgcmVhc29uKTsKICAg");
    sb.append("ICAgfQogICAgfSk7CiAgfTsKCiAgLyoqIFJVTlRJTUUgfCByZWRpcmVjdCB0byBhIHBhZ2Ugd2l0aCBz");
    sb.append("dGF0ZSAqLwogIHNlbGYuYVJEcCA9IGZ1bmN0aW9uIChzdGF0ZSwgcHVsbGVyKSB7CiAgICByZXR1cm4g");
    sb.append("ZnVuY3Rpb24gKCkgewogICAgICB2YXIgdXJpID0gcHVsbGVyKHN0YXRlLnZpZXcuaW5pdCk7CiAgICAg");
    sb.append("IHJldHVybiB1cmk7CiAgICB9OwogIH07CgogIC8qKiBSVU5USU1FIHwgcmVkaXJlY3QgdG8gYSBzdGF0");
    sb.append("aWMgcGFnZSAqLwogIHNlbGYuYVJEeiA9IGZ1bmN0aW9uIChyYXcpIHsKICAgIHJldHVybiBmdW5jdGlv");
    sb.append("biAoKSB7CiAgICAgIHJldHVybiByYXc7CiAgICB9CiAgfTsKCiAgLyoqIGZvciBjdXN0b20gZWxlbWVu");
    sb.append("dHMgdG8gbGVhcm4gb2YgdGhlIGlkZW50aXR5ICovCiAgc2VsZi5JRCA9IGZ1bmN0aW9uIChpZGVudGl0");
    sb.append("eU5hbWUsIHJlZGlyZWN0VG9GdW5jKSB7CiAgICBpZiAoaWRlbnRpdHlOYW1lID09PSB0cnVlKSB7CiAg");
    sb.append("ICAgIGlkZW50aXR5TmFtZSA9ICJkZWZhdWx0IjsKICAgIH0KICAgIC8vIElGIGlkZW50aXR5IGNvbnRh");
    sb.append("aW5zIGRvdHMKICAgIHZhciBpZGVudGl0eSA9IG51bGw7CiAgICB2YXIgY2xlYW51cCA9IGZ1bmN0aW9u");
    sb.append("ICgpIHsKICAgIH07CgogICAgdmFyIHZhbCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJpZGVudGl0eV8i");
    sb.append("ICsgaWRlbnRpdHlOYW1lKTsKICAgIGlmICh2YWwpIHsKICAgICAgaWRlbnRpdGllc1tpZGVudGl0eU5h");
    sb.append("bWVdID0gdmFsOwogICAgfQoKICAgIGlmIChpZGVudGl0eU5hbWUuc3RhcnRzV2l0aCgiZGlyZWN0OiIp");
    sb.append("KSB7CiAgICAgIC8vIFVzZSwgYXMgaXMKICAgICAgaWRlbnRpdHkgPSBpZGVudGl0eU5hbWUuc3Vic3Ry");
    sb.append("aW5nKDcpOwogICAgfSBlbHNlIGlmIChpZGVudGl0eU5hbWUgaW4gaWRlbnRpdGllcykgewogICAgICBp");
    sb.append("ZGVudGl0eSA9IGlkZW50aXRpZXNbaWRlbnRpdHlOYW1lXTsKICAgICAgY2xlYW51cCA9IGZ1bmN0aW9u");
    sb.append("ICgpIHsKICAgICAgICBkZWxldGUgaWRlbnRpdGllc1tpZGVudGl0eU5hbWVdOwogICAgICAgIGxvY2Fs");
    sb.append("U3RvcmFnZS5yZW1vdmVJdGVtKCJpZGVudGl0eV8iICsgaWRlbnRpdHlOYW1lKTsKICAgICAgICBzZWxm");
    sb.append("LmdvdG8ocmVkaXJlY3RUb0Z1bmMoKSk7CiAgICAgIH07CiAgICB9IGVsc2UgewogICAgICAvLyB3aGF0");
    sb.append("ZXZlciBwYWdlIHdlIGFyZSwgbmVlZHMgdG8gZGllIHdoaWNoIG1lYW5zIHdlIG5lZWQgdG8gbnVrZSBl");
    sb.append("dmVyeXRoaW5nIQogICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgc2Vs");
    sb.append("Zi5nb3RvKHJlZGlyZWN0VG9GdW5jKCkpOwogICAgICB9LCAxMCk7CiAgICAgIHJldHVybiB7IGFib3J0");
    sb.append("OiB0cnVlIH07CiAgICB9CgogICAgcmV0dXJuIHsgYWJvcnQ6IGZhbHNlLCBjbGVhbnVwOiBjbGVhbnVw");
    sb.append("LCBpZGVudGl0eTogaWRlbnRpdHkgfTsKICB9OwoKICAvKiBGb3IgY3VzdG9tIGNhbGxiYWNrcyB0byBy");
    sb.append("ZWRpcmVjdCBhbmQgaW52YWxpZGF0ZSBJRCBmYWlsdXJlcyAqLwogIHNlbGYuRklEQ0wgPSBmdW5jdGlv");
    sb.append("biAoY2FsbGJhY2ssIGxvb2t1cCkgewogICAgcmV0dXJuIHsKICAgICAgc3VjY2VzczogZnVuY3Rpb24g");
    sb.append("KHJlc3VsdCkgewogICAgICAgIGNhbGxiYWNrLnN1Y2Nlc3MocmVzdWx0KTsKICAgICAgfSwKICAgICAg");
    sb.append("bmV4dDogZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBjYWxsYmFjay5uZXh0KGl0ZW0pOwogICAgICB9");
    sb.append("LAogICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkgewogICAgICAgIGNhbGxiYWNrLmNvbXBsZXRlKCk7");
    sb.append("CiAgICAgIH0sCiAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICBjYWxsYmFj");
    sb.append("ay5mYWlsdXJlKHJlYXNvbik7CiAgICAgICAgaWYgKHJlYXNvbiA9PSA0MDM0MDMpIHsKICAgICAgICAg");
    sb.append("IGxvb2t1cC5jbGVhbnVwKCk7CiAgICAgICAgfQogICAgICB9CiAgICB9OwogIH07CgogIHZhciBjdXN0");
    sb.append("b21EYXRhU291cmNlcyA9IHt9OwoKICAvKiogcHJvdmlkZSBjdXN0b20gZGF0YSAqLwogIHNlbGYuUFJD");
    sb.append("VURBID0gZnVuY3Rpb24gKG5hbWUsIGZvbykgewogICAgY3VzdG9tRGF0YVNvdXJjZXNbbmFtZV0gPSBm");
    sb.append("b287CiAgfTsKCiAgLy8gPGN1c3RvbWRhdGEgc3JjPXNyYyAocGFyYW1ldGVyOng9eSkqID4KICBzZWxm");
    sb.append("LkNVREEgPSBmdW5jdGlvbiAocGFyZW50LCBwcmlvclN0YXRlLCBzcmMsIHJ4b2JqLCByZWRpcmVjdFRv");
    sb.append("LCBjaGlsZE1ha2VyKSB7CiAgICB2YXIgdW5zdWIgPSBtYWtlX3Vuc3ViKCk7CiAgICByeG9iai5fXyA9");
    sb.append("IGRlYm91bmNlKDEwLCBmdW5jdGlvbiAoKSB7CiAgICAgIGZpcmVfdW5zdWIodW5zdWIpOwogICAgICBu");
    sb.append("dWtlKHBhcmVudCk7CiAgICAgIHZhciBjdXN0b21UcmVlID0gZmFsc2U7CiAgICAgIGlmIChzcmMgaW4g");
    sb.append("Y3VzdG9tRGF0YVNvdXJjZXMpIHsKICAgICAgICB2YXIgY29ucyA9IGN1c3RvbURhdGFTb3VyY2VzW3Ny");
    sb.append("Y107CiAgICAgICAgaWYgKHR5cGVvZiAoY29ucykgPT0gImZ1bmN0aW9uIikgewogICAgICAgICAgY3Vz");
    sb.append("dG9tVHJlZSA9IGNvbnMocnhvYmosIHByaW9yU3RhdGUsIHJlZGlyZWN0VG8sIHNlbGYpOwogICAgICAg");
    sb.append("IH0KICAgICAgfQogICAgICBpZiAoIWN1c3RvbVRyZWUpIHsKICAgICAgICBjdXN0b21UcmVlID0gbmV3");
    sb.append("IEFkYW1hVHJlZSgpOwogICAgICB9CiAgICAgIHZhciBzdGF0ZSA9IHsKICAgICAgICBzZXJ2aWNlOiBw");
    sb.append("cmlvclN0YXRlLnNlcnZpY2UsCiAgICAgICAgZGF0YTogeyBjb25uZWN0aW9uOiBwcmlvclN0YXRlLmNv");
    sb.append("bm5lY3Rpb24sIHRyZWU6IGN1c3RvbVRyZWUsIGRlbHRhOiB7fSwgcGFyZW50OiBudWxsLCBwYXRoOiBu");
    sb.append("dWxsIH0sCiAgICAgICAgdmlldzogbmV3X2RlbHRhX2NvcHkocHJpb3JTdGF0ZS52aWV3KSwKICAgICAg");
    sb.append("ICBjdXJyZW50OiAiZGF0YSIKICAgICAgfTsKICAgICAgY2hpbGRNYWtlcihzdGF0ZSk7CiAgICAgIHN1");
    sb.append("YnNjcmliZV9zdGF0ZShzdGF0ZSwgdW5zdWIpOwogICAgfSk7CiAgfTsKCiAgLy8gPHRpdGxlIHZhbHVl");
    sb.append("PSIuLi4iIC8+CiAgc2VsZi5TVCA9IGZ1bmN0aW9uIChyeG9iaikgewogICAgZG9jdW1lbnQudGl0bGUg");
    sb.append("PSByeG9iai52YWx1ZTsKICAgIHJ4b2JqLl9fID0gZGVib3VuY2UoMSwgZnVuY3Rpb24gKCkgewogICAg");
    sb.append("ICBkb2N1bWVudC50aXRsZSA9IHJ4b2JqLnZhbHVlOwogICAgfSk7CiAgfTsKCiAgLy8gPHZpZXdzeW5j");
    sb.append("PgogIHNlbGYuVlN5ID0gZnVuY3Rpb24gKHBhcmVudCwgcHJpb3JTdGF0ZSwgYXZhaWwsIG5vdGF2YWls");
    sb.append("KSB7CiAgICB2YXIgdW5zdWIgPSBtYWtlX3Vuc3ViKCk7CiAgICBwcmlvclN0YXRlLmRhdGEuY29ubmVj");
    sb.append("dGlvbi5zdWJzY3JpYmVfc3luYyhmdW5jdGlvbiAoc3luY2VkKSB7CiAgICAgIG51a2UocGFyZW50KTsK");
    sb.append("ICAgICAgZmlyZV91bnN1Yih1bnN1Yik7CiAgICAgIHZhciBzdGF0ZSA9IGZvcmsocHJpb3JTdGF0ZSk7");
    sb.append("CiAgICAgIGlmIChzeW5jZWQpIHsKICAgICAgICBhdmFpbChwYXJlbnQsIHN0YXRlKTsKICAgICAgfSBl");
    sb.append("bHNlIHsKICAgICAgICBub3RhdmFpbChwYXJlbnQsIHN0YXRlKTsKICAgICAgfQogICAgICBzdWJzY3Jp");
    sb.append("YmVfc3RhdGUoc3RhdGUsIHVuc3ViKTsKICAgICAgLy8gVE9ETzogcmV0dXJuIGZhbHNlIHRvIHVuc3Vi");
    sb.append("CiAgICAgIHJldHVybiB0cnVlOwogICAgfSk7CiAgfTsKCiAgdmFyIGJpbmRfcmVzcG9uZGVyID0gZnVu");
    sb.append("Y3Rpb24gKGNvLCBzdGF0ZSwgY2xlYW51cCwgcmV0cnlfc20pIHsKICAgIHJldHJ5X3NtLnVuZXhwZWN0");
    sb.append("ZWRfZXJyb3JzID0gMDsKICAgIHJldHJ5X3NtLmJhY2tvZmYgPSAxOwogICAgcmV0dXJuIHsKICAgICAg");
    sb.append("bmV4dDogZnVuY3Rpb24gKHBheWxvYWQpIHsKICAgICAgICBjby5kZWJ1Z2dlcihwYXlsb2FkKTsKICAg");
    sb.append("ICAgICBjby5zZXRfY29ubmVjdGVkKHRydWUpOwogICAgICAgIHJldHJ5X3NtLnVuZXhwZWN0ZWRfZXJy");
    sb.append("b3JzID0gMDsKICAgICAgICByZXRyeV9zbS5iYWNrb2ZmID0gMTsKICAgICAgICBpZiAoImRhdGEiIGlu");
    sb.append("IHBheWxvYWQuZGVsdGEpIHsKICAgICAgICAgIGNvLnRyZWUudXBkYXRlKHBheWxvYWQuZGVsdGEuZGF0");
    sb.append("YSk7CiAgICAgICAgfQogICAgICAgIGlmICgib3V0c3RhbmRpbmciIGluIHBheWxvYWQuZGVsdGEpIHsK");
    sb.append("ICAgICAgICAgIGNvLm9uZGVjaWRlKHBheWxvYWQuZGVsdGEub3V0c3RhbmRpbmcpOwogICAgICAgIH0K");
    sb.append("ICAgICAgICBpZiAoJ3ZpZXdzdGF0ZScgaW4gcGF5bG9hZC5kZWx0YSkgewogICAgICAgICAgc3RhdGUu");
    sb.append("dmlldy50cmVlLnVwZGF0ZShwYXlsb2FkLmRlbHRhLnZpZXdzdGF0ZSk7CiAgICAgICAgfQogICAgICAg");
    sb.append("IGlmICgnbG9nJyBpbiBwYXlsb2FkLmRlbHRhKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhwYXlsb2Fk");
    sb.append("LmRlbHRhLmxvZyk7CiAgICAgICAgfQogICAgICAgIGlmICgndmlld3BvcnQnIGluIHBheWxvYWQuZGVs");
    sb.append("dGEgJiYgJ21lc3NhZ2UnIGluIHBheWxvYWQuZGVsdGEpIHsKICAgICAgICAgIHZhciB2aWV3cG9ydCA9");
    sb.append("IHBheWxvYWQuZGVsdGEudmlld3BvcnQ7CiAgICAgICAgICBpZiAodmlld3BvcnQgaW4gY28uaGFuZGxl");
    sb.append("cnMpIHsKICAgICAgICAgICAgY28uaGFuZGxlcnNbdmlld3BvcnRdKHBheWxvYWQuZGVsdGEubWVzc2Fn");
    sb.append("ZSwgY28pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoJ3ZpZXctc3RhdGUtZmlsdGVy");
    sb.append("JyBpbiBwYXlsb2FkLmRlbHRhKSB7CiAgICAgICAgICB2YXIgZmlsdGVyID0ge307CiAgICAgICAgICB2");
    sb.append("YXIga2V5cyA9IHBheWxvYWQuZGVsdGFbJ3ZpZXctc3RhdGUtZmlsdGVyJ107CiAgICAgICAgICBmb3Ig");
    sb.append("KHZhciBrID0gMDsgayA8IGtleXMubGVuZ3RoOyBrKyspIHsKICAgICAgICAgICAgZmlsdGVyW2tleXNb");
    sb.append("a11dID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICAgIGNvLmZpbHRlciA9IGZpbHRlcjsKICAgICAg");
    sb.append("ICAgIGNvLmhhc19maWx0ZXIgPSB0cnVlOwogICAgICAgIH0KICAgICAgICBpZiAoJ2dvdG8nIGluIHBh");
    sb.append("eWxvYWQuZGVsdGEpIHsKICAgICAgICAgIHNlbGYuZ290byhwYXlsb2FkLmRlbHRhLmdvdG8pOwogICAg");
    sb.append("ICAgIH0KICAgICAgfSwKICAgICAgY29tcGxldGU6IGZ1bmN0aW9uICgpIHsKICAgICAgICAvLyBzaG91");
    sb.append("bGRuJ3QgcmVhbGlzdGljYWxseSBoYXBwZW4gVE9ETzogdmFsaWRhdGUgPC0gdHJ1dGgKICAgICAgICBj");
    sb.append("by5zZXRfY29ubmVjdGVkKGZhbHNlKTsKICAgICAgICBjby5wdHIgPSBudWxsOwogICAgICB9LAogICAg");
    sb.append("ICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgLy8gcmVnaXN0ZXIgdGhlIGZhaWx1");
    sb.append("cmUKICAgICAgICBjby5zZXRfY29ubmVjdGVkKGZhbHNlKTsKICAgICAgICBjby5wdHIgPSBudWxsOwog");
    sb.append("ICAgICAgIGlmIChyZWFzb24gPT0gNDAzNDAzKSB7CiAgICAgICAgICBjbGVhbnVwKCk7CiAgICAgICAg");
    sb.append("ICByZXR1cm47CiAgICAgICAgfQogICAgICAgIC8vIGlzIGl0IGFuIGV4cGVjdGVkIGVycm9yIHRoYXQg");
    sb.append("d2lsbCBoYXBwZW4gYSBidW5jaD8KICAgICAgICB2YXIgZXhwZWN0ZWRfZXJyb3IgPSByZWFzb24gPT0g");
    sb.append("OTk5OwogICAgICAgIC8vIGRvIHdlIG5vdCBrbm93IGFib3V0IGFuIGVycm9yIHRoYXQgaGFwcGVucyBh");
    sb.append("IGJ1bmNoPyBpZiBzbywgdGhlbiBsZXQncyBhdCBsZWFzdCB0cnkgYWdhaW4gYSBudW1iZXIgb2YgZmlu");
    sb.append("aXRlIHRpbWVzLgogICAgICAgIHZhciBibGluZF9yZXRyeSA9IHJldHJ5X3NtLnVuZXhwZWN0ZWRfZXJy");
    sb.append("b3JzIDwgMTA7CiAgICAgICAgaWYgKGJsaW5kX3JldHJ5KSB7CiAgICAgICAgICByZXRyeV9zbS51bmV4");
    sb.append("cGVjdGVkX2Vycm9ycysrOwogICAgICAgIH0KICAgICAgICAvLyByZXRyeSBvbiBlaXRoZXIgY2FzZQog");
    sb.append("ICAgICAgIGlmIChleHBlY3RlZF9lcnJvciB8fCBibGluZF9yZXRyeSkgewogICAgICAgICAgcmV0cnlf");
    sb.append("c20uYmFja29mZiA9IE1hdGguY2VpbChNYXRoLm1pbihyZXRyeV9zbS5iYWNrb2ZmICsgTWF0aC5yYW5k");
    sb.append("b20oKSAqIHJldHJ5X3NtLmJhY2tvZmYgKyAoYmxpbmRfcmV0cnkgPyAxMDAgOiAxKSwgMTAwMCkpOwog");
    sb.append("ICAgICAgICAgY29uc29sZS5sb2coImNvbm5lY3QtZmFpbHVyZXxyZXRyeWluZy4uLiAoIiArIHJldHJ5");
    sb.append("X3NtLmJhY2tvZmYgKyAiKTsgcmVhc29uPSIgKyByZWFzb24gKyAoYmxpbmRfcmV0cnkgPyAiIFtibGlu");
    sb.append("ZF0iIDogIiIpKTsKICAgICAgICAgIC8vIFRPRE86IG5lZWQgYSBkaWZmZXJlbnQgZmVlZGJhY2sgbWVj");
    sb.append("aGFuaXNtIChtYXliZSBhIG51bWJlciB1bmRlciB0aGUgd2lmaSBpY29uPykKICAgICAgICAgIHdpbmRv");
    sb.append("dy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXRyeV9zbS5nbygpOwogICAgICAg");
    sb.append("ICAgfSwgcmV0cnlfc20uYmFja29mZik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbnNvbGUu");
    sb.append("bG9nKCJnYXZlIHVwIGNvbm5lY3Rpb247IiArIGNvLmxhYmVsICsgIjsgcmVhc29uPSIgKyByZWFzb24p");
    sb.append("OwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIHZhciBzZXR1cF9jbyA9IGZ1bmN0aW9uKGRl");
    sb.append("c2lyZWQsIHVuc3ViLCBjbywgc3RhdGUpIHsKICAgIHZhciBzeW5jX3RyZWUgPSBmdW5jdGlvbiAoKSB7");
    sb.append("CiAgICAgIC8vIGxldCdzIGNvcHkgb3V0IHRoZSB0cmVlIGZyb20gdGhlIHZpZXdzdGF0ZQogICAgICB2");
    sb.append("YXIgbmV3X3RyZWUgPSBzdGF0ZS52aWV3LnRyZWUuY29weSgpOwoKICAgICAgLy8gaWYgd2UgaGF2ZSBn");
    sb.append("b3QgYSBmaWx0ZXIgZnJvbSB0aGUgc2VydmVyLCB0aGVuIGxldCdzIGZpbHRlcgogICAgICBpZiAoY28u");
    sb.append("aGFzX2ZpbHRlcikgewogICAgICAgIC8vIHJlY29uc3RydWN0IHRoZSBuZXcgdmlldyBiYXNlZCBvbiB0");
    sb.append("aGUgaW50ZXJzZWN0aW9uIG9mIHRoZSBmaWx0ZXIgYW5kIHRoZSBuZXcgc3RhdGUKICAgICAgICB2YXIg");
    sb.append("ZmlsdGVyZWQgPSB7fTsKICAgICAgICBmb3IgKHZhciBrIGluIG5ld190cmVlKSB7CiAgICAgICAgICBp");
    sb.append("ZiAoY28uZmlsdGVyW2tdKSB7CiAgICAgICAgICAgIGZpbHRlcmVkW2tdID0gbmV3X3RyZWVba107CiAg");
    sb.append("ICAgICAgICB9CiAgICAgICAgfQogICAgICAgIC8vIGFzc3VtZSB0aGUgbmV3IHRyZWUKICAgICAgICBu");
    sb.append("ZXdfdHJlZSA9IGZpbHRlcmVkOwogICAgICB9CiAgICAgIC8vIGlmIHRoZSBjbG9uZSAoaS5lLiBzdHJp");
    sb.append("bmdpZmllZCB2ZXJzaW9uKSBpcyB0aGUgc2FtZSBhcyB3aGF0IHdlIGxhc3Qgc2VudCwgdGhlbiBkb24n");
    sb.append("dCBzZW5kIGFueXRoaW5nCiAgICAgIHZhciBwcmlvcl9jbG9uZSA9IEpTT04uc3RyaW5naWZ5KG5ld190");
    sb.append("cmVlKTsKICAgICAgaWYgKHByaW9yX2Nsb25lID09IGNvLnZpZXdzdGF0ZV9jbG9uZSkgewogICAgICAg");
    sb.append("IHJldHVybjsKICAgICAgfQogICAgICBjby52aWV3c3RhdGVfc2VudCA9IGZhbHNlOwogICAgICBjby52");
    sb.append("c3NlcSsrOwogICAgICBjby5zeW5jKCk7CiAgICAgIHZhciBzeW5jZWQgPSBmdW5jdGlvbiAoKSB7CiAg");
    sb.append("ICAgICAgaWYgKGNvLnZzc2VxID09IHRoaXMuYm91bmQpIHsKICAgICAgICAgIGNvLnZpZXdzdGF0ZV9z");
    sb.append("ZW50ID0gdHJ1ZTsKICAgICAgICAgIGNvLnN5bmMoKTsKICAgICAgICB9CiAgICAgIH0uYmluZCh7IGJv");
    sb.append("dW5kOiBjby52c3NlcSB9KTsKICAgICAgY28udmlld3N0YXRlX2Nsb25lID0gSlNPTi5zdHJpbmdpZnko");
    sb.append("bmV3X3RyZWUpOwogICAgICBjby5wdHIudXBkYXRlKG5ld190cmVlLCB7IHN1Y2Nlc3M6IHN5bmNlZCwg");
    sb.append("ZmFpbHVyZTogc3luY2VkIH0pOwogICAgfTsKICAgIHZhciBiaW5kID0gZnVuY3Rpb24gKHNlbmROb3cp");
    sb.append("IHsKICAgICAgdW5zdWIudmlldyA9IHN0YXRlLnZpZXcudHJlZS5zdWJzY3JpYmUoZnVuY3Rpb24gKCkg");
    sb.append("ewogICAgICAgIGlmIChjby5wdHIgPT0gbnVsbCkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0K");
    sb.append("ICAgICAgICBzeW5jX3RyZWUoKTsKICAgICAgfSk7CiAgICAgIGlmIChzZW5kTm93KSB7CiAgICAgICAg");
    sb.append("c3luY190cmVlKCk7CiAgICAgIH0KICAgIH07CiAgICBpZiAoY28ucHRyICE9IG51bGwgJiYgY28uYm91");
    sb.append("bmQgPT0gZGVzaXJlZCkgewogICAgICBiaW5kKHRydWUpOwogICAgICByZXR1cm4gZmFsc2U7CiAgICB9");
    sb.append("CiAgICBpZiAoY28ucHRyICE9IG51bGwpIHsKICAgICAgY28ucHRyLmVuZCh7IHN1Y2Nlc3M6IGZ1bmN0");
    sb.append("aW9uICgpIHsgfSwgZmFpbHVyZTogZnVuY3Rpb24gKCkgeyB9IH0pOwogICAgICBjby5wdHIgPSBudWxs");
    sb.append("OwogICAgfQogICAgcmV0dXJuIGJpbmQ7CiAgfTsKCiAgLy8gPGNvbm5lY3Rpb24gdXNlLWRvbWFpbiAu");
    sb.append("Li4+CiAgc2VsZi5EQ09OTkVDVCA9IGZ1bmN0aW9uIChzdGF0ZSwgcnhvYmopIHsKICAgIHZhciB1bnN1");
    sb.append("YiA9IHsKICAgICAgdmlldzogZnVuY3Rpb24gKCkgewogICAgICB9CiAgICB9OwogICAgcnhvYmouX18g");
    sb.append("PSBkZWJvdW5jZSg1LCBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICghKCduYW1lJyBpbiByeG9iaikpIHsK");
    sb.append("ICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIGlkTG9va3VwID0gc2VsZi5JRChyeG9iai5p");
    sb.append("ZGVudGl0eSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gcnhvYmoucmVkaXJlY3Q7IH0pOwogICAgICBpZiAo");
    sb.append("aWRMb29rdXAuYWJvcnQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIGNvID0gZ2V0");
    sb.append("X2Nvbm5lY3Rpb25fb2JqKHJ4b2JqLm5hbWUpOwogICAgICB2YXIgZG9tYWluID0gbG9jYXRpb24uaG9z");
    sb.append("dC5zcGxpdCgiOiIpWzBdOwogICAgICB2YXIgZGVzaXJlZCA9IGRvbWFpbiArIGlkTG9va3VwLmlkZW50");
    sb.append("aXR5OwogICAgICB2YXIgYmluZCA9IHNldHVwX2NvKGRlc2lyZWQsIHVuc3ViLCBjbywgc3RhdGUpOwog");
    sb.append("ICAgICBpZiAoYmluZCA9PT0gZmFsc2UpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgY28u");
    sb.append("Ym91bmQgPSBkZXNpcmVkOwoKICAgICAgdmFyIGlkZW50aXR5ID0gaWRMb29rdXAuaWRlbnRpdHk7CiAg");
    sb.append("ICAgIHZhciBjbGVhbnVwID0gaWRMb29rdXAuY2xlYW51cDsKICAgICAgdW5zdWIudmlldygpOwogICAg");
    sb.append("ICBjby5pZGVudGl0eSA9IGlkZW50aXR5OwogICAgICBjby5oYW5kbGVycyA9IHt9OwogICAgICBjby52");
    sb.append("aWV3c3RhdGVfc2VudCA9IHRydWU7CiAgICAgIGNvLmxhYmVsID0gIkRvbWFpbjoiICsgZG9tYWluICsg");
    sb.append("IiBbICIgKyByeG9iai5uYW1lICsgIl0iOwogICAgICBjby52aWFfZG9tYWluID0gdHJ1ZTsKICAgICAg");
    sb.append("Y28uZG9tYWluID0gZG9tYWluOwogICAgICB2YXIgcmV0cnlfc20gPSB7fTsKICAgICAgcmV0cnlfc20u");
    sb.append("cmVzcG9uZGVyID0gYmluZF9yZXNwb25kZXIoY28sIHN0YXRlLCBjbGVhbnVwLCByZXRyeV9zbSk7CiAg");
    sb.append("ICAgIHJldHJ5X3NtLmdvID0gZnVuY3Rpb24oKSB7CiAgICAgICAgLy8gYmlhcyB0byBub3RoaW5nIG5l");
    sb.append("dwogICAgICAgIGNvLnZpZXdzdGF0ZV9jbG9uZSA9ICJ7fSI7CiAgICAgICAgY28ucHRyID0gY29ubmVj");
    sb.append("dGlvbi5Db25uZWN0aW9uQ3JlYXRlVmlhRG9tYWluKGlkZW50aXR5LCBkb21haW4sIHN0YXRlLnZpZXcu");
    sb.append("dHJlZS5jb3B5KCksIHJldHJ5X3NtLnJlc3BvbmRlcik7CiAgICAgIH07CiAgICAgIHJldHJ5X3NtLmdv");
    sb.append("KCk7CiAgICAgIGNvLnRyZWUudXBkYXRlKHt9KTsKICAgICAgYmluZChmYWxzZSk7CiAgICB9KTsKICB9");
    sb.append("OwoKICAvLyA8Y29ubmVjdGlvbiAuLi4+CiAgc2VsZi5DT05ORUNUID0gZnVuY3Rpb24gKHN0YXRlLCBy");
    sb.append("eG9iaikgewogICAgdmFyIHVuc3ViID0gewogICAgICB2aWV3OiBmdW5jdGlvbiAoKSB7CiAgICAgIH0K");
    sb.append("ICAgIH07CiAgICByeG9iai5fXyA9IGRlYm91bmNlKDUsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHZh");
    sb.append("bGlkID0gJ2tleScgaW4gcnhvYmogJiYgJ3NwYWNlJyBpbiByeG9iaiAmJiAnbmFtZScgaW4gcnhvYmo7");
    sb.append("CiAgICAgIGlmICghdmFsaWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIGlkTG9v");
    sb.append("a3VwID0gc2VsZi5JRChyeG9iai5pZGVudGl0eSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gcnhvYmoucmVk");
    sb.append("aXJlY3Q7IH0pOwogICAgICBpZiAoaWRMb29rdXAuYWJvcnQpIHsKICAgICAgICByZXR1cm47CiAgICAg");
    sb.append("IH0KICAgICAgdmFyIGNvID0gZ2V0X2Nvbm5lY3Rpb25fb2JqKHJ4b2JqLm5hbWUpOwogICAgICB2YXIg");
    sb.append("ZGVzaXJlZCA9IHJ4b2JqLnNwYWNlICsgIi8iICsgcnhvYmoua2V5ICsgIi8iICsgaWRMb29rdXAuaWRl");
    sb.append("bnRpdHk7IC8vIFRPRE86IG5lZWQgc29tZSBraW5kIG9mIGhhc2hpbmcgZnVuY3Rpb24gaGVyZQogICAg");
    sb.append("ICB2YXIgYmluZCA9IHNldHVwX2NvKGRlc2lyZWQsIHVuc3ViLCBjbywgc3RhdGUpOwogICAgICBpZiAo");
    sb.append("YmluZCA9PT0gZmFsc2UpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgY28uYm91bmQgPSBk");
    sb.append("ZXNpcmVkOwoKICAgICAgdmFyIGlkZW50aXR5ID0gaWRMb29rdXAuaWRlbnRpdHk7CiAgICAgIHZhciBj");
    sb.append("bGVhbnVwID0gaWRMb29rdXAuY2xlYW51cDsKICAgICAgdW5zdWIudmlldygpOwogICAgICBjby5zcGFj");
    sb.append("ZSA9IHJ4b2JqLnNwYWNlOwogICAgICBjby5rZXkgPSByeG9iai5rZXk7CiAgICAgIGNvLmlkZW50aXR5");
    sb.append("ID0gaWRlbnRpdHk7CiAgICAgIGNvLmhhbmRsZXJzID0ge307CiAgICAgIGNvLnZpZXdzdGF0ZV9zZW50");
    sb.append("ID0gdHJ1ZTsKICAgICAgY28ubGFiZWwgPSBjby5zcGFjZSArICIvIiArIGNvLmtleSArICIgWyAiICsg");
    sb.append("cnhvYmoubmFtZSArICJdIjsKICAgICAgY28udmlhX2RvbWFpbiA9IGZhbHNlOwogICAgICB2YXIgcmV0");
    sb.append("cnlfc20gPSB7fTsKICAgICAgcmV0cnlfc20ucmVzcG9uZGVyID0gYmluZF9yZXNwb25kZXIoY28sIHN0");
    sb.append("YXRlLCBjbGVhbnVwLCByZXRyeV9zbSk7CiAgICAgIHJldHJ5X3NtLmdvID0gZnVuY3Rpb24oKSB7CiAg");
    sb.append("ICAgICAgLy8gYmlhcyB0byBub3RoaW5nIG5ldwogICAgICAgIGNvLnZpZXdzdGF0ZV9jbG9uZSA9ICJ7");
    sb.append("fSI7CiAgICAgICAgY28ucHRyID0gY29ubmVjdGlvbi5Db25uZWN0aW9uQ3JlYXRlKGlkZW50aXR5LCBy");
    sb.append("eG9iai5zcGFjZSwgcnhvYmoua2V5LCBzdGF0ZS52aWV3LnRyZWUuY29weSgpLCByZXRyeV9zbS5yZXNw");
    sb.append("b25kZXIpOwogICAgICB9OwogICAgICByZXRyeV9zbS5nbygpOwogICAgICBjby50cmVlLnVwZGF0ZSh7");
    sb.append("fSk7CiAgICAgIGJpbmQoZmFsc2UpOwogICAgfSk7CiAgfTsKCiAgc2VsZi5JTlRFUk5BTCA9IGZ1bmN0");
    sb.append("aW9uIChwcmlvclN0YXRlKSB7CiAgICByZXR1cm4gewogICAgICBzZXJ2aWNlOiBwcmlvclN0YXRlLnNl");
    sb.append("cnZpY2UsCiAgICAgIGRhdGE6IHsgY29ubmVjdGlvbjogbnVsbCwgdHJlZTogbmV3IEFkYW1hVHJlZSgp");
    sb.append("LCBkZWx0YToge30sIHBhcmVudDogbnVsbCwgcGF0aDogbnVsbCB9LAogICAgICB2aWV3OiBuZXdfZGVs");
    sb.append("dGFfY29weShwcmlvclN0YXRlLnZpZXcpLAogICAgICBjdXJyZW50OiAiZGF0YSIKICAgIH07CiAgfTsK");
    sb.append("CiAgdmFyIHJlY2FsbF9lbWFpbCA9IGZ1bmN0aW9uIChlbCkgewogICAgaWYgKGVsLnRhZ05hbWUudG9V");
    sb.append("cHBlckNhc2UoKSA9PSAiSU5QVVQiKSB7CiAgICAgIGlmICgiZW1haWwiID09IGVsLnR5cGUgJiYgImVt");
    sb.append("YWlsIiA9PSBlbC5uYW1lKSB7CiAgICAgICAgZWwudmFsdWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgi");
    sb.append("ZW1haWxfcmVtZW1iZXIiKTsKICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgaWYgKCJjaGlsZHJlbiIg");
    sb.append("aW4gZWwpIHsKICAgICAgICB2YXIgYXJyID0gZWwuY2hpbGRyZW47CiAgICAgICAgdmFyIG4gPSBhcnIu");
    sb.append("bGVuZ3RoOwogICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgbjsgaysrKSB7CiAgICAgICAgICByZWNh");
    sb.append("bGxfZW1haWwoZWwuY2hpbGRyZW5ba10pOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIHNl");
    sb.append("bGYuYVVQID0gZnVuY3Rpb24gKGZvcm0sIHN0YXRlLCBpZGVudGl0eU5hbWUsIHJ4b2JqKSB7CiAgICB2");
    sb.append("YXIgaWRMb29rdXAgPSBzZWxmLklEKGlkZW50aXR5TmFtZSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gcnhv");
    sb.append("YmoucnhfZm9yd2FyZDsgfSk7IC8vIFRPRE86IG1ha2Ugcnh2YXIKICAgIGlmIChpZExvb2t1cC5hYm9y");
    sb.append("dCkgewogICAgICByZXR1cm47CiAgICB9CiAgICBmb3JtLmFjdGlvbiA9ICJodHRwczovL2F3cy11cy1l");
    sb.append("YXN0LTIuYWRhbWEtcGxhdGZvcm0uY29tL351cGxvYWQiOwogICAgZm9ybS5tZXRob2QgPSAicG9zdCI7");
    sb.append("CiAgICBmb3JtLmVuY3R5cGUgPSAibXVsdGlwYXJ0L2Zvcm0tZGF0YSI7CiAgICB2YXIgaWRlbnRpdHlJ");
    sb.append("bnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7CiAgICBpZGVudGl0eUlucHV0LnR5");
    sb.append("cGUgPSAiaGlkZGVuIjsKICAgIGlkZW50aXR5SW5wdXQubmFtZSA9ICJpZGVudGl0eSI7CiAgICBpZGVu");
    sb.append("dGl0eUlucHV0LnZhbHVlID0gaWRMb29rdXAuaWRlbnRpdHk7CiAgICBmb3JtLmFwcGVuZENoaWxkKGlk");
    sb.append("ZW50aXR5SW5wdXQpOwogICAgdmFyIGlmcmFtZVRhcmdldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQo");
    sb.append("ImlmcmFtZSIpOwogICAgaWZyYW1lVGFyZ2V0Lm5hbWUgPSAiVVBMT0FEXyIgKyBNYXRoLnJhbmRvbSgp");
    sb.append("OwogICAgaWZyYW1lVGFyZ2V0LndpZHRoID0gIjEiOwogICAgaWZyYW1lVGFyZ2V0LmhlaWdodCA9ICIx");
    sb.append("IjsKCiAgICBmb3JtLmFwcGVuZENoaWxkKGlmcmFtZVRhcmdldCk7CiAgICBmb3JtLnRhcmdldCA9IGlm");
    sb.append("cmFtZVRhcmdldC5uYW1lOwogIH07CgogIHNlbGYuYURVUCA9IGZ1bmN0aW9uIChmb3JtLCBzdGF0ZSwg");
    sb.append("aWRlbnRpdHlOYW1lLCByeG9iaikgewogICAgdmFyIGlkTG9va3VwID0gc2VsZi5JRChpZGVudGl0eU5h");
    sb.append("bWUsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHJ4b2JqLnJ4X2ZvcndhcmQ7IH0pOyAvLyBUT0RPOiBtYWtl");
    sb.append("IHJ4dmFyCiAgICBpZiAoaWRMb29rdXAuYWJvcnQpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgZm9y");
    sb.append("bS5hY3Rpb24gPSAiaHR0cHM6Ly9hd3MtdXMtZWFzdC0yLmFkYW1hLXBsYXRmb3JtLmNvbS9+dXBsb2Fk");
    sb.append("IjsKICAgIGZvcm0ubWV0aG9kID0gInBvc3QiOwogICAgZm9ybS5lbmN0eXBlID0gIm11bHRpcGFydC9m");
    sb.append("b3JtLWRhdGEiOwogICAgewogICAgICB2YXIgaWRlbnRpdHlJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVs");
    sb.append("ZW1lbnQoImlucHV0Iik7CiAgICAgIGlkZW50aXR5SW5wdXQudHlwZSA9ICJoaWRkZW4iOwogICAgICBp");
    sb.append("ZGVudGl0eUlucHV0Lm5hbWUgPSAiaWRlbnRpdHkiOwogICAgICBpZGVudGl0eUlucHV0LnZhbHVlID0g");
    sb.append("aWRMb29rdXAuaWRlbnRpdHk7CiAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoaWRlbnRpdHlJbnB1dCk7CiAg");
    sb.append("ICB9CiAgICB7CiAgICAgIHZhciBkb21haW5JbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlu");
    sb.append("cHV0Iik7CiAgICAgIGRvbWFpbklucHV0LnR5cGUgPSAiaGlkZGVuIjsKICAgICAgZG9tYWluSW5wdXQu");
    sb.append("bmFtZSA9ICJkb21haW4iOwogICAgICBkb21haW5JbnB1dC52YWx1ZSA9IGxvY2F0aW9uLmhvc3RuYW1l");
    sb.append("OwogICAgICBmb3JtLmFwcGVuZENoaWxkKGRvbWFpbklucHV0KTsKICAgIH0KICAgIHZhciBpZnJhbWVU");
    sb.append("YXJnZXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJpZnJhbWUiKTsKICAgIGlmcmFtZVRhcmdldC5u");
    sb.append("YW1lID0gIlVQTE9BRF8iICsgTWF0aC5yYW5kb20oKTsKICAgIGlmcmFtZVRhcmdldC53aWR0aCA9ICIx");
    sb.append("IjsKICAgIGlmcmFtZVRhcmdldC5oZWlnaHQgPSAiMSI7CiAgICBmb3JtLmFwcGVuZENoaWxkKGlmcmFt");
    sb.append("ZVRhcmdldCk7CiAgICBmb3JtLnRhcmdldCA9IGlmcmFtZVRhcmdldC5uYW1lOwogIH07CgogIC8vIFJV");
    sb.append("TlRJTUUgfCByeDphY3Rpb249ZG9tYWluOnNpZ24taW4KICBzZWxmLmFkRFNPID0gZnVuY3Rpb24gKGZv");
    sb.append("cm0sIHN0YXRlLCBpZGVudGl0eU5hbWUsIHJ4b2JqKSB7CiAgICByeG9iai5fXyA9IGZ1bmN0aW9uICgp");
    sb.append("IHsgfTsKICAgIGZvcm0ub25zdWJtaXQgPSBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgIGV2dC5wcmV2ZW50");
    sb.append("RGVmYXVsdCgpOwogICAgICB2YXIgcmVxID0gZ2V0X2Zvcm0oZm9ybSwgdHJ1ZSk7CiAgICAgIGNvbm5l");
    sb.append("Y3Rpb24uRG9jdW1lbnRBdXRob3JpemVEb21haW4obG9jYXRpb24uaG9zdG5hbWUsIHJlcS51c2VybmFt");
    sb.append("ZSwgcmVxLnBhc3N3b3JkLCB7CiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHBheWxvYWQpIHsKICAg");
    sb.append("ICAgICAgIGlkZW50aXRpZXNbaWRlbnRpdHlOYW1lXSA9IHBheWxvYWQuaWRlbnRpdHk7CiAgICAgICAg");
    sb.append("ICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaWRlbnRpdHlfIiArIGlkZW50aXR5TmFtZSwgcGF5bG9hZC5p");
    sb.append("ZGVudGl0eSk7CiAgICAgICAgICAvLyBUT0RPOiBibG93IGF3YXkgY29ubmVjdGlvbnMKICAgICAgICAg");
    sb.append("IHNlbGYuZ290byhyeG9iai5yeF9mb3J3YXJkKTsKICAgICAgICAgIGZpcmVfc3VjY2Vzcyhmb3JtKTsK");
    sb.append("ICAgICAgICB9LAogICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAgIGZp");
    sb.append("cmVfZmFpbHVyZShmb3JtLCAiRmFpbGVkIHNpZ25pbmcgaW50byBkb2N1bWVudDoiICsgcmVhc29uKTsK");
    sb.append("ICAgICAgICB9CiAgICAgIH0pOwogICAgfTsKICB9CgogIC8vIFJVTlRJTUUgfCByeDphY3Rpb249ZG9j");
    sb.append("dW1lbnQ6c2lnbi1pbgogIHNlbGYuYURTTyA9IGZ1bmN0aW9uIChmb3JtLCBzdGF0ZSwgaWRlbnRpdHlO");
    sb.append("YW1lLCByeG9iaikgewogICAgcnhvYmouX18gPSBmdW5jdGlvbiAoKSB7IH07CiAgICBmb3JtLm9uc3Vi");
    sb.append("bWl0ID0gZnVuY3Rpb24gKGV2dCkgewogICAgICBldnQucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFy");
    sb.append("IHJlcSA9IGdldF9mb3JtKGZvcm0sIHRydWUpOwogICAgICBjb25uZWN0aW9uLkRvY3VtZW50QXV0aG9y");
    sb.append("aXplKHJlcS5zcGFjZSwgcmVxLmtleSwgcmVxLnVzZXJuYW1lLCByZXEucGFzc3dvcmQsIHsKICAgICAg");
    sb.append("ICBzdWNjZXNzOiBmdW5jdGlvbiAocGF5bG9hZCkgewogICAgICAgICAgaWRlbnRpdGllc1tpZGVudGl0");
    sb.append("eU5hbWVdID0gcGF5bG9hZC5pZGVudGl0eTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJp");
    sb.append("ZGVudGl0eV8iICsgaWRlbnRpdHlOYW1lLCBwYXlsb2FkLmlkZW50aXR5KTsKICAgICAgICAgIC8vIFRP");
    sb.append("RE86IGJsb3cgYXdheSBjb25uZWN0aW9ucwogICAgICAgICAgc2VsZi5nb3RvKHJ4b2JqLnJ4X2Zvcndh");
    sb.append("cmQpOwogICAgICAgICAgZmlyZV9zdWNjZXNzKGZvcm0pOwogICAgICAgIH0sCiAgICAgICAgZmFpbHVy");
    sb.append("ZTogZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgZmlyZV9mYWlsdXJlKGZvcm0sICJGYWlsZWQg");
    sb.append("c2lnbmluZyBpbnRvIGRvY3VtZW50OiIgKyByZWFzb24pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9");
    sb.append("OwogIH07CiAgLy8gdHJhbnNmb3JtID0gZm9ybWF0X2RhdGVfdXNhCgogIHZhciB0cmFuc2Zvcm1zID0g");
    sb.append("e307CiAgdHJhbnNmb3Jtc1sncHJpbmNpcGFsLmFnZW50J10gPSBmdW5jdGlvbih4KSB7IHJldHVybiB4");
    sb.append("LmFnZW50OyB9OwogIHRyYW5zZm9ybXNbJ3ByaW5jaXBhbC5hdXRob3JpdHknXSA9IGZ1bmN0aW9uKHgp");
    sb.append("IHsgcmV0dXJuIHguYXV0aG9yaXR5OyB9OwogIHRyYW5zZm9ybXNbJ3RyaW0nXSA9IGZ1bmN0aW9uKHgp");
    sb.append("IHsgcmV0dXJuICgnJyArIHgpLnRyaW0oKTsgfTsKICB0cmFuc2Zvcm1zWyd1cHBlciddID0gZnVuY3Rp");
    sb.append("b24oeCkgeyByZXR1cm4gKCcnICsgeCkudG9VcHBlckNhc2UoKTsgfTsKICB0cmFuc2Zvcm1zWydsb3dl");
    sb.append("ciddID0gZnVuY3Rpb24oeCkgeyByZXR1cm4gKCcnICsgeCkudG9Mb3dlckNhc2UoKTsgfTsKICB0cmFu");
    sb.append("c2Zvcm1zWydpc19lbXB0eV9zdHInXSA9IGZ1bmN0aW9uKHgpIHsgcmV0dXJuIHggPT0gIiI7IH07CiAg");
    sb.append("dHJhbnNmb3Jtc1snaXNfbm90X2VtcHR5X3N0ciddID0gZnVuY3Rpb24oeCkgeyByZXR1cm4geCAhPSAi");
    sb.append("IjsgfTsKICB0cmFuc2Zvcm1zWydqc29uaWZ5J10gPSBmdW5jdGlvbih4KSB7IHJldHVybiBKU09OLnN0");
    sb.append("cmluZ2lmeSh4KTsgfTsKICB0cmFuc2Zvcm1zWyd0aW1lX25vdyddID0gZnVuY3Rpb24oeCkgeyByZXR1");
    sb.append("cm4gRGF0ZS5ub3coKSArICIiOyB9OwogIHRyYW5zZm9ybXNbJ3RpbWVfYWdvJ10gPSBmdW5jdGlvbihk");
    sb.append("dCkgewogICAgLy8gb25seSB0cmFuc2Zvcm0gc3RyaW5ncwogICAgaWYgKHR5cGVvZiAoZHQpID09ICJz");
    sb.append("dHJpbmciKSB7CiAgICAgIC8vIGxldCdzIHN0cmlwIG91dCBldmVyeXRoaW5nIGFmdGVyIHRoZSBicmFj");
    sb.append("a2V0cwogICAgICB2YXIgcyA9IGR0OwogICAgICB2YXIgayA9IHMuaW5kZXhPZignWycpOwogICAgICBp");
    sb.append("ZiAoayA+PSAwKSB7CiAgICAgICAgcyA9IHMuc3Vic3RyaW5nKDAsIGspOwogICAgICB9CiAgICAgIHZh");
    sb.append("ciBkID0gRGF0ZS5wYXJzZShzKTsKICAgICAgaWYgKE51bWJlci5pc05hTihkKSkgewogICAgICAgIC8v");
    sb.append("IGl0IGlzbid0IGEgbnVtYmVyLCBzbyB3ZSBkaWRuJ3QgZ2V0IGEgZGF0ZSBzdGFtcDsgZGVmYXVsdCB0");
    sb.append("byB0aGUgaW5wdXQKICAgICAgICByZXR1cm4gZHQ7CiAgICAgIH0KICAgICAgLy8gd2UgYXJlIGludGVy");
    sb.append("ZXN0ZWQgaW4gcHJvZHVjaW5nIGEgc3RyaW5nIGxpa2UgIlggbWludXRlcyBhZ28iLCBzbyBzdGFydCB3");
    sb.append("aXRoIHNlY29uZHMKICAgICAgdmFyIGRlbHRhID0gKERhdGUubm93KCkgLSBkKS8xMDAwOyAvLyBzZWNv");
    sb.append("bmRzOwogICAgICBpZiAoZGVsdGEgPCA2MCkgewogICAgICAgIHJldHVybiBNYXRoLmZsb29yKGRlbHRh");
    sb.append("KSArICIgc2Vjb25kcyBhZ28iOwogICAgICB9CiAgICAgIC8vIGl0IHdhc24ndCA5MCBzZWNvbmRzIGFn");
    sb.append("byBvciBsZXNzLCBzbyBsZXQncyByZWZpbmUgdG93YXJkcyBtaW51dGVzCiAgICAgIGRlbHRhIC89IDYw");
    sb.append("OyAvLyBub3cgaXQgaXMgbWludXRlcwogICAgICBpZiAoZGVsdGEgPCA2MCkgewogICAgICAgIHJldHVy");
    sb.append("biBNYXRoLmZsb29yKGRlbHRhKSArICIgbWludXRlcyBhZ28iOwogICAgICB9CiAgICAgIC8vIGl0IHdh");
    sb.append("c24ndCA5MCBtaW51dGVzIGFnbywgc28gbGV0J3MganVzdCBwdXQgdGhlIHRpbWUgc3RhbXAgdXAKICAg");
    sb.append("ICAgdmFyIGR0aGVuID0gbmV3IERhdGUoZCk7CiAgICAgIHZhciBkbm93ID0gbmV3IERhdGUoKTsKICAg");
    sb.append("ICAgaWYgKGR0aGVuLnRvTG9jYWxlRGF0ZVN0cmluZygpICE9IGRub3cudG9Mb2NhbGVEYXRlU3RyaW5n");
    sb.append("KCkpIHsKICAgICAgICByZXR1cm4gZHRoZW4udG9Mb2NhbGVEYXRlU3RyaW5nKCkgKyAiICIgKyBkdGhl");
    sb.append("bi50b0xvY2FsZVRpbWVTdHJpbmcoKTsKICAgICAgfQogICAgICByZXR1cm4gZHRoZW4udG9Mb2NhbGVU");
    sb.append("aW1lU3RyaW5nKCk7CiAgICB9IGVsc2UgewogICAgICAvLyBkbyBub3RoaW5nCiAgICAgIHJldHVybiBk");
    sb.append("dDsKICAgIH0KICB9OwoKICBzZWxmLlJUUiA9IGZ1bmN0aW9uKG5hbWUsIHRyYW5zZm9ybSkgewogICAg");
    sb.append("dHJhbnNmb3Jtc1tuYW1lXSA9IHRyYW5zZm9ybTsKICB9OwogIHNlbGYucmVnaXN0ZXJUcmFuc2Zvcm0g");
    sb.append("PSBzZWxmLlJUUjsKCiAgLy8ge2JsYWh8bmFtZX0KICBzZWxmLlRSID0gZnVuY3Rpb24obmFtZSkgewog");
    sb.append("ICAgaWYgKG5hbWUgaW4gdHJhbnNmb3JtcykgewogICAgICByZXR1cm4gdHJhbnNmb3Jtc1tuYW1lXTsK");
    sb.append("ICAgIH0KICAgIHJldHVybiBmdW5jdGlvbih4KSB7IHJldHVybiB4OyB9OwogIH07CgogIC8vIFRPRE8K");
    sb.append("ICB2YXIgdmFsaWRhdG9ycyA9IHt9OwogIHNlbGYuUlYgPSBmdW5jdGlvbihuYW1lLCB2YWxpZGF0b3Ip");
    sb.append("IHsKICAgIHZhbGlkYXRvcnNbbmFtZV0gPSB2YWxpZGF0b3I7CiAgfTsKICBzZWxmLnJlZ2lzdGVyVmFs");
    sb.append("aWRhdG9yID0gc2VsZi5SVjsKCiAgdmFyIGNvbW1vblB1dCA9IGZ1bmN0aW9uIChmb3JtLCBzdGF0ZSwg");
    sb.append("aWRlbnRpdHlOYW1lLCByeG9iaiwgdXJsZmFjdG9yeSkgewogICAgLy8gV0lQCiAgICByeG9iai5fXyA9");
    sb.append("IGZ1bmN0aW9uICgpIHsgfTsKICAgIGZvcm0ub25zdWJtaXQgPSBmdW5jdGlvbiAoZXZ0KSB7CiAgICAg");
    sb.append("IGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgcmVxID0gZ2V0X2Zvcm0oZm9ybSwgZmFsc2Up");
    sb.append("OwogICAgICAvLyBUT0RPOiB0aGlzIGFzc3VtZXMgZXhhY3RseSBvbmUgcGFzc3dvcmQgaW4gdGhlIHJv");
    sb.append("b3QgbWVzc2FnZQogICAgICB2YXIgcHdzID0gZ2V0X3Bhc3N3b3JkKGZvcm0pOwoKICAgICAgdmFyIG5l");
    sb.append("eHQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdmFyIHVybCA9IHVybGZhY3RvcnkocnhvYmopOwogICAg");
    sb.append("ICAgIHZhciB4aHR0cCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwogICAgICAgIHhodHRwLm9ucmVhZHlz");
    sb.append("dGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT0g");
    sb.append("NCkgewogICAgICAgICAgICBpZiAodGhpcy5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICAgICAgdmFy");
    sb.append("IHR5cGUgPSB0aGlzLmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUiKTsKICAgICAgICAgICAg");
    sb.append("ICBpZiAodHlwZSA9PSAidGV4dC9lcnJvciIpIHsKICAgICAgICAgICAgICAgIGZpcmVfZmFpbHVyZShm");
    sb.append("b3JtLCB0aGlzLnJlc3BvbnNlVGV4dCk7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAg");
    sb.append("ICAgfSBlbHNlIGlmICh0eXBlID09ICJhcHBsaWNhdGlvbi9qc29uIikgewogICAgICAgICAgICAgICAg");
    sb.append("dmFyIHBheWxvYWQgPSBKU09OLnBhcnNlKHRoaXMucmVzcG9uc2VUZXh0KTsKICAgICAgICAgICAgICAg");
    sb.append("IGlmICgnaWRlbnRpdHknIGluIHBheWxvYWQpIHsKICAgICAgICAgICAgICAgICAgaWRlbnRpdGllc1tp");
    sb.append("ZGVudGl0eU5hbWVdID0gcGF5bG9hZC5pZGVudGl0eTsKICAgICAgICAgICAgICAgICAgbG9jYWxTdG9y");
    sb.append("YWdlLnNldEl0ZW0oImlkZW50aXR5XyIgKyBpZGVudGl0eU5hbWUsIHBheWxvYWQuaWRlbnRpdHkpOwog");
    sb.append("ICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBzZWxmLmdvdG8ocnhv");
    sb.append("YmoucnhfZm9yd2FyZCk7CiAgICAgICAgICAgICAgZmlyZV9zdWNjZXNzKGZvcm0pOwogICAgICAgICAg");
    sb.append("ICB9IGVsc2UgewogICAgICAgICAgICAgIGZpcmVfZmFpbHVyZShmb3JtLCAiRmFpbGVkIHRvIGNvbW11");
    sb.append("bmljYXRlIHRvIHNlcnZlciIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfTsKICAg");
    sb.append("ICAgICB4aHR0cC5vcGVuKCJQVVQiLCB1cmwsIHRydWUpOwogICAgICAgIHhodHRwLndpdGhDcmVkZW50");
    sb.append("aWFscyA9IHRydWU7CiAgICAgICAgeGh0dHAuc2VuZChKU09OLnN0cmluZ2lmeShyZXEpKTsKICAgICAg");
    sb.append("fTsKCiAgICAgIGlmIChwd3MgIT09IG51bGwpIHsKICAgICAgICBjb25uZWN0aW9uLkRvY3VtZW50c0hh");
    sb.append("c2hQYXNzd29yZChwd3NbMV0sIHsKICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChoYXNoZWRfcHcp");
    sb.append("IHsKICAgICAgICAgICAgcmVxW3B3c1swXV0gPSBoYXNoZWRfcHcucGFzc3dvcmRIYXNoOwogICAgICAg");
    sb.append("ICAgICBuZXh0KCk7CiAgICAgICAgICB9LAogICAgICAgICAgZmFpbGVkOiBmdW5jdGlvbiAoKSB7CiAg");
    sb.append("ICAgICAgICAgIGZpcmVfZmFpbHVyZShmb3JtLCAiRmFpbGVkIHRvIGhhc2ggcGFzc3dvcmQiKTsKICAg");
    sb.append("ICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBuZXh0KCk7CiAgICAgIH0K");
    sb.append("ICAgIH07CiAgfQoKICAvLyBSVU5USU1FIHwgcng6YWN0aW9uPWRvbWFpbjpwdXQKICBzZWxmLmFkRFBV");
    sb.append("VCA9IGZ1bmN0aW9uIChmb3JtLCBzdGF0ZSwgaWRlbnRpdHlOYW1lLCByeG9iaikgewogICAgY29tbW9u");
    sb.append("UHV0KGZvcm0sIHN0YXRlLCBpZGVudGl0eU5hbWUsIHJ4b2JqLCBmdW5jdGlvbiAocnhvYmopIHsgcmV0");
    sb.append("dXJuIGxvY2F0aW9uLnByb3RvY29sICsgIi8vIiArIGxvY2F0aW9uLmhvc3QgKyAiLyIgKyByeG9iai5w");
    sb.append("YXRoOyB9KQogIH07CgogIC8vIFJVTlRJTUUgfCByeDphY3Rpb249ZG9jdW1lbnQ6cHV0CiAgc2VsZi5h");
    sb.append("RFBVVCA9IGZ1bmN0aW9uIChmb3JtLCBzdGF0ZSwgaWRlbnRpdHlOYW1lLCByeG9iaikgewogICAgY29t");
    sb.append("bW9uUHV0KGZvcm0sIHN0YXRlLCBpZGVudGl0eU5hbWUsIHJ4b2JqLCBmdW5jdGlvbiAocnhvYmopIHsg");
    sb.append("cmV0dXJuICJodHRwczovLyIgKyBjb25uZWN0aW9uLmhvc3QgKyAiLyIgKyByeG9iai5zcGFjZSArICIv");
    sb.append("IiArIHJ4b2JqLmtleSArICIvIiArIHJ4b2JqLnBhdGg7IH0pCiAgfTsKCiAgLy8gUlVOVElNRSB8IHJ4");
    sb.append("OmFjdGlvbj1hZGFtYTpzaWduLWluCiAgc2VsZi5hU08gPSBmdW5jdGlvbiAoZm9ybSwgc3RhdGUsIGlk");
    sb.append("ZW50aXR5TmFtZSwgcnhvYmopIHsKICAgIHJ4b2JqLl9fID0gZnVuY3Rpb24gKCkgeyB9OwogICAgd2lu");
    sb.append("ZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICByZWNhbGxfZW1haWwoZm9ybSk7CiAgICB9");
    sb.append("LCAxKTsKICAgIC8vIFRPRE86IHB1bGwgZW1haWwgb3V0IG9mIHRoaW4gYWlyCiAgICBmb3JtLm9uc3Vi");
    sb.append("bWl0ID0gZnVuY3Rpb24gKGV2dCkgewogICAgICBldnQucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFy");
    sb.append("IHJlcSA9IGdldF9mb3JtKGZvcm0sIHRydWUpOwogICAgICBpZiAocmVxLnJlbWVtYmVyKSB7CiAgICAg");
    sb.append("ICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImVtYWlsX3JlbWVtYmVyIiwgcmVxLmVtYWlsKTsKICAgICAg");
    sb.append("fSBlbHNlIHsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiZW1haWxfcmVtZW1iZXIiLCAiIik7");
    sb.append("CiAgICAgIH0KICAgICAgY29ubmVjdGlvbi5BY2NvdW50TG9naW4ocmVxLmVtYWlsLCByZXEucGFzc3dv");
    sb.append("cmQsIHsKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocGF5bG9hZCkgewogICAgICAgICAgaWRlbnRp");
    sb.append("dGllc1tpZGVudGl0eU5hbWVdID0gcGF5bG9hZC5pZGVudGl0eTsKICAgICAgICAgIGxvY2FsU3RvcmFn");
    sb.append("ZS5zZXRJdGVtKCJpZGVudGl0eV8iICsgaWRlbnRpdHlOYW1lLCBwYXlsb2FkLmlkZW50aXR5KTsKICAg");
    sb.append("ICAgICAgIHNlbGYuZ290byhyeG9iai5yeF9mb3J3YXJkKTsKICAgICAgICAgIGZpcmVfc3VjY2Vzcyhm");
    sb.append("b3JtKTsKICAgICAgICB9LAogICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAg");
    sb.append("ICAgIGZpcmVfZmFpbHVyZShmb3JtLCAiQWNjb3VudExvZ2luIEZhaWxlZDoiICsgcmVhc29uKTsKICAg");
    sb.append("ICAgICB9CiAgICAgIH0pOwogICAgfTsKICB9OwoKICAvLyBSVU5USU1FIHwgcng6YWN0aW9uPWFkYW1h");
    sb.append("OnNpZ24tdXAKICBzZWxmLmFTVSA9IGZ1bmN0aW9uIChmb3JtLCBzdGF0ZSwgZm9yd2FyZFRvKSB7CiAg");
    sb.append("ICBmb3JtLm9uc3VibWl0ID0gZnVuY3Rpb24gKGV2dCkgewogICAgICBldnQucHJldmVudERlZmF1bHQo");
    sb.append("KTsKICAgICAgdmFyIHJlcSA9IGdldF9mb3JtKGZvcm0pOwogICAgICBjb25uZWN0aW9uLkluaXRTZXR1");
    sb.append("cEFjY291bnQocmVxLmVtYWlsLCB7CiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKC8qIHBheWxvYWQg");
    sb.append("Ki8pIHsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJlbWFpbCIsIHJlcS5lbWFpbCk7CiAg");
    sb.append("ICAgICAgICBzZWxmLmdvdG8oZm9yd2FyZFRvKTsKICAgICAgICAgIGZpcmVfc3VjY2Vzcyhmb3JtKTsK");
    sb.append("ICAgICAgICB9LAogICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAgIGZp");
    sb.append("cmVfZmFpbHVyZShmb3JtLCAiSW5pdFNldHVwQWNjb3VudCBGYWlsZWQ6IiArIHJlYXNvbik7CiAgICAg");
    sb.append("ICAgfQogICAgICB9KTsKICAgIH07CiAgfTsKCiAgLy8gUlVOVElNRSB8IHJ4OmFjdGlvbj1hZGFtYTpz");
    sb.append("ZXQtcGFzc3dvcmQKICBzZWxmLmFTUCA9IGZ1bmN0aW9uIChmb3JtLCBzdGF0ZSwgZm9yd2FyZFRvKSB7");
    sb.append("CiAgICBmb3JtLm9uc3VibWl0ID0gZnVuY3Rpb24gKGV2dCkgewogICAgICBldnQucHJldmVudERlZmF1");
    sb.append("bHQoKTsKICAgICAgdmFyIHJlcSA9IGdldF9mb3JtKGZvcm0sIHRydWUpOwogICAgICBpZiAoISgiZW1h");
    sb.append("aWwiIGluIHJlcSkpIHsKICAgICAgICByZXEuZW1haWwgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiZW1h");
    sb.append("aWwiKTsKICAgICAgfQogICAgICBjb25uZWN0aW9uLkluaXRDb21wbGV0ZUFjY291bnQocmVxLmVtYWls");
    sb.append("LCBmYWxzZSwgcmVxLmNvZGUsIHsKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoaW5pdCkgewogICAg");
    sb.append("ICAgICAgdmFyIGlkZW50aXR5ID0gaW5pdC5pZGVudGl0eTsKICAgICAgICAgIGNvbm5lY3Rpb24uQWNj");
    sb.append("b3VudFNldFBhc3N3b3JkKGluaXQuaWRlbnRpdHksIHJlcS5wYXNzd29yZCwgewogICAgICAgICAgICBz");
    sb.append("dWNjZXNzOiBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImlk");
    sb.append("ZW50aXR5X2RlZmF1bHQiLCBpZGVudGl0eSk7CiAgICAgICAgICAgICAgc2VsZi5nb3RvKGZvcndhcmRU");
    sb.append("byk7CiAgICAgICAgICAgICAgZmlyZV9zdWNjZXNzKGZvcm0pOwogICAgICAgICAgICB9LAogICAgICAg");
    sb.append("ICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICAgICAgZmlyZV9mYWlsdXJl");
    sb.append("KGZvcm0sICJGYWlsZWQgQWNjb3VudFNldFBhc3N3b3JkOiIgKyByZWFzb24pOwogICAgICAgICAgICB9");
    sb.append("CiAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24p");
    sb.append("IHsKICAgICAgICAgIGZpcmVfZmFpbHVyZShmb3JtLCAiRmFpbGVkIEluaXRDb21wbGV0ZUFjY291bnQ6");
    sb.append("IiArIHJlYXNvbik7CiAgICAgICAgfQogICAgICB9KTsKICAgIH07CiAgfTsKCgogIHZhciBoeWRyYXRl");
    sb.append("X2Zvcm0gPSBmdW5jdGlvbihlbCwgaW5wdXQpIHsKICAgIHZhciB0YWcgPSBlbC50YWdOYW1lLnRvVXBw");
    sb.append("ZXJDYXNlKCk7CiAgICB2YXIgaXNTZXR0YWJsZSA9IHRhZyA9PSAiU0VMRUNUIiB8fCB0YWcgPT0gIklO");
    sb.append("UFVUIiB8fCB0YWcgPT0gIkhJRERFTiI7CiAgICBpZiAoJ25hbWUnIGluIGVsICYmIGlzU2V0dGFibGUp");
    sb.append("IHsKICAgICAgdmFyIG5hbWUgPSBlbC5uYW1lOwogICAgICB2YXIgcGF5bG9hZCA9IGlucHV0OwogICAg");
    sb.append("ICB2YXIga0RvdE9yU2xhc2ggPSBmaXJzdE9jY3VyKG5hbWUuaW5kZXhPZignLicpLCBuYW1lLmluZGV4");
    sb.append("T2YoJy8nKSk7CiAgICAgIHdoaWxlIChrRG90T3JTbGFzaCA+IDApIHsKICAgICAgICB2YXIgaXRlbSA9");
    sb.append("IG5hbWUuc3Vic3RyaW5nKDAsIGtEb3RPclNsYXNoKTsKICAgICAgICBuYW1lID0gbmFtZS5zdWJzdHJp");
    sb.append("bmcoa0RvdE9yU2xhc2ggKyAxKTsKICAgICAgICBpZiAoaXRlbSBpbiBwYXlsb2FkKSB7CiAgICAgICAg");
    sb.append("ICBwYXlsb2FkID0gcGF5bG9hZFtpdGVtXTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJu");
    sb.append("OwogICAgICAgIH0KICAgICAgICBrRG90T3JTbGFzaCA9IGZpcnN0T2NjdXIobmFtZS5pbmRleE9mKCcu");
    sb.append("JyksIG5hbWUuaW5kZXhPZignLycpKTsKICAgICAgfQogICAgICBpZiAobmFtZSBpbiBwYXlsb2FkKSB7");
    sb.append("CiAgICAgICAgdmFyIHR5cGUgPSBlbC50eXBlLnRvVXBwZXJDYXNlKCk7CiAgICAgICAgaWYgKHR5cGUg");
    sb.append("PT0gIkNIRUNLQk9YIikgewogICAgICAgICAgZWwuY2hlY2tlZCA9IHBheWxvYWRbbmFtZV0gPT0gInRy");
    sb.append("dWUiIHx8IHBheWxvYWRbbmFtZV0gPT09IHRydWUgPyB0cnVlIDogZmFsc2U7CiAgICAgICAgfSBlbHNl");
    sb.append("IGlmICh0eXBlID09ICJSQURJTyIpIHsKICAgICAgICAgIGlmIChwYXlsb2FkW25hbWVdID09IGVsLnZh");
    sb.append("bHVlKSB7CiAgICAgICAgICAgIGVsLmNoZWNrZWQgPSB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0g");
    sb.append("ZWxzZSB7CiAgICAgICAgICBlbC52YWx1ZSA9IHBheWxvYWRbbmFtZV07CiAgICAgICAgfQogICAgICB9");
    sb.append("CiAgICB9CiAgICBpZiAoImNoaWxkcmVuIiBpbiBlbCkgewogICAgICB2YXIgYXJyID0gZWwuY2hpbGRy");
    sb.append("ZW47CiAgICAgIHZhciBuID0gYXJyLmxlbmd0aDsKICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBuOyBr");
    sb.append("KyspIHsKICAgICAgICB2YXIgY2ggPSBlbC5jaGlsZHJlbltrXTsKICAgICAgICBoeWRyYXRlX2Zvcm0o");
    sb.append("Y2gsIGlucHV0KTsKICAgICAgfQogICAgfQogIH0KCgogIC8vIFJVTlRJTUUgfCByeDphY3Rpb246Y29w");
    sb.append("eS1mb3JtOiR0YXJnZXQtaWQKICBzZWxmLmFDRiA9IGZ1bmN0aW9uKGZvcm0sIHRhcmdldEZvcm1JZCkg");
    sb.append("ewogICAgZm9ybS5vbnN1Ym1pdCA9IGZ1bmN0aW9uKGV2dCkgewogICAgICBldnQucHJldmVudERlZmF1");
    sb.append("bHQoKTsKICAgICAgdmFyIGlucHV0ID0gZ2V0X2Zvcm0oZm9ybSwgZmFsc2UpOwogICAgICB2YXIgdGFy");
    sb.append("Z2V0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGFyZ2V0Rm9ybUlkKTsKICAgICAgaWYgKHRhcmdl");
    sb.append("dCkgewogICAgICAgIGh5ZHJhdGVfZm9ybSh0YXJnZXQsIGlucHV0KTsKICAgICAgICBmaXJlX3N1Y2Nl");
    sb.append("c3MoZm9ybSkKICAgICAgfSBlbHNlIHsKICAgICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgImZhaWxlZCB0");
    sb.append("byBmaW5kIGZvcm0gYnkgaWQgJyIgKyB0YXJnZXRGb3JtSWQgKyAiJyIpOwogICAgICB9CiAgICB9Owog");
    sb.append("IH07CgogIC8vIFJVTlRJTUUgfCByeDphY3Rpb249c2VuZDokY2hhbm5lbAogIHNlbGYuYVNEID0gZnVu");
    sb.append("Y3Rpb24gKGZvcm0sIHN0YXRlLCBjaGFubmVsKSB7CiAgICBmb3JtLm9uc3VibWl0ID0gZnVuY3Rpb24g");
    sb.append("KGV2dCkgewogICAgICBldnQucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIG1zZyA9IGdldF9mb3Jt");
    sb.append("KGZvcm0sIGZhbHNlKTsKICAgICAgLy8gVE9ETzogcGFzcyB0aHJvdWdoIHRoZSBkZWJ1Z2dlcgogICAg");
    sb.append("ICBzdGF0ZS5kYXRhLmNvbm5lY3Rpb24ucHRyLnNlbmQoY2hhbm5lbCwgbXNnLCB7CiAgICAgICAgc3Vj");
    sb.append("Y2VzczogZnVuY3Rpb24gKC8qIHBheWxvYWQgKi8pIHsKICAgICAgICAgIGZpcmVfc3VjY2Vzcyhmb3Jt");
    sb.append("KTsKICAgICAgICB9LAogICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICAg");
    sb.append("IGZpcmVfZmFpbHVyZShmb3JtLCAiU2VuZCBmYWlsZWQ6IiArIHJlYXNvbik7CiAgICAgICAgfQogICAg");
    sb.append("ICB9KTsKICAgIH07CiAgfTsKICAvLyA8dG9kb3Rhc2s+ZGVzY3JpcHRpb248L3RvZG90YXNrPgogIHNl");
    sb.append("bGYuVEFTSyA9IGZ1bmN0aW9uKHBkb20sIGlkLCBzZWN0aW9uLCBkZXNjcmlwdGlvbikgewogICAgdmFy");
    sb.append("IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIGVsZW1lbnQuaW5uZXJI");
    sb.append("VE1MID0gIiYjOTc0NDsgIiArIGRlc2NyaXB0aW9uICsgIiAoICIgKyBzZWN0aW9uICsgIikgPGJyIC8+");
    sb.append("IjsKICAgIHBkb20uYXBwZW5kQ2hpbGQoZWxlbWVudCk7CiAgfTsKICAvLyBSVU5USU1FOiBwcmUtY29t");
    sb.append("cHJlc3Npb24gZm9yIHNldHRpbmcgYW4gYXR0cmlidXRlCiAgLy8gImQuc2V0QXR0cmlidXRlKGEsdik7");
    sb.append("IiAtLT4KICAvLyAkLlNBKGQsYSx2KTsiCiAgc2VsZi5TQSA9IGZ1bmN0aW9uKGRvbSwgYXR0ciwgdmFs");
    sb.append("dWUpIHsKICAgIGRvbS5zZXRBdHRyaWJ1dGUoYXR0ciwgdmFsdWUpOwogIH07CiAgLy8gUlVOVElNRSB8");
    sb.append("IDwuLi4gaHJlZj0iIiAuLi4+CiAgc2VsZi5IUkVGID0gZnVuY3Rpb24gKGRvbSwgaHJlZikgewogICAg");
    sb.append("ZG9tLnNldEF0dHJpYnV0ZSgiaHJlZiIsIGZpeEhyZWYoaHJlZikpOwogICAgZG9tLm9uY2xpY2sgPSBm");
    sb.append("dW5jdGlvbiAoZXZ0KSB7CiAgICAgIHZhciBwYXJ0cyA9IChocmVmLnN0YXJ0c1dpdGgoIi8iKSA/IGhy");
    sb.append("ZWYuc3Vic3RyaW5nKDEpIDogaHJlZikuc3BsaXQoIi8iKTsKICAgICAgaWYgKHJvdXRlKHBhcnRzLCAw");
    sb.append("LCByb3V0ZXIsIHt9KSkgewogICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIHNlbGYu");
    sb.append("cnVuKGRvY3VtZW50LmJvZHksIGhyZWYsIHRydWUpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAg");
    sb.append("fQogICAgICByZXR1cm4gdHJ1ZTsKICAgIH07CiAgfTsKICAvLyBSVU5USU1FIHwgPC4uLiBjbGFzcz0i");
    sb.append("IiAuLi4+CiAgc2VsZi5BQ0xBU1MgPSBmdW5jdGlvbiAoZG9tLCB2YWx1ZSkgewogICAgZG9tLnNldEF0");
    sb.append("dHJpYnV0ZSgiY2xhc3MiLCB2YWx1ZSk7CiAgfTsKICAvLyBSVU5USU1FIHwgPC4uLiBzcmM9IiIgLi4u");
    sb.append("PgogIHNlbGYuQVNSQyA9IGZ1bmN0aW9uIChkb20sIHZhbHVlKSB7CiAgICBkb20uc2V0QXR0cmlidXRl");
    sb.append("KCJzcmMiLCB2YWx1ZSk7CiAgfTsKICB3aW5kb3cucnhodG1sID0gc2VsZjsKICByZXR1cm4gc2VsZjsK");
    sb.append("fSkoKTs=");
    return sb.toString();
  }
  public static final String CONNECTION = new String(Base64.getDecoder().decode(make_connection()), StandardCharsets.UTF_8);
  private static String make_connection() {
    StringBuilder sb = new StringBuilder();
    sb.append("LyoKICogVGhpcyBmaWxlIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIGFuZCBjb25kaXRpb25zIG91dGxp");
    sb.append("bmVkIGluIHRoZQogKiBmaWxlICdMSUNFTlNFJyAoaXQncyBkdWFsIGxpY2Vuc2VkKSBsb2NhdGVkIGlu");
    sb.append("IHRoZSByb290IGRpcmVjdG9yeQogKiBuZWFyIHRoZSBSRUFETUUubWQgd2hpY2ggeW91IHNob3VsZCBh");
    sb.append("bHNvIHJlYWQuIEZvciBtb3JlIGluZm9ybWF0aW9uCiAqIGFib3V0IHRoZSBwcm9qZWN0IHdoaWNoIG93");
    sb.append("bnMgdGhpcyBmaWxlLCBzZWUgaHR0cHM6Ly93d3cuYWRhbWEtcGxhdGZvcm0uY29tLyAuCiAqCiAqIChj");
    sb.append("KSAyMDIxIC0gMjAyMyBieSBBZGFtYSBQbGF0Zm9ybSBJbml0aWF0aXZlLCBMTEMKICovCi8qKiBUaGUg");
    sb.append("V2ViU29ja2V0IGNvbm5lY3Rpb24gdG8gQWRhbWEgKi8KY2xhc3MgV2ViU29ja2V0QWRhbWFDb25uZWN0");
    sb.append("aW9uIHsKICBjb25zdHJ1Y3Rvcihob3N0KSB7CiAgICAvLyBvbiBmYWlsdXJlLCB3ZSBiYWNrLW9mZiB3");
    sb.append("aXRoIHRoaXMgbWlsbGlzZWNvbmRzCiAgICB0aGlzLmJhY2tvZmYgPSAxOwogICAgLy8gdGhlIGhvc3Qg");
    sb.append("d2UgYXJlIGNvbm5lY3RpbmcgdG8KICAgIHRoaXMuaG9zdCA9IGhvc3Q7CiAgICAvLyBmb3JtIHRoZSBV");
    sb.append("Ukwgb2YgdGhlIGhvc3QKICAgIHRoaXMudXJsID0gIndzczovLyIgKyBob3N0ICsgIi9+cyI7CiAgICAv");
    sb.append("LyBpcyB0aGUgY29ubmVjdGlvbiBjb25uZWN0ZWQKICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7CiAg");
    sb.append("ICAvLyBUT0RPCiAgICB0aGlzLmFzc2V0cyA9IHRydWU7CiAgICAvLyBpcyB0aGUgY29ubmVjdGlvbiBk");
    sb.append("ZWFkCiAgICB0aGlzLmRlYWQgPSBmYWxzZTsKICAgIC8vIHRoZSBtYXhpbXVtIHBlcmlvZCBvZiB0aW1l");
    sb.append("IGJldHdlZW4gd2FpdGluZyBmb3IgYSByZXRyeQogICAgdGhpcy5tYXhpbXVtX2JhY2tvZmYgPSA1MDAw");
    sb.append("OwogICAgLy8gd2hlbiB0aGUgY29ubmVjdGlvbiB0aW1lcyBvdXQgZnJvbSB0aGUgc2VydmVyLCBob3cg");
    sb.append("bG9uZyB0byB3YWl0IHVudGlsIHdlIHJlY29ubmVjdAogICAgdGhpcy5yZXNldF9iYWNrb2ZmID0gMTAw");
    sb.append("MDsKICAgIC8vIHRoZSBhY3R1YWwgd2Vic29ja2V0CiAgICB0aGlzLnNvY2tldCA9IG51bGw7CiAgICAv");
    sb.append("LyB3aGF0IGhhcHBlbnMgd2hlbiB0aGUgc3RhdHVzIGNoYW5nZXMKICAgIHRoaXMub25zdGF0dXNjaGFu");
    sb.append("Z2UgPSBmdW5jdGlvbiAoc3RhdHVzKSB7IH07CiAgICAvLyB3aGF0IGhhcHBlbnMgd2hlbiB3ZSBsZWFy");
    sb.append("biB0aGUgbGF0ZW5jeQogICAgdGhpcy5vbnBpbmcgPSBmdW5jdGlvbiAoc2Vjb25kcywgbGF0ZW5jeSkg");
    sb.append("eyB9OwogICAgLy8gaXMgYSByZXRyeSBzY2hlZHVsZWQKICAgIHRoaXMuc2NoZWR1bGVkID0gZmFsc2U7");
    sb.append("CiAgICAvLyBjYWxsYmFjayBtYXBwaW5nCiAgICB0aGlzLmNhbGxiYWNrcyA9IG5ldyBNYXAoKTsKICAg");
    sb.append("IC8vIGlkIGdlbmVyYXRpb24KICAgIHRoaXMubmV4dElkID0gMDsKICAgIC8vIGV2ZW50cyB0byBleGVj");
    sb.append("dXRlIG9uIHJlY29ubmVjdAogICAgdGhpcy5vbnJlY29ubmVjdCA9IG5ldyBNYXAoKTsKICB9CgogIC8q");
    sb.append("KiBzdG9wIHRoZSBjb25uZWN0aW9uICovCiAgc3RvcCgpIHsKICAgIHRoaXMuZGVhZCA9IHRydWU7CiAg");
    sb.append("ICBpZiAodGhpcy5zb2NrZXQgIT09IG51bGwpIHsKICAgICAgdGhpcy5zb2NrZXQuY2xvc2UoKTsKICAg");
    sb.append("IH0KICB9CgogIC8qKiBwcml2YXRlOiByZXRyeSB0aGUgY29ubmVjdGlvbiAqLwogIF9yZXRyeSgpIHsK");
    sb.append("ICAgIC8vIG51bGwgb3V0IHRoZSBzb2NrZXQKICAgIHRoaXMuc29ja2V0ID0gbnVsbDsKICAgIC8vIGlm");
    sb.append("IHdlIGFyZSBjb25uZWN0ZWQsIHRyYW5zaXRpb24gdGhlIHN0YXR1cwogICAgaWYgKHRoaXMuY29ubmVj");
    sb.append("dGVkKSB7CiAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7CiAgICAgIHRoaXMub25zdGF0dXNjaGFu");
    sb.append("Z2UoZmFsc2UpOwogICAgfQogICAgdGhpcy5jYWxsYmFja3MuY2xlYXIoKTsKICAgIC8vIGlmIHdlIGFy");
    sb.append("ZSBkZWFkLCB0aGVuIGRvbid0IGFjdHVhbGx5IHJldHJ5CiAgICBpZiAodGhpcy5kZWFkKSB7CiAgICAg");
    sb.append("IHJldHVybjsKICAgIH0KICAgIC8vIG1ha2Ugc3VyZQogICAgaWYgKCF0aGlzLnNjaGVkdWxlZCkgewog");
    sb.append("ICAgICAvLyBzY2hlZHVsZSBhIHJldHJ5OyBmaXJzdCBjb21wdXRlIGhvdyBsb25nIHRvIHRha2UKICAg");
    sb.append("ICAgLy8gY29tcHV0ZSBob3cgbG9uZyB3ZSBuZWVkIHRvIHdhaXQKICAgICAgdmFyIGhhbHZlQWZ0ZXJT");
    sb.append("Y2hlZHVsZSA9IGZhbHNlOwogICAgICB0aGlzLmJhY2tvZmYgKz0gTWF0aC5yYW5kb20oKSAqIHRoaXMu");
    sb.append("YmFja29mZjsKICAgICAgaWYgKHRoaXMuYmFja29mZiA+IHRoaXMubWF4aW11bV9iYWNrb2ZmKSB7CiAg");
    sb.append("ICAgICAgdGhpcy5iYWNrb2ZmID0gdGhpcy5tYXhpbXVtX2JhY2tvZmY7CiAgICAgICAgaGFsdmVBZnRl");
    sb.append("clNjaGVkdWxlID0gdHJ1ZTsKICAgICAgfQoKICAgICAgLy8gc2NoZWR1bGUgaXQKICAgICAgdGhpcy5z");
    sb.append("Y2hlZHVsZWQgPSB0cnVlOwogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHNldFRpbWVvdXQoZnVu");
    sb.append("Y3Rpb24gKCkgewogICAgICAgIHNlbGYuc3RhcnQoKTsKICAgICAgfSwgdGhpcy5iYWNrb2ZmKTsKCiAg");
    sb.append("ICAgIC8vIHdlIGp1c3Qgc2NoZWR1bGVkIGl0IGZvciB0aGUgbWF4aW11bSBiYWNrb2ZmIHRpbWUsIGxl");
    sb.append("dCdzIHJlZHVjZSB0aGUgYmFja29mZiBzbyB0aGUgbmV4dCBvbmUgd2lsbCBoYXZlIHNvbWUgaml0dGVy");
    sb.append("CiAgICAgIGlmIChoYWx2ZUFmdGVyU2NoZWR1bGUpIHsKICAgICAgICB0aGlzLmJhY2tvZmYgLz0gMi4w");
    sb.append("OwogICAgICB9CiAgICB9CiAgfQoKICAvKiogc3RhcnQgdGhlIGNvbm5lY3Rpb24gKi8KICBzdGFydCgp");
    sb.append("IHsKICAgIC8vIHJlc2V0IHRoZSBzdGF0ZQogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdGhpcy5zY2hl");
    sb.append("ZHVsZWQgPSBmYWxzZTsKICAgIHRoaXMuZGVhZCA9IGZhbHNlOwogICAgLy8gY3JlYXRlIHRoZSBzb2Nr");
    sb.append("ZXQgYW5kIGJpbmQgZXZlbnQgaGFuZGxlcnMKICAgIHRoaXMuc29ja2V0ID0gbmV3IFdlYlNvY2tldCh0");
    sb.append("aGlzLnVybCk7CiAgICB0aGlzLnNvY2tldC5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAg");
    sb.append("ICAgdmFyIHJlc3VsdCA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7CiAgICAgIC8vIGEgbWVzc2FnZSBh");
    sb.append("cnJpdmVkLCBpcyBpdCBhIGNvbm5lY3Rpb24gc2lnbmFsCiAgICAgIGlmICgicGluZyIgaW4gcmVzdWx0");
    sb.append("KSB7CiAgICAgICAgc2VsZi5vbnBpbmcocmVzdWx0LnBpbmcsIHJlc3VsdC5sYXRlbmN5KTsKICAgICAg");
    sb.append("ICByZXN1bHQucG9uZyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMC4wOwogICAgICAgIHNlbGYu");
    sb.append("c29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkocmVzdWx0KSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9");
    sb.append("CiAgICAgIGlmICgic3RhdHVzIiBpbiByZXN1bHQpIHsKICAgICAgICAvLyBoZXksIGFyZSB3ZSBjb25u");
    sb.append("ZWN0ZWQ/CiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgIT0gImNvbm5lY3RlZCIpIHsKICAgICAgICAg");
    sb.append("IC8vIG5vcGUsIE9LLCBsZXQncyBtYWtlIHRoaXMgYSBkZWFkIHNvY2tldAogICAgICAgICAgc2VsZi5z");
    sb.append("b2NrZXQuY2xvc2UoKTsKICAgICAgICAgIHNlbGYuc29ja2V0ID0gbnVsbDsKICAgICAgICAgIHNlbGYu");
    sb.append("YmFja29mZiA9IHNlbGYucmVzZXRfYmFja29mZjsKICAgICAgICAgIHNlbGYuX3JldHJ5KCk7CiAgICAg");
    sb.append("ICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIC8vIHRlbGwgdGhlIGNsaWVudCB0aGF0IHdlIGFy");
    sb.append("ZSBnb29kIQogICAgICAgIHNlbGYuYmFja29mZiA9IDE7CiAgICAgICAgc2VsZi5jb25uZWN0ZWQgPSB0");
    sb.append("cnVlOwogICAgICAgIHNlbGYuYXNzZXRzID0gcmVzdWx0LmFzc2V0czsKICAgICAgICBzZWxmLm9uc3Rh");
    sb.append("dHVzY2hhbmdlKHRydWUpOwogICAgICAgIHNlbGYuX3JlY29ubmVjdCgpOwogICAgICAgIHNlbGYuQ29u");
    sb.append("ZmlndXJlTWFrZU9yR2V0QXNzZXRLZXkoewogICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHBheWxv");
    sb.append("YWQpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICB2YXIgeGh0dHAgPSBuZXcgWE1MSHR0");
    sb.append("cFJlcXVlc3QoKTsKICAgICAgICAgICAgICB4aHR0cC5vcGVuKCJHRVQiLCAiaHR0cHM6Ly8iICsgc2Vs");
    sb.append("Zi5ob3N0ICsgIi9+cCIgKyBwYXlsb2FkLmFzc2V0S2V5LCB0cnVlKTsKICAgICAgICAgICAgICB4aHR0");
    sb.append("cC53aXRoQ3JlZGVudGlhbHMgPSB0cnVlOwogICAgICAgICAgICAgIHhodHRwLnNlbmQoKTsKICAgICAg");
    sb.append("ICAgICAgfSBjYXRjaCAoZXgpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhleCk7CiAgICAgICAg");
    sb.append("ICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAg");
    sb.append("ICB9CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIC8vIHRoZSByZXN1bHQg");
    sb.append("d2FzIGEgZmFpbHVyZS4uLgogICAgICBpZiAoImZhaWx1cmUiIGluIHJlc3VsdCkgewogICAgICAgIC8v");
    sb.append("IGZpbmQgdGhlIGNhbGxiYWNrLCB0aGVuIGludm9rZSBpdCAoYW5kIGNsZWFuIHVwKQogICAgICAgIGlm");
    sb.append("IChzZWxmLmNhbGxiYWNrcy5oYXMocmVzdWx0LmZhaWx1cmUpKSB7CiAgICAgICAgICB2YXIgY2IgPSBz");
    sb.append("ZWxmLmNhbGxiYWNrcy5nZXQocmVzdWx0LmZhaWx1cmUpOwogICAgICAgICAgaWYgKGNiKSB7CiAgICAg");
    sb.append("ICAgICAgIHNlbGYuY2FsbGJhY2tzLmRlbGV0ZShyZXN1bHQuZmFpbHVyZSk7CiAgICAgICAgICAgIGNi");
    sb.append("KHJlc3VsdCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKCJkZWxpdmVyIiBp");
    sb.append("biByZXN1bHQpIHsKICAgICAgICAvLyBvdGhlcndpc2UsIHdlIGhhdmUgYSBzdWNjZXNzLCBzbyBsZXQn");
    sb.append("cyBmaW5kIHRoZSBjYWxsYmFjaywgYW5kIGlmIG5lZWQgYmUgY2xlYW4gdXAKICAgICAgICBpZiAoc2Vs");
    sb.append("Zi5jYWxsYmFja3MuaGFzKHJlc3VsdC5kZWxpdmVyKSkgewogICAgICAgICAgdmFyIGNiID0gc2VsZi5j");
    sb.append("YWxsYmFja3MuZ2V0KHJlc3VsdC5kZWxpdmVyKTsKICAgICAgICAgIGlmIChjYikgewogICAgICAgICAg");
    sb.append("ICBpZiAocmVzdWx0LmRvbmUpIHsKICAgICAgICAgICAgICBzZWxmLmNhbGxiYWNrcy5kZWxldGUocmVz");
    sb.append("dWx0LmRlbGl2ZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNiKHJlc3VsdCk7CiAgICAgICAg");
    sb.append("ICB9CiAgICAgICAgfQogICAgICB9CiAgICB9OwogICAgdGhpcy5zb2NrZXQub25jbG9zZSA9IGZ1bmN0");
    sb.append("aW9uIChldmVudCkgewogICAgICAvLyBsZXQncyByZXRyeS4uLiBvciBzaG91bGQgd2Ugbm90CiAgICAg");
    sb.append("IHNlbGYuX3JldHJ5KCk7CiAgICB9OwogICAgdGhpcy5zb2NrZXQub25lcnJvciA9IGZ1bmN0aW9uIChl");
    sb.append("dmVudCkgewogICAgICAvLyBzb21ldGhpbmcgYmFkIGhhcHBlbmVkLCBsZXQncyByZXRyeQogICAgICBz");
    sb.append("ZWxmLl9yZXRyeSgpOwogICAgfTsKICB9CgogIC8qKiBwcml2YXRlOiBzZW5kIGEgcmF3IG1lc3NhZ2Ug");
    sb.append("Ki8KICBfd3JpdGUocmVxdWVzdCwgY2FsbGJhY2spIHsKICAgIGlmICghdGhpcy5jb25uZWN0ZWQpIHsK");
    sb.append("ICAgICAgY2FsbGJhY2soeyBmYWlsdXJlOiA2MDAsIHJlYXNvbjogOTk5IH0pOwogICAgICByZXR1cm47");
    sb.append("CiAgICB9CiAgICB0aGlzLmNhbGxiYWNrcy5zZXQocmVxdWVzdC5pZCwgY2FsbGJhY2spOwogICAgdGhp");
    sb.append("cy5zb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeShyZXF1ZXN0KSk7CiAgfQoKICAvKiogYXBpOiB3YWl0");
    sb.append("IGZvciBhIGNvbm5lY3Rpb24gKi8KICBhc3luYyB3YWl0X2Nvbm5lY3RlZCgpIHsKICAgIGlmICh0aGlz");
    sb.append("LmNvbm5lY3RlZCkgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGdvb2QpIHsKICAg");
    sb.append("ICAgICBnb29kKHRydWUpOwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBzZWxmID0gdGhp");
    sb.append("czsKICAgICAgdmFyIHByaW9yID0gdGhpcy5vbnN0YXR1c2NoYW5nZTsKICAgICAgcmV0dXJuIG5ldyBQ");
    sb.append("cm9taXNlKGZ1bmN0aW9uIChnb29kKSB7CiAgICAgICAgc2VsZi5vbnN0YXR1c2NoYW5nZSA9IGZ1bmN0");
    sb.append("aW9uIChzdGF0dXMpIHsKICAgICAgICAgIHByaW9yKHN0YXR1cyk7CiAgICAgICAgICBpZiAoc3RhdHVz");
    sb.append("KSB7CiAgICAgICAgICAgIGdvb2QodHJ1ZSk7CiAgICAgICAgICAgIHNlbGYub25zdGF0dXNjaGFuZ2Ug");
    sb.append("PSBwcmlvcjsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9KTsKICAgIH0KICB9CgogIF9yZWNv");
    sb.append("bm5lY3QoKSB7CiAgICB0aGlzLm9ucmVjb25uZWN0LmZvckVhY2goZnVuY3Rpb24gKHNtLCBpZCkgewog");
    sb.append("ICAgICBzbS5fX3JldHJ5KCk7CiAgICB9KTsKICB9CgogIC8qKiBleGVjdXRlIGEgcmVxdWVzZSByZXNw");
    sb.append("b25zZSB3aXRoIHRoZSBnaXZlbiBzdGF0ZSBtYWNoaW5lICovCiAgX19leGVjdXRlX3JyKHNtKSB7CiAg");
    sb.append("ICB2YXIgc2VsZiA9IHRoaXM7CiAgICBzbS5maXJzdCA9IHRydWU7CiAgICBzZWxmLl93cml0ZShzbS5y");
    sb.append("ZXF1ZXN0LCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgaWYgKHNtLmZpcnN0KSB7CiAgICAgICAg");
    sb.append("c20uZmlyc3QgPSBmYWxzZTsKICAgICAgICBpZiAoImZhaWx1cmUiIGluIHJlc3BvbnNlKSB7CiAgICAg");
    sb.append("ICAgICBpZiAoJ2ZhaWx1cmUnIGluIHNtLnJlc3BvbmRlcikgewogICAgICAgICAgICBzbS5yZXNwb25k");
    sb.append("ZXIuZmFpbHVyZShyZXNwb25zZS5yZWFzb24pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAg");
    sb.append("ICAgICAgICBpZiAoJ3N1Y2Nlc3MnIGluIHNtLnJlc3BvbmRlcikgewogICAgICAgICAgICBzbS5yZXNw");
    sb.append("b25kZXIuc3VjY2VzcyhyZXNwb25zZS5yZXNwb25zZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAg");
    sb.append("ICB9CiAgICAgIHNlbGYub25yZWNvbm5lY3QuZGVsZXRlKHNtLmlkKTsKICAgIH0pOwogICAgc2VsZi5v");
    sb.append("bnJlY29ubmVjdC5zZXQoc20uaWQsIHNtKTsKICAgIHNtLl9fcmV0cnkgPSBmdW5jdGlvbiAoKSB7CiAg");
    sb.append("ICAgIHNlbGYuX19leGVjdXRlX3JyKHNtKTsKICAgIH07CiAgICByZXR1cm4gc207CiAgfQoKICAvKiog");
    sb.append("ZXhlY3V0ZSBhIHN0cmVhbSByZXF1ZXN0IHdpdGggdGhlIGdpdmVuIHN0YXRlIG1hY2hpbmUgKi8KICBf");
    sb.append("X2V4ZWN1dGVfc3RyZWFtKHNtKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICBzZWxmLl93cml0ZShz");
    sb.append("bS5yZXF1ZXN0LCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgaWYgKCJmYWlsdXJlIiBpbiByZXNw");
    sb.append("b25zZSkgewogICAgICAgIGlmICgnZmFpbHVyZScgaW4gc20ucmVzcG9uZGVyKSB7CiAgICAgICAgICBz");
    sb.append("bS5yZXNwb25kZXIuZmFpbHVyZShyZXNwb25zZS5yZWFzb24pOwogICAgICAgIH0KICAgICAgICBzZWxm");
    sb.append("Lm9ucmVjb25uZWN0LmRlbGV0ZShzbS5pZCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlm");
    sb.append("IChyZXNwb25zZS5yZXNwb25zZSkgewogICAgICAgIGlmICgnbmV4dCcgaW4gc20ucmVzcG9uZGVyKSB7");
    sb.append("CiAgICAgICAgICBzbS5yZXNwb25kZXIubmV4dChyZXNwb25zZS5yZXNwb25zZSk7CiAgICAgICAgfQog");
    sb.append("ICAgICB9CiAgICAgIGlmIChyZXNwb25zZS5kb25lKSB7CiAgICAgICAgaWYgKCdjb21wbGV0ZScgaW4g");
    sb.append("c20ucmVzcG9uZGVyKSB7CiAgICAgICAgICBzbS5yZXNwb25kZXIuY29tcGxldGUoKTsKICAgICAgICB9");
    sb.append("CiAgICAgICAgc2VsZi5vbnJlY29ubmVjdC5kZWxldGUoc20uaWQpOwogICAgICB9CiAgICB9KTsKICAg");
    sb.append("IHNlbGYub25yZWNvbm5lY3Quc2V0KHNtLmlkLCBzbSk7CiAgICBzbS5fX3JldHJ5ID0gZnVuY3Rpb24g");
    sb.append("KCkgewogICAgICBzZWxmLl9fZXhlY3V0ZV9zdHJlYW0oc20pOwogICAgfTsKICAgIHJldHVybiBzbTsK");
    sb.append("ICB9CgogIF9faWQoKSB7CiAgICB0aGlzLm5leHRJZCsrOwogICAgcmV0dXJuIHRoaXMubmV4dElkOwog");
    sb.append("IH0KCiAgLyoqW0JFR0lOLUlOVk9LRV0qKi8KICBJbml0U2V0dXBBY2NvdW50KGVtYWlsLCByZXNwb25k");
    sb.append("ZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAg");
    sb.append("cmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6");
    sb.append("IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJpbml0L3NldHVwLWFjY291bnQiLCAi");
    sb.append("aWQiOnBhcklkLCAiZW1haWwiOiBlbWFpbH0KICAgIH0pOwogIH0KICBJbml0Q29udmVydEdvb2dsZVVz");
    sb.append("ZXIoYWNjZXNzVG9rZW4sIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBh");
    sb.append("cklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDog");
    sb.append("cGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6");
    sb.append("ImluaXQvY29udmVydC1nb29nbGUtdXNlciIsICJpZCI6cGFySWQsICJhY2Nlc3MtdG9rZW4iOiBhY2Nl");
    sb.append("c3NUb2tlbn0KICAgIH0pOwogIH0KICBJbml0Q29tcGxldGVBY2NvdW50KGVtYWlsLCByZXZva2UsIGNv");
    sb.append("ZGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5f");
    sb.append("X2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAg");
    sb.append("IHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImluaXQvY29tcGxl");
    sb.append("dGUtYWNjb3VudCIsICJpZCI6cGFySWQsICJlbWFpbCI6IGVtYWlsLCAicmV2b2tlIjogcmV2b2tlLCAi");
    sb.append("Y29kZSI6IGNvZGV9CiAgICB9KTsKICB9CiAgRGVpbml0KGlkZW50aXR5LCByZXNwb25kZXIpIHsKICAg");
    sb.append("IHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNl");
    sb.append("bGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRl");
    sb.append("ciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkZWluaXQiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHki");
    sb.append("OiBpZGVudGl0eX0KICAgIH0pOwogIH0KICBBY2NvdW50U2V0UGFzc3dvcmQoaWRlbnRpdHksIHBhc3N3");
    sb.append("b3JkLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYu");
    sb.append("X19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAg");
    sb.append("ICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJhY2NvdW50L3Nl");
    sb.append("dC1wYXNzd29yZCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAicGFzc3dvcmQiOiBw");
    sb.append("YXNzd29yZH0KICAgIH0pOwogIH0KICBBY2NvdW50R2V0UGF5bWVudFBsYW4oaWRlbnRpdHksIHJlc3Bv");
    sb.append("bmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAg");
    sb.append("ICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRl");
    sb.append("cjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImFjY291bnQvZ2V0LXBheW1lbnQt");
    sb.append("cGxhbiIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5fQogICAgfSk7CiAgfQogIEFjY291");
    sb.append("bnRMb2dpbihlbWFpbCwgcGFzc3dvcmQsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwog");
    sb.append("ICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewog");
    sb.append("ICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7");
    sb.append("Im1ldGhvZCI6ImFjY291bnQvbG9naW4iLCAiaWQiOnBhcklkLCAiZW1haWwiOiBlbWFpbCwgInBhc3N3");
    sb.append("b3JkIjogcGFzc3dvcmR9CiAgICB9KTsKICB9CiAgUHJvYmUoaWRlbnRpdHksIHJlc3BvbmRlcikgewog");
    sb.append("ICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4g");
    sb.append("c2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9u");
    sb.append("ZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6InByb2JlIiwgImlkIjpwYXJJZCwgImlkZW50aXR5");
    sb.append("IjogaWRlbnRpdHl9CiAgICB9KTsKICB9CiAgQXV0aG9yaXR5Q3JlYXRlKGlkZW50aXR5LCByZXNwb25k");
    sb.append("ZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAg");
    sb.append("cmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6");
    sb.append("IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJhdXRob3JpdHkvY3JlYXRlIiwgImlk");
    sb.append("IjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHl9CiAgICB9KTsKICB9CiAgQXV0aG9yaXR5U2V0KGlk");
    sb.append("ZW50aXR5LCBhdXRob3JpdHksIGtleVN0b3JlLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhp");
    sb.append("czsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3Jy");
    sb.append("KHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVz");
    sb.append("dDogeyJtZXRob2QiOiJhdXRob3JpdHkvc2V0IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRp");
    sb.append("dHksICJhdXRob3JpdHkiOiBhdXRob3JpdHksICJrZXktc3RvcmUiOiBrZXlTdG9yZX0KICAgIH0pOwog");
    sb.append("IH0KICBBdXRob3JpdHlHZXQoaWRlbnRpdHksIGF1dGhvcml0eSwgcmVzcG9uZGVyKSB7CiAgICB2YXIg");
    sb.append("c2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9f");
    sb.append("ZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAg");
    sb.append("ICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiYXV0aG9yaXR5L2dldCIsICJpZCI6cGFySWQsICJpZGVudGl0");
    sb.append("eSI6IGlkZW50aXR5LCAiYXV0aG9yaXR5IjogYXV0aG9yaXR5fQogICAgfSk7CiAgfQogIEF1dGhvcml0");
    sb.append("eUxpc3QoaWRlbnRpdHksIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBh");
    sb.append("cklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfc3RyZWFtKHsKICAgICAg");
    sb.append("aWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRo");
    sb.append("b2QiOiJhdXRob3JpdHkvbGlzdCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5fQogICAg");
    sb.append("fSk7CiAgfQogIEF1dGhvcml0eURlc3Ryb3koaWRlbnRpdHksIGF1dGhvcml0eSwgcmVzcG9uZGVyKSB7");
    sb.append("CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVy");
    sb.append("biBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNw");
    sb.append("b25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiYXV0aG9yaXR5L2Rlc3Ryb3kiLCAiaWQiOnBh");
    sb.append("cklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgImF1dGhvcml0eSI6IGF1dGhvcml0eX0KICAgIH0pOwog");
    sb.append("IH0KICBTcGFjZUNyZWF0ZShpZGVudGl0eSwgc3BhY2UsIHRlbXBsYXRlLCByZXNwb25kZXIpIHsKICAg");
    sb.append("IHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNl");
    sb.append("bGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRl");
    sb.append("ciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJzcGFjZS9jcmVhdGUiLCAiaWQiOnBhcklkLCAiaWRl");
    sb.append("bnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2UsICJ0ZW1wbGF0ZSI6IHRlbXBsYXRlfQogICAg");
    sb.append("fSk7CiAgfQogIFNwYWNlR2VuZXJhdGVLZXkoaWRlbnRpdHksIHNwYWNlLCByZXNwb25kZXIpIHsKICAg");
    sb.append("IHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNl");
    sb.append("bGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRl");
    sb.append("ciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJzcGFjZS9nZW5lcmF0ZS1rZXkiLCAiaWQiOnBhcklk");
    sb.append("LCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2V9CiAgICB9KTsKICB9CiAgU3BhY2VH");
    sb.append("ZXQoaWRlbnRpdHksIHNwYWNlLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZh");
    sb.append("ciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAg");
    sb.append("aWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRo");
    sb.append("b2QiOiJzcGFjZS9nZXQiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjog");
    sb.append("c3BhY2V9CiAgICB9KTsKICB9CiAgU3BhY2VTZXQoaWRlbnRpdHksIHNwYWNlLCBwbGFuLCByZXNwb25k");
    sb.append("ZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAg");
    sb.append("cmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6");
    sb.append("IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJzcGFjZS9zZXQiLCAiaWQiOnBhcklk");
    sb.append("LCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2UsICJwbGFuIjogcGxhbn0KICAgIH0p");
    sb.append("OwogIH0KICBTcGFjZVJlZGVwbG95S2ljayhpZGVudGl0eSwgc3BhY2UsIHJlc3BvbmRlcikgewogICAg");
    sb.append("dmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2Vs");
    sb.append("Zi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVy");
    sb.append("LAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6InNwYWNlL3JlZGVwbG95LWtpY2siLCAiaWQiOnBhcklk");
    sb.append("LCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2V9CiAgICB9KTsKICB9CiAgU3BhY2VT");
    sb.append("ZXRSeGh0bWwoaWRlbnRpdHksIHNwYWNlLCByeGh0bWwsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYg");
    sb.append("PSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1");
    sb.append("dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICBy");
    sb.append("ZXF1ZXN0OiB7Im1ldGhvZCI6InNwYWNlL3NldC1yeGh0bWwiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHki");
    sb.append("OiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2UsICJyeGh0bWwiOiByeGh0bWx9CiAgICB9KTsKICB9CiAg");
    sb.append("U3BhY2VHZXRSeGh0bWwoaWRlbnRpdHksIHNwYWNlLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0g");
    sb.append("dGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRl");
    sb.append("X3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVx");
    sb.append("dWVzdDogeyJtZXRob2QiOiJzcGFjZS9nZXQtcnhodG1sIiwgImlkIjpwYXJJZCwgImlkZW50aXR5Ijog");
    sb.append("aWRlbnRpdHksICJzcGFjZSI6IHNwYWNlfQogICAgfSk7CiAgfQogIFNwYWNlRGVsZXRlKGlkZW50aXR5");
    sb.append("LCBzcGFjZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBz");
    sb.append("ZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwK");
    sb.append("ICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoic3BhY2Uv");
    sb.append("ZGVsZXRlIiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJzcGFjZSI6IHNwYWNlfQog");
    sb.append("ICAgfSk7CiAgfQogIFNwYWNlU2V0Um9sZShpZGVudGl0eSwgc3BhY2UsIGVtYWlsLCByb2xlLCByZXNw");
    sb.append("b25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwog");
    sb.append("ICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25k");
    sb.append("ZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJzcGFjZS9zZXQtcm9sZSIsICJp");
    sb.append("ZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2UiOiBzcGFjZSwgImVtYWlsIjogZW1h");
    sb.append("aWwsICJyb2xlIjogcm9sZX0KICAgIH0pOwogIH0KICBTcGFjZUxpc3REZXZlbG9wZXJzKGlkZW50aXR5");
    sb.append("LCBzcGFjZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBz");
    sb.append("ZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9zdHJlYW0oewogICAgICBpZDogcGFy");
    sb.append("SWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6InNw");
    sb.append("YWNlL2xpc3QtZGV2ZWxvcGVycyIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3Bh");
    sb.append("Y2UiOiBzcGFjZX0KICAgIH0pOwogIH0KICBTcGFjZVJlZmxlY3QoaWRlbnRpdHksIHNwYWNlLCBrZXks");
    sb.append("IHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lk");
    sb.append("KCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJl");
    sb.append("c3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6InNwYWNlL3JlZmxlY3Qi");
    sb.append("LCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2UsICJrZXkiOiBr");
    sb.append("ZXl9CiAgICB9KTsKICB9CiAgU3BhY2VMaXN0KGlkZW50aXR5LCBtYXJrZXIsIGxpbWl0LCByZXNwb25k");
    sb.append("ZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAg");
    sb.append("cmV0dXJuIHNlbGYuX19leGVjdXRlX3N0cmVhbSh7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9u");
    sb.append("ZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoic3BhY2UvbGlzdCIsICJpZCI6");
    sb.append("cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAibWFya2VyIjogbWFya2VyLCAibGltaXQiOiBsaW1p");
    sb.append("dH0KICAgIH0pOwogIH0KICBEb21haW5NYXAoaWRlbnRpdHksIGRvbWFpbiwgc3BhY2UsIGNlcnRpZmlj");
    sb.append("YXRlLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYu");
    sb.append("X19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAg");
    sb.append("ICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkb21haW4vbWFw");
    sb.append("IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJkb21haW4iOiBkb21haW4sICJzcGFj");
    sb.append("ZSI6IHNwYWNlLCAiY2VydGlmaWNhdGUiOiBjZXJ0aWZpY2F0ZX0KICAgIH0pOwogIH0KICBEb21haW5S");
    sb.append("ZWZsZWN0KGlkZW50aXR5LCBkb21haW4sIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwog");
    sb.append("ICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewog");
    sb.append("ICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7");
    sb.append("Im1ldGhvZCI6ImRvbWFpbi9yZWZsZWN0IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHks");
    sb.append("ICJkb21haW4iOiBkb21haW59CiAgICB9KTsKICB9CiAgRG9tYWluTWFwRG9jdW1lbnQoaWRlbnRpdHks");
    sb.append("IGRvbWFpbiwgc3BhY2UsIGtleSwgcm91dGUsIGNlcnRpZmljYXRlLCByZXNwb25kZXIpIHsKICAgIHZh");
    sb.append("ciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYu");
    sb.append("X19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwK");
    sb.append("ICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkb21haW4vbWFwLWRvY3VtZW50IiwgImlkIjpwYXJJZCwg");
    sb.append("ImlkZW50aXR5IjogaWRlbnRpdHksICJkb21haW4iOiBkb21haW4sICJzcGFjZSI6IHNwYWNlLCAia2V5");
    sb.append("Ijoga2V5LCAicm91dGUiOiByb3V0ZSwgImNlcnRpZmljYXRlIjogY2VydGlmaWNhdGV9CiAgICB9KTsK");
    sb.append("ICB9CiAgRG9tYWluTGlzdChpZGVudGl0eSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7");
    sb.append("CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9zdHJl");
    sb.append("YW0oewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1");
    sb.append("ZXN0OiB7Im1ldGhvZCI6ImRvbWFpbi9saXN0IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRp");
    sb.append("dHl9CiAgICB9KTsKICB9CiAgRG9tYWluVW5tYXAoaWRlbnRpdHksIGRvbWFpbiwgcmVzcG9uZGVyKSB7");
    sb.append("CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVy");
    sb.append("biBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNw");
    sb.append("b25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9tYWluL3VubWFwIiwgImlkIjpwYXJJZCwg");
    sb.append("ImlkZW50aXR5IjogaWRlbnRpdHksICJkb21haW4iOiBkb21haW59CiAgICB9KTsKICB9CiAgRG9tYWlu");
    sb.append("R2V0KGlkZW50aXR5LCBkb21haW4sIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAg");
    sb.append("dmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAg");
    sb.append("ICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1l");
    sb.append("dGhvZCI6ImRvbWFpbi9nZXQiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgImRvbWFp");
    sb.append("biI6IGRvbWFpbn0KICAgIH0pOwogIH0KICBEb2N1bWVudEF1dGhvcml6ZShzcGFjZSwga2V5LCB1c2Vy");
    sb.append("bmFtZSwgcGFzc3dvcmQsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBh");
    sb.append("cklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDog");
    sb.append("cGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6");
    sb.append("ImRvY3VtZW50L2F1dGhvcml6ZSIsICJpZCI6cGFySWQsICJzcGFjZSI6IHNwYWNlLCAia2V5Ijoga2V5");
    sb.append("LCAidXNlcm5hbWUiOiB1c2VybmFtZSwgInBhc3N3b3JkIjogcGFzc3dvcmR9CiAgICB9KTsKICB9CiAg");
    sb.append("RG9jdW1lbnRBdXRob3JpemVEb21haW4oZG9tYWluLCB1c2VybmFtZSwgcGFzc3dvcmQsIHJlc3BvbmRl");
    sb.append("cikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICBy");
    sb.append("ZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjog");
    sb.append("cmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImRvY3VtZW50L2F1dGhvcml6ZS1kb21h");
    sb.append("aW4iLCAiaWQiOnBhcklkLCAiZG9tYWluIjogZG9tYWluLCAidXNlcm5hbWUiOiB1c2VybmFtZSwgInBh");
    sb.append("c3N3b3JkIjogcGFzc3dvcmR9CiAgICB9KTsKICB9CiAgRG9jdW1lbnRDcmVhdGUoaWRlbnRpdHksIHNw");
    sb.append("YWNlLCBrZXksIGVudHJvcHksIGFyZywgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAg");
    sb.append("ICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAg");
    sb.append("ICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsi");
    sb.append("bWV0aG9kIjoiZG9jdW1lbnQvY3JlYXRlIiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHks");
    sb.append("ICJzcGFjZSI6IHNwYWNlLCAia2V5Ijoga2V5LCAiZW50cm9weSI6IGVudHJvcHksICJhcmciOiBhcmd9");
    sb.append("CiAgICB9KTsKICB9CiAgRG9jdW1lbnREZWxldGUoaWRlbnRpdHksIHNwYWNlLCBrZXksIHJlc3BvbmRl");
    sb.append("cikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICBy");
    sb.append("ZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjog");
    sb.append("cmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImRvY3VtZW50L2RlbGV0ZSIsICJpZCI6");
    sb.append("cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2UiOiBzcGFjZSwgImtleSI6IGtleX0KICAg");
    sb.append("IH0pOwogIH0KICBEb2N1bWVudExpc3QoaWRlbnRpdHksIHNwYWNlLCBtYXJrZXIsIGxpbWl0LCByZXNw");
    sb.append("b25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwog");
    sb.append("ICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3N0cmVhbSh7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVz");
    sb.append("cG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9jdW1lbnQvbGlzdCIs");
    sb.append("ICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2UiOiBzcGFjZSwgIm1hcmtlciI6");
    sb.append("IG1hcmtlciwgImxpbWl0IjogbGltaXR9CiAgICB9KTsKICB9CiAgTWVzc2FnZURpcmVjdFNlbmQoaWRl");
    sb.append("bnRpdHksIHNwYWNlLCBrZXksIGNoYW5uZWwsIG1lc3NhZ2UsIHJlc3BvbmRlcikgewogICAgdmFyIHNl");
    sb.append("bGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4");
    sb.append("ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAg");
    sb.append("ICByZXF1ZXN0OiB7Im1ldGhvZCI6Im1lc3NhZ2UvZGlyZWN0LXNlbmQiLCAiaWQiOnBhcklkLCAiaWRl");
    sb.append("bnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2UsICJrZXkiOiBrZXksICJjaGFubmVsIjogY2hh");
    sb.append("bm5lbCwgIm1lc3NhZ2UiOiBtZXNzYWdlfQogICAgfSk7CiAgfQogIE1lc3NhZ2VEaXJlY3RTZW5kT25j");
    sb.append("ZShpZGVudGl0eSwgc3BhY2UsIGtleSwgZGVkdXBlLCBjaGFubmVsLCBtZXNzYWdlLCByZXNwb25kZXIp");
    sb.append("IHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0");
    sb.append("dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJl");
    sb.append("c3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJtZXNzYWdlL2RpcmVjdC1zZW5kLW9uY2Ui");
    sb.append("LCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2UsICJrZXkiOiBr");
    sb.append("ZXksICJkZWR1cGUiOiBkZWR1cGUsICJjaGFubmVsIjogY2hhbm5lbCwgIm1lc3NhZ2UiOiBtZXNzYWdl");
    sb.append("fQogICAgfSk7CiAgfQogIENvbm5lY3Rpb25DcmVhdGUoaWRlbnRpdHksIHNwYWNlLCBrZXksIHZpZXdl");
    sb.append("clN0YXRlLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNl");
    sb.append("bGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3N0cmVhbSh7CiAgICAgIGlkOiBwYXJJ");
    sb.append("ZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiY29u");
    sb.append("bmVjdGlvbi9jcmVhdGUiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjog");
    sb.append("c3BhY2UsICJrZXkiOiBrZXksICJ2aWV3ZXItc3RhdGUiOiB2aWV3ZXJTdGF0ZX0sCiAgICAgIHNlbmQ6");
    sb.append("IGZ1bmN0aW9uKGNoYW5uZWwsIG1lc3NhZ2UsIHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJ");
    sb.append("ZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBz");
    sb.append("dWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDog");
    sb.append("eyBtZXRob2Q6ICJjb25uZWN0aW9uL3NlbmQiLCBpZDogc3ViSWQsICJjb25uZWN0aW9uIjpwYXJJZCwg");
    sb.append("ImNoYW5uZWwiOiBjaGFubmVsLCAibWVzc2FnZSI6IG1lc3NhZ2V9CiAgICAgICAgfSk7CiAgICAgIH0s");
    sb.append("CiAgICAgIHBhc3N3b3JkOiBmdW5jdGlvbih1c2VybmFtZSwgcGFzc3dvcmQsIG5ld19wYXNzd29yZCwg");
    sb.append("c3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAgc2Vs");
    sb.append("Zi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVyOiBz");
    sb.append("dWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vcGFzc3dv");
    sb.append("cmQiLCBpZDogc3ViSWQsICJjb25uZWN0aW9uIjpwYXJJZCwgInVzZXJuYW1lIjogdXNlcm5hbWUsICJw");
    sb.append("YXNzd29yZCI6IHBhc3N3b3JkLCAibmV3X3Bhc3N3b3JkIjogbmV3X3Bhc3N3b3JkfQogICAgICAgIH0p");
    sb.append("OwogICAgICB9LAogICAgICBzZW5kT25jZTogZnVuY3Rpb24oY2hhbm5lbCwgZGVkdXBlLCBtZXNzYWdl");
    sb.append("LCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBz");
    sb.append("ZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6");
    sb.append("IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9zZW5k");
    sb.append("LW9uY2UiLCBpZDogc3ViSWQsICJjb25uZWN0aW9uIjpwYXJJZCwgImNoYW5uZWwiOiBjaGFubmVsLCAi");
    sb.append("ZGVkdXBlIjogZGVkdXBlLCAibWVzc2FnZSI6IG1lc3NhZ2V9CiAgICAgICAgfSk7CiAgICAgIH0sCiAg");
    sb.append("ICAgIGNhbkF0dGFjaDogZnVuY3Rpb24oc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0g");
    sb.append("c2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1Yklk");
    sb.append("LAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1l");
    sb.append("dGhvZDogImNvbm5lY3Rpb24vY2FuLWF0dGFjaCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklk");
    sb.append("fQogICAgICAgIH0pOwogICAgICB9LAogICAgICBhdHRhY2g6IGZ1bmN0aW9uKGFzc2V0SWQsIGZpbGVu");
    sb.append("YW1lLCBjb250ZW50VHlwZSwgc2l6ZSwgZGlnZXN0TWQ1LCBkaWdlc3RTaGEzODQsIHN1YlJlc3BvbmRl");
    sb.append("cikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRl");
    sb.append("X3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVy");
    sb.append("LAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL2F0dGFjaCIsIGlkOiBzdWJJ");
    sb.append("ZCwgImNvbm5lY3Rpb24iOnBhcklkLCAiYXNzZXQtaWQiOiBhc3NldElkLCAiZmlsZW5hbWUiOiBmaWxl");
    sb.append("bmFtZSwgImNvbnRlbnQtdHlwZSI6IGNvbnRlbnRUeXBlLCAic2l6ZSI6IHNpemUsICJkaWdlc3QtbWQ1");
    sb.append("IjogZGlnZXN0TWQ1LCAiZGlnZXN0LXNoYTM4NCI6IGRpZ2VzdFNoYTM4NH0KICAgICAgICB9KTsKICAg");
    sb.append("ICAgfSwKICAgICAgdXBkYXRlOiBmdW5jdGlvbih2aWV3ZXJTdGF0ZSwgc3ViUmVzcG9uZGVyKSB7CiAg");
    sb.append("ICAgICAgdmFyIHN1YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewog");
    sb.append("ICAgICAgICAgaWQ6IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAg");
    sb.append("ICAgICByZXF1ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vdXBkYXRlIiwgaWQ6IHN1YklkLCAiY29u");
    sb.append("bmVjdGlvbiI6cGFySWQsICJ2aWV3ZXItc3RhdGUiOiB2aWV3ZXJTdGF0ZX0KICAgICAgICB9KTsKICAg");
    sb.append("ICAgfSwKICAgICAgZW5kOiBmdW5jdGlvbihzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQg");
    sb.append("PSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3Vi");
    sb.append("SWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsg");
    sb.append("bWV0aG9kOiAiY29ubmVjdGlvbi9lbmQiLCBpZDogc3ViSWQsICJjb25uZWN0aW9uIjpwYXJJZH0KICAg");
    sb.append("ICAgICB9KTsKICAgICAgfQogICAgfSk7CiAgfQogIENvbm5lY3Rpb25DcmVhdGVWaWFEb21haW4oaWRl");
    sb.append("bnRpdHksIGRvbWFpbiwgdmlld2VyU3RhdGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlz");
    sb.append("OwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfc3Ry");
    sb.append("ZWFtKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVx");
    sb.append("dWVzdDogeyJtZXRob2QiOiJjb25uZWN0aW9uL2NyZWF0ZS12aWEtZG9tYWluIiwgImlkIjpwYXJJZCwg");
    sb.append("ImlkZW50aXR5IjogaWRlbnRpdHksICJkb21haW4iOiBkb21haW4sICJ2aWV3ZXItc3RhdGUiOiB2aWV3");
    sb.append("ZXJTdGF0ZX0sCiAgICAgIHNlbmQ6IGZ1bmN0aW9uKGNoYW5uZWwsIG1lc3NhZ2UsIHN1YlJlc3BvbmRl");
    sb.append("cikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRl");
    sb.append("X3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVy");
    sb.append("LAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL3NlbmQiLCBpZDogc3ViSWQs");
    sb.append("ICJjb25uZWN0aW9uIjpwYXJJZCwgImNoYW5uZWwiOiBjaGFubmVsLCAibWVzc2FnZSI6IG1lc3NhZ2V9");
    sb.append("CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIHBhc3N3b3JkOiBmdW5jdGlvbih1c2VybmFtZSwgcGFz");
    sb.append("c3dvcmQsIG5ld19wYXNzd29yZCwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0gc2Vs");
    sb.append("Zi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1YklkLAog");
    sb.append("ICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1ldGhv");
    sb.append("ZDogImNvbm5lY3Rpb24vcGFzc3dvcmQiLCBpZDogc3ViSWQsICJjb25uZWN0aW9uIjpwYXJJZCwgInVz");
    sb.append("ZXJuYW1lIjogdXNlcm5hbWUsICJwYXNzd29yZCI6IHBhc3N3b3JkLCAibmV3X3Bhc3N3b3JkIjogbmV3");
    sb.append("X3Bhc3N3b3JkfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBzZW5kT25jZTogZnVuY3Rpb24oY2hh");
    sb.append("bm5lbCwgZGVkdXBlLCBtZXNzYWdlLCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBz");
    sb.append("ZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQs");
    sb.append("CiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0");
    sb.append("aG9kOiAiY29ubmVjdGlvbi9zZW5kLW9uY2UiLCBpZDogc3ViSWQsICJjb25uZWN0aW9uIjpwYXJJZCwg");
    sb.append("ImNoYW5uZWwiOiBjaGFubmVsLCAiZGVkdXBlIjogZGVkdXBlLCAibWVzc2FnZSI6IG1lc3NhZ2V9CiAg");
    sb.append("ICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGNhbkF0dGFjaDogZnVuY3Rpb24oc3ViUmVzcG9uZGVyKSB7");
    sb.append("CiAgICAgICAgdmFyIHN1YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIo");
    sb.append("ewogICAgICAgICAgaWQ6IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAg");
    sb.append("ICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vY2FuLWF0dGFjaCIsIGlkOiBzdWJJ");
    sb.append("ZCwgImNvbm5lY3Rpb24iOnBhcklkfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBhdHRhY2g6IGZ1");
    sb.append("bmN0aW9uKGFzc2V0SWQsIGZpbGVuYW1lLCBjb250ZW50VHlwZSwgc2l6ZSwgZGlnZXN0TWQ1LCBkaWdl");
    sb.append("c3RTaGEzODQsIHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwog");
    sb.append("ICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJl");
    sb.append("c3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0");
    sb.append("aW9uL2F0dGFjaCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAiYXNzZXQtaWQiOiBhc3Nl");
    sb.append("dElkLCAiZmlsZW5hbWUiOiBmaWxlbmFtZSwgImNvbnRlbnQtdHlwZSI6IGNvbnRlbnRUeXBlLCAic2l6");
    sb.append("ZSI6IHNpemUsICJkaWdlc3QtbWQ1IjogZGlnZXN0TWQ1LCAiZGlnZXN0LXNoYTM4NCI6IGRpZ2VzdFNo");
    sb.append("YTM4NH0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgdXBkYXRlOiBmdW5jdGlvbih2aWV3ZXJTdGF0");
    sb.append("ZSwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAg");
    sb.append("c2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVy");
    sb.append("OiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vdXBk");
    sb.append("YXRlIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWQsICJ2aWV3ZXItc3RhdGUiOiB2aWV3ZXJT");
    sb.append("dGF0ZX0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgZW5kOiBmdW5jdGlvbihzdWJSZXNwb25kZXIp");
    sb.append("IHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9y");
    sb.append("cih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwK");
    sb.append("ICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9lbmQiLCBpZDogc3ViSWQsICJj");
    sb.append("b25uZWN0aW9uIjpwYXJJZH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CiAgfQogIERvY3VtZW50");
    sb.append("c0hhc2hQYXNzd29yZChwYXNzd29yZCwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAg");
    sb.append("ICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAg");
    sb.append("ICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsi");
    sb.append("bWV0aG9kIjoiZG9jdW1lbnRzL2hhc2gtcGFzc3dvcmQiLCAiaWQiOnBhcklkLCAicGFzc3dvcmQiOiBw");
    sb.append("YXNzd29yZH0KICAgIH0pOwogIH0KICBDb25maWd1cmVNYWtlT3JHZXRBc3NldEtleShyZXNwb25kZXIp");
    sb.append("IHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0");
    sb.append("dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJl");
    sb.append("c3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJjb25maWd1cmUvbWFrZS1vci1nZXQtYXNz");
    sb.append("ZXQta2V5IiwgImlkIjpwYXJJZH0KICAgIH0pOwogIH0KICBBdHRhY2htZW50U3RhcnQoaWRlbnRpdHks");
    sb.append("IHNwYWNlLCBrZXksIGZpbGVuYW1lLCBjb250ZW50VHlwZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2Vs");
    sb.append("ZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhl");
    sb.append("Y3V0ZV9zdHJlYW0oewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAog");
    sb.append("ICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImF0dGFjaG1lbnQvc3RhcnQiLCAiaWQiOnBhcklkLCAiaWRl");
    sb.append("bnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2UsICJrZXkiOiBrZXksICJmaWxlbmFtZSI6IGZp");
    sb.append("bGVuYW1lLCAiY29udGVudC10eXBlIjogY29udGVudFR5cGV9LAogICAgICBhcHBlbmQ6IGZ1bmN0aW9u");
    sb.append("KGNodW5rTWQ1LCBiYXNlNjRCeXRlcywgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0g");
    sb.append("c2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1Yklk");
    sb.append("LAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1l");
    sb.append("dGhvZDogImF0dGFjaG1lbnQvYXBwZW5kIiwgaWQ6IHN1YklkLCAidXBsb2FkIjpwYXJJZCwgImNodW5r");
    sb.append("LW1kNSI6IGNodW5rTWQ1LCAiYmFzZTY0LWJ5dGVzIjogYmFzZTY0Qnl0ZXN9CiAgICAgICAgfSk7CiAg");
    sb.append("ICAgIH0sCiAgICAgIGZpbmlzaDogZnVuY3Rpb24oc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1");
    sb.append("YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6");
    sb.append("IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0");
    sb.append("OiB7IG1ldGhvZDogImF0dGFjaG1lbnQvZmluaXNoIiwgaWQ6IHN1YklkLCAidXBsb2FkIjpwYXJJZH0K");
    sb.append("ICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CiAgfQoKICAvKipbRU5ELUlOVk9LRV0qKi8KfQoKdmFy");
    sb.append("IEFkYW1hID0gewogIFByb2R1Y3Rpb246ICJhd3MtdXMtZWFzdC0yLmFkYW1hLXBsYXRmb3JtLmNvbSIs");
    sb.append("CiAgQ29ubmVjdGlvbjogV2ViU29ja2V0QWRhbWFDb25uZWN0aW9uCn07Cg==");
    return sb.toString();
  }
}
