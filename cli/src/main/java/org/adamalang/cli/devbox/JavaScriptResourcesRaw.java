/*
 * This file is subject to the terms and conditions outlined in the
 * file 'LICENSE' (it's dual licensed) located in the root directory
 * near the README.md which you should also read. For more information
 * about the project which owns this file, see https://www.adama-platform.com/ .
 *
 * (c) 2021 - 2023 by Adama Platform Initiative, LLC
 */
package org.adamalang.cli.devbox;

import java.nio.charset.StandardCharsets;
import java.util.Base64;

public class JavaScriptResourcesRaw {
  public static final String TREE = new String(Base64.getDecoder().decode(make_tree()), StandardCharsets.UTF_8);
  private static String make_tree() {
    StringBuilder sb = new StringBuilder();
    sb.append("LyoqIGEgc2ltcGxpZmllZCBwdWIvc3ViIGRpZmZlcmVudGlhbCB0cmVlICovCmZ1bmN0aW9uIEFkYW1h");
    sb.append("VHJlZSgpIHsKICB2YXIgaWQgPSAwOwoKICB2YXIgcm9vdCA9IHt9OwogIHZhciBhbGxfc3Vic2NyaXB0");
    sb.append("aW9ucyA9IHt9OwoKICB2YXIgY2xvbmVfb2JqZWN0ID0gZnVuY3Rpb24gKG9iaikgewogICAgaWYgKEFy");
    sb.append("cmF5LmlzQXJyYXkob2JqKSkgewogICAgICB2YXIgbmV4dCA9IFtdOwogICAgICBmb3IgKHZhciBrID0g");
    sb.append("MDsgayA8IG9iai5sZW5ndGg7IGsrKykgewogICAgICAgIG5leHQucHVzaChjbG9uZV9vYmplY3Qob2Jq");
    sb.append("W2tdKSk7CiAgICAgIH0KICAgICAgcmV0dXJuIG5leHQ7CiAgICB9IGVsc2UgaWYgKHR5cGVvZiAob2Jq");
    sb.append("KSA9PSAib2JqZWN0IikgewogICAgICB2YXIgbmV4dCA9IHt9OwogICAgICBmb3IgKGtleSBpbiBvYmop");
    sb.append("IHsKICAgICAgICBpZiAoa2V5WzBdID09ICIjIiB8fCBrZXkgPT0gIl9fa2V5IiB8fCBrZXkgPT0gIkBv");
    sb.append("IiB8fCBrZXkgPT0gIkBzIikgY29udGludWU7CiAgICAgICAgbmV4dFtrZXldID0gY2xvbmVfb2JqZWN0");
    sb.append("KG9ialtrZXldKTsKICAgICAgfQogICAgICByZXR1cm4gbmV4dDsKICAgIH0gZWxzZSB7CiAgICAgIHJl");
    sb.append("dHVybiBvYmo7CiAgICB9CiAgfTsKCiAgdGhpcy5udWtlID0gZnVuY3Rpb24gKCkgewogICAgYWxsX3N1");
    sb.append("YnNjcmlwdGlvbnMgPSB7fTsKICB9OwoKICB0aGlzLmNvcHkgPSBmdW5jdGlvbiAoKSB7CiAgICByZXR1");
    sb.append("cm4gY2xvbmVfb2JqZWN0KHJvb3QpOwogIH07CgogIHRoaXMuc3RyID0gZnVuY3Rpb24gKCkgewogICAg");
    sb.append("cmV0dXJuIEpTT04uc3RyaW5naWZ5KHJvb3QpOwogIH07CgogIHRoaXMucmF3ID0gZnVuY3Rpb24gKCkg");
    sb.append("ewogICAgcmV0dXJuIHJvb3Q7CiAgfTsKCiAgLy8gZmlsdGVyIHRoZSBzdWJzY3JpcHRpb25zIHRvIHRo");
    sb.append("ZSBvbmVzIHRoYXQgaGF2ZSB0aGUga2V5CiAgdmFyIHN1YiA9IGZ1bmN0aW9uIChzLCBrZXkpIHsKICAg");
    sb.append("IC8vIGlmIHdlIGhhdmUgbm90aGluZywgdGhlbiB3ZSByZXR1cm4gbm90aGluZwogICAgaWYgKHMubGVu");
    sb.append("Z3RoID09IDApIHsKICAgICAgcmV0dXJuIHM7CiAgICB9CiAgICAvLyBtYWtlIGEgbmV3IGFycmF5CiAg");
    sb.append("ICB2YXIgbiA9IFtdOwogICAgZm9yICh2YXIgayA9IDA7IGsgPCBzLmxlbmd0aDsgaysrKSB7IC8vIHN1");
    sb.append("Y2ggdGhhdCBldmVyeSBlbGVtZW50CiAgICAgIGlmIChrZXkgaW4gc1trXSkgeyAvLyB3aGljaCBjb250");
    sb.append("YWlucyB0aGUga2V5CiAgICAgICAgbi5wdXNoKHNba11ba2V5XSk7IC8vIGlzIGFkZGVkIHRvIHRoZSBu");
    sb.append("ZXcgYXJyYXkKICAgICAgfQogICAgfQogICAgcmV0dXJuIG47CiAgfTsKCiAgLy8gZmlyZSBldmVudHMg");
    sb.append("YXQgdGhlIGN1cnJlbnQgc3Vic2NyaXB0aW9uCiAgdmFyIGZpcmUgPSBmdW5jdGlvbiAocywgdmFsdWUs");
    sb.append("IGV2ZW50cykgewogICAgLy8gZm9yIGVhY2ggc3Vic2NyaXB0aW9uCiAgICBmb3IgKHZhciBqID0gMDsg");
    sb.append("aiA8IHMubGVuZ3RoOyBqKyspIHsKICAgICAgdmFyIHYgPSBzW2pdOwogICAgICAvLyBpZiBpdCBoYXMg");
    sb.append("ZXZlbnRzCiAgICAgIGlmICgiQGUiIGluIHYpIHsKICAgICAgICAvLyBmaXJlIGVhY2ggZXZlbnQKICAg");
    sb.append("ICAgICB2YXIgZXZ0cyA9IHZbIkBlIl07CiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBldnRzLmxl");
    sb.append("bmd0aDsgaysrKSB7CiAgICAgICAgICBldmVudHMucHVzaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAg");
    sb.append("IHRoaXMuZih0aGlzLnYpOwogICAgICAgICAgfS5iaW5kKHsgZjogZXZ0c1trXSwgdjogdmFsdWUgfSkp");
    sb.append("OwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIHZhciB3ZWF2ZSA9IGZ1bmN0aW9uIChzLCBj");
    sb.append("YWxsYmFjaywga2V5KSB7CiAgICBpZiAoQXJyYXkuaXNBcnJheShjYWxsYmFjaykpIHsKICAgICAgZm9y");
    sb.append("ICh2YXIgayA9IDA7IGsgPCBjYWxsYmFjay5sZW5ndGg7IGsrKykgewogICAgICAgIHdlYXZlKHMsIGNh");
    sb.append("bGxiYWNrW2tdLCBrZXkpOwogICAgICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiAoY2FsbGJhY2spID09");
    sb.append("ICJmdW5jdGlvbiIpIHsKICAgICAgaWYgKCEoa2V5IGluIHMpKSB7CiAgICAgICAgc1trZXldID0ge307");
    sb.append("CiAgICAgIH0KICAgICAgdmFyIHNrID0gc1trZXldOwogICAgICBpZiAoISgiQGUiIGluIHNrKSkgewog");
    sb.append("ICAgICAgIHNrWyJAZSJdID0gW2NhbGxiYWNrXTsKICAgICAgfSBlbHNlIHsKICAgICAgICBza1siQGUi");
    sb.append("XS5wdXNoKGNhbGxiYWNrKTsKICAgICAgfQogICAgfSBlbHNlIGlmICh0eXBlb2YgKGNhbGxiYWNrKSA9");
    sb.append("PSAib2JqZWN0IikgewogICAgICBpZiAoIShrZXkgaW4gcykpIHsKICAgICAgICBzW2tleV0gPSB7fTsK");
    sb.append("ICAgICAgfQogICAgICB2YXIgc2sgPSBzW2tleV07CiAgICAgIGZvciAodmFyIGNrIGluIGNhbGxiYWNr");
    sb.append("KSB7CiAgICAgICAgaWYgKGNrID09ICJAZSIpIHsKICAgICAgICAgIHdlYXZlKHMsIGNhbGxiYWNrW2Nr");
    sb.append("XSwga2V5KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgd2VhdmUoc2ssIGNhbGxiYWNrW2NrXSwg");
    sb.append("Y2spOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH07CgogIC8vIHdlIGhhdmUgZGV0ZWN0ZWQgYW4g");
    sb.append("YWRkaXRpb24KICB2YXIgZmlyZV9hZGQgPSBmdW5jdGlvbiAocywga2V5KSB7CiAgICBmb3IgKHZhciBq");
    sb.append("ID0gMDsgaiA8IHMubGVuZ3RoOyBqKyspIHsgLy8gZm9yIGVhY2ggc3Vic2NyaXB0aW9uCiAgICAgIHZh");
    sb.append("ciB2ID0gc1tqXTsKICAgICAgaWYgKCIrIiBpbiB2KSB7IC8vIGlmIHRoZSBzdWJzY3JpcHRpb24gaGFz");
    sb.append("IHRoZSBhYmlsaXR5IHRvIGFkZCBuZXcgb2JqZWN0cwogICAgICAgIHZhciB2YSA9IHZbIisiXTsKICAg");
    sb.append("ICAgICBpZiAoIkBlIiBpbiB2YSkgeyAvLyBpZiBhcmUgZXZlbnRzIGFzc29jaWF0ZWQgdG8gJysnCiAg");
    sb.append("ICAgICAgICB2YXIgZXZhID0gdmFbIkBlIl07CiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IGV2");
    sb.append("YS5sZW5ndGg7IGsrKykgeyAvLyBmb3IgZWFjaCAnKycgYWJpbGl0eQogICAgICAgICAgICB3ZWF2ZSh2");
    sb.append("LCBldmFba10oa2V5KSwga2V5KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9");
    sb.append("OwoKICAvLyBmaXJlIGEgZGVsZXRlIG1lc3NhZ2UgZm9yIHRoZSBnaXZlbiBrZXkKICB2YXIgZmlyZV9k");
    sb.append("ZWwgPSBmdW5jdGlvbiAocywga2V5KSB7CiAgICBmb3IgKHZhciBqID0gMDsgaiA8IHMubGVuZ3RoOyBq");
    sb.append("KyspIHsgLy8gZm9yIGVhY2ggc3Vic2NyaXB0aW9uCiAgICAgIHZhciB2ID0gc1tqXTsKICAgICAgaWYg");
    sb.append("KCItIiBpbiB2KSB7IC8vIGlmIHRoZSBzdWJzY3JpcHRpb24gaGFzIHRoZSBhYmlsaXR5IHRvIGRlbGV0");
    sb.append("ZSBwcmlvciBrZXlzCiAgICAgICAgdmFyIHZhID0gdlsiLSJdOwogICAgICAgIGlmICgiQGUiIGluIHZh");
    sb.append("KSB7IC8vIGlmIGFyZSBldmVudHMgYXNzb2NpYXRlZCB0byAnLScKICAgICAgICAgIHZhciBldmEgPSB2");
    sb.append("YVsiQGUiXTsKICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgZXZhLmxlbmd0aDsgaysrKSB7IC8v");
    sb.append("IGZvciBlYWNoICctJyBhYmlsaXR5CiAgICAgICAgICAgIGV2YVtrXShrZXkpOyAvLyBldmFsdWF0ZSB0");
    sb.append("aGUgJy0nCiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKCiAgLy8gYSBkZWxl");
    sb.append("dGUgb2YgYSB0cmVlIGhhcyBiZWVuIGRldGVjdGVkLCBsZXQncwogIHZhciBkZWwgPSBmdW5jdGlvbiAo");
    sb.append("cykgewogICAgLy8gaWYgdGhlIHN1YnNjcmlwdGlvbnMgaXMgYW4gYXJyYXksIHRoZW4gZGVsZXRlIGFs");
    sb.append("bCBjaGlsZHJlbgogICAgaWYgKEFycmF5LmlzQXJyYXkocykpIHsKICAgICAgdmFyIG4gPSBzLmxlbmd0");
    sb.append("aDsKICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBuOyBrKyspIHsKICAgICAgICBkZWwoc1trXSk7CiAg");
    sb.append("ICAgIH0KICAgIH0gZWxzZSBpZiAodHlwZW9mIChzKSA9PSAib2JqZWN0IikgeyAvLyBvdGhlcndpc2Us");
    sb.append("IGl0ZXJhdGUgb3ZlciB0aGUga2V5cwogICAgICBmb3IgKHZhciBrZXkgaW4gcykgewogICAgICAgIGlm");
    sb.append("ICghKGtleSA9PSAnKycgfHwga2V5ID09ICctJykpIHsKICAgICAgICAgIHZhciBjaCA9IHNba2V5XTsK");
    sb.append("ICAgICAgICAgIGlmIChrZXkgPT0gIkBlIikgeyAvLyB3ZSBoYXZlIGV2ZW50cywgc28gbGV0J3Mgc2Vu");
    sb.append("ZCB0aG9zZSBldmVudHMuLi4KICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjaC5sZW5ndGg7");
    sb.append("IGorKykgewogICAgICAgICAgICAgIGNoW2pdKG51bGwpOyAvLyBhIG51bGwgdG8gaW5kaWNhdGUgZGVs");
    sb.append("ZXRpb24KICAgICAgICAgICAgfQogICAgICAgICAgfSBlbHNlIHsgLy8gcmVjdXJzZSBpbnRvIHRoZSBj");
    sb.append("aGlsZCBmaWVsZAogICAgICAgICAgICBkZWwoY2gpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAg");
    sb.append("fQogICAgfQogIH07CgogIC8vIGRlbGV0ZSB0aGUgZ2l2ZW4ga2V5IHdpdGhpbiB0aGUgc3Vic2NyaXB0");
    sb.append("aW9uCiAgdmFyIGRlbF9rZXkgPSBmdW5jdGlvbiAocywga2V5KSB7CiAgICBpZiAoQXJyYXkuaXNBcnJh");
    sb.append("eShzKSkgeyAvLyBpZiB3ZSBoYXZlIGFuIGFycmF5IG9mIHN1YnNjcmlwdGlvbnMsIHRoZW4gc2ltcGx5");
    sb.append("IHJlcGVhdAogICAgICB2YXIgbiA9IHMubGVuZ3RoOwogICAgICBmb3IgKHZhciBrID0gMDsgayA8IG47");
    sb.append("IGsrKykgewogICAgICAgIGRlbF9rZXkoc1trXSwga2V5KTsgLy8gZm9yIGVhY2ggZWxlbWVudAogICAg");
    sb.append("ICB9CiAgICB9IGVsc2UgaWYgKHR5cGVvZiAocykgPT0gIm9iamVjdCIpIHsgLy8gb3RoZXJ3aXNlLCB3");
    sb.append("ZSBoYXZlIGEgc3ViY3JpcHRpb24gY2FsbGJhY2sKICAgICAgaWYgKGtleSBpbiBzKSB7IC8vIGlmIHRo");
    sb.append("ZSBrZXkgaXMgaW4gdGhlIHN1YnNjcmlwdGlvbiBjYWxsYmFjawogICAgICAgIGRlbGV0ZSBzW2tleV07");
    sb.append("IC8vIGRlbGV0ZSBpdAogICAgICB9CiAgICB9CiAgfTsKCiAgLy8gbWVyZ2UgdGhlIGdpdmVuIGRlbHRh");
    sb.append("IGludG8gdGhlIHRyZWUgYW5kIGZpcmUgc3Vic2NyaXB0aW9ucyAocykKICB2YXIgbWVyZ2UgPSBmdW5j");
    sb.append("dGlvbiAodHJlZSwgZGVsdGEsIHMsIGV2ZW50cykgewogICAgZm9yICh2YXIga2V5IGluIGRlbHRhKSB7");
    sb.append("IC8vIGZvciBlYWNoIGJpdCBvZiBkYXRhIHdpdGhpbiB0aGUgdHJlZQogICAgICB2YXIgZUtleSA9ICIj");
    sb.append("IiArIGtleTsgLy8gY29tcHV0ZSB0aGUgc2VjcmV0IGRhdGEgcGF0aAogICAgICB2YXIgcHJpb3IgPSB0");
    sb.append("cmVlW2tleV07IC8vIGZpbmQgdGhlIHByaW9yIHN0YXRlIHdpdGhpbiB0aGUgdHJlZQogICAgICB2YXIg");
    sb.append("bmV4dCA9IGRlbHRhW2tleV07IC8vIGJyaW5nIHRoZSBjaGFuZ2UgcHJlc2VudCBmb3IgdGhlIGN1cnJl");
    sb.append("bnQga2V5CiAgICAgIGlmIChuZXh0ID09IG51bGwpIHsgLy8gdGhlIGl0ZW0gaXMgZ29pbmcgcG9vZgog");
    sb.append("ICAgICAgIC8vIHRoZSBwcmlvciB2YWx1ZSBpcyBhbiBhcnJheSwgc28gd2UgbWF5IGhhdmUgc29tZSBz");
    sb.append("cGVjaWFsIHRoaW5ncyBhc3NvY2lhdGUgd2l0aCBpdAogICAgICAgIGlmIChBcnJheS5pc0FycmF5KHBy");
    sb.append("aW9yKSkgeyAvLyBVTlRFU1QKICAgICAgICAgIGlmIChlS2V5IGluIHRyZWUpIHsKICAgICAgICAgICAg");
    sb.append("ZGVsKHN1YihzLCBlS2V5KSk7CiAgICAgICAgICB9CiAgICAgICAgICBkZWxldGUgdHJlZVtlS2V5XTsK");
    sb.append("ICAgICAgICB9CiAgICAgICAgZGVsKHN1YihzLCBrZXkpKTsgLy8gaXNzdWUgYSBkZWxldGUgZm9yIGFs");
    sb.append("bCB0aGUgc3Vic2NyaXB0aW9ucyBmb3IgdGhlIGtpZAogICAgICAgIGRlbGV0ZSB0cmVlW2tleV07IC8v");
    sb.append("IGRlbGV0ZSB0aGUgZGF0YSBpbiB0aGUgdHJlZQogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0eXBl");
    sb.append("b2YgKG5leHQpID09ICJvYmplY3QiICYmICFBcnJheS5pc0FycmF5KG5leHQpKSB7IC8vIGlmIHRoZSBk");
    sb.append("ZWx0YSBpcyBhbiBvYmplY3QKICAgICAgICAgIHZhciBhcnIgPSBBcnJheS5pc0FycmF5KHByaW9yKSB8");
    sb.append("fCAiQG8iIGluIG5leHQgfHwgIkBzIiBpbiBuZXh0OyAvLyBkZXRlY3QgaWYgd2UgbmVlZCB0byB1c2Ug");
    sb.append("YXJyYXkgbG9naWMKICAgICAgICAgIGlmIChhcnIpIHsgLy8gd2UgaGF2ZSBkZXRlY3RlZCBhbiBhcnJh");
    sb.append("eQogICAgICAgICAgICBpZiAoIShrZXkgaW4gdHJlZSkpIHsgLy8gbGV0J3MgbWFrZSBzdXJlIHRoZSB0");
    sb.append("cmVlIGhhcyBhbiBlbXB0eSBhcnJheQogICAgICAgICAgICAgIHRyZWVba2V5XSA9IFtdOwogICAgICAg");
    sb.append("ICAgICB9CiAgICAgICAgICAgIGlmICghKGVLZXkgaW4gdHJlZSkpIHsgLy8gbGV0J3MgbWFrZSBzdXJl");
    sb.append("IHRoZSBzZWNyZXQgZGF0YSBleGlzdHMgYXMgd2VsbAogICAgICAgICAgICAgIHRyZWVbZUtleV0gPSB7");
    sb.append("fTsKICAgICAgICAgICAgICBpZiAoIkBvIiBpbiBuZXh0KSB7IC8vIGlmIHdlIGhhdmUgYSBidW5jaCBv");
    sb.append("ZiBrZXlzLCB0aGVuIGxldCdzIG1ha2Ugc3VyZSB0byBwcmVzZXJ2ZSB0aGF0IGZvciBtYWtlX2RlbHRh");
    sb.append("CiAgICAgICAgICAgICAgICB0cmVlW2VLZXldWyJAbyJdID0gdHJ1ZTsKICAgICAgICAgICAgICB9CiAg");
    sb.append("ICAgICAgICAgICAgdHJlZVtlS2V5XS5fX2tleSA9IGtleTsgLy8gYW5ub3RhdGUgdGhlIG5ldyBpdGVt");
    sb.append("IHdpdGggdGhlIGdpdmVuIGtleQogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBlQmFzZSA9IHRy");
    sb.append("ZWVbZUtleV07IC8vIGdldCB0aGUgc2VjcmV0IChhbmQgcmVhbCkgZGF0YSBmb3IgdGhlIG9iamVjdCBp");
    sb.append("biBxdWVzdGlvbgogICAgICAgICAgICB2YXIgZVN1YiA9IHN1YihzLCBrZXkpOyAvLyBzY29wZSB0aGUg");
    sb.append("c3Vic2NyaXB0aW9uIHRvIHRoZSBrZXkKICAgICAgICAgICAgdmFyIG9yZGVyaW5nID0gbnVsbDsgLy8g");
    sb.append("ZGV0ZWN0aW9uIG9mIGlmIHdlIGhhdmUgQG8gb3JkZXJpbmcgdG8gcmVvcmRlciB0aGUgdmFsdWVzCiAg");
    sb.append("ICAgICAgICAgIHZhciByZXNpemUgPSBudWxsOyAvLyBkZXRlY3Rpb24gb2YgYW4gYXJyYXkgd2l0aG91");
    sb.append("dCBfX2tleQogICAgICAgICAgICB2YXIgZGVsYXkgPSB7fTsgLy8gd2UgZGVsYXkgYWxsIGV2ZW50cyBz");
    sb.append("dWNoIHRoYXQgdGhlIGFycmF5IGNhbiBiZSBidWlsdCBmb3IgaW5saW5lIG1ha2VfZGVsdGEgY2FsbHMg");
    sb.append("dG8gd29yawogICAgICAgICAgICBmb3IgKHZhciBhS2V5IGluIG5leHQpIHsgLy8gZm9yIGVhY2ggZmll");
    sb.append("bGQgd2l0aGluIHRoZSBkaWZmZXJlbmNlCiAgICAgICAgICAgICAgdmFyIHZhbCA9IG5leHRbYUtleV07");
    sb.append("CiAgICAgICAgICAgICAgaWYgKGFLZXkgPT0gIkBvIikgeyAvLyB0aGUgdmFsdWUgaXMgYSBuZXcgb3Jk");
    sb.append("ZXJpbmcgb2YgdGhlIGFycmF5CiAgICAgICAgICAgICAgICBvcmRlcmluZyA9IHZhbDsKICAgICAgICAg");
    sb.append("ICAgICB9IGVsc2UgaWYgKGFLZXkgPT0gIkBzIikgeyAvLyB0aGUgdmFsdWUgaXMgYSByZXNpemUgb2Yg");
    sb.append("dGhlIGFycmF5CiAgICAgICAgICAgICAgICByZXNpemUgPSB2YWw7CiAgICAgICAgICAgICAgfSBlbHNl");
    sb.append("IGlmICh2YWwgPT0gbnVsbCkgeyAvLyBkZWxldGUgdGhlIGVsZW1lbnQKICAgICAgICAgICAgICAgIGlm");
    sb.append("IChhS2V5IGluIGVCYXNlKSB7IC8vIGlmIGl0IGV4aXN0cyB3aXRoaW4gdGhlIHNlY3JldCBrZXkKICAg");
    sb.append("ICAgICAgICAgICAgICAgZGVsYXlbYUtleV0gPSBmdW5jdGlvbiAoeCkgewogICAgICAgICAgICAgICAg");
    sb.append("ICAgIGRlbChzdWIoZVN1YiwgeCkpOyAvLyBpc3N1ZSBkZWxldGVzCiAgICAgICAgICAgICAgICAgICAg");
    sb.append("ZGVsZXRlIGVCYXNlW3hdOyAvLyBkZWxldGUgdGhlIHZhbHVlCiAgICAgICAgICAgICAgICAgICAgZGVs");
    sb.append("X2tleShlU3ViLCB4KTsgLy8gZGVsZXRlIHRoZSBrZXlzIGZyb20gdGhlIG9iamVjdAogICAgICAgICAg");
    sb.append("ICAgICAgICAgIGZpcmVfZGVsKGVTdWIsIHgpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAg");
    sb.append("ICAgICAgfQogICAgICAgICAgICAgIH0gZWxzZSB7IC8vIHdlIGhhdmUgZGF0YQogICAgICAgICAgICAg");
    sb.append("ICAgaWYgKCEoYUtleSBpbiBlQmFzZSkpIHsgLy8gdGhlIGRhdGEgZGlkbid0IGV4aXN0LCBzbyBmaXJl");
    sb.append("IGFuIGFkZGl0aW9uIHRvIGV4dGVuZCB0aGUgc3Vic2NyaXB0aW9ucwogICAgICAgICAgICAgICAgICBm");
    sb.append("aXJlX2FkZChlU3ViLCBhS2V5KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHZhciBu");
    sb.append("VmFsID0gbmV4dFthS2V5XTsgLy8gZ2V0IHRoZSBuZXcgdmFsdWUKICAgICAgICAgICAgICAgIGlmICh0");
    sb.append("eXBlb2YgKG5WYWwpID09ICJvYmplY3QiKSB7IC8vIGlmIHRoZSBuZXcgdmFsdWUgaXMgYW4gb2JqZWN0");
    sb.append("CiAgICAgICAgICAgICAgICAgIGlmICghKGFLZXkgaW4gZUJhc2UpKSB7IC8vIHRoZW4gbWFrZSBzdXJl");
    sb.append("IHRoZSBuZXcgaXRlbSBpcyB3aXRoaW4gdGhlIHNlY3JldCB0cmVlCiAgICAgICAgICAgICAgICAgICAg");
    sb.append("ZUJhc2VbYUtleV0gPSB7fTsKICAgICAgICAgICAgICAgICAgICBlQmFzZVthS2V5XS5fX2tleSA9IGFL");
    sb.append("ZXk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgZGVsYXlbYUtleV0gPSBmdW5j");
    sb.append("dGlvbiAoeCkgewogICAgICAgICAgICAgICAgICAgIG1lcmdlKGVCYXNlW3hdLCBuZXh0W3hdLCBzdWIo");
    sb.append("ZVN1YiwgeCksIGV2ZW50cyk7IC8vIHJlY3Vyc2U6IG1lcmdlIHRoZSBkaWZmZXJlbmNlIGludG8gdGhl");
    sb.append("IHNlY3JldCB0cmVlIGFuZCBwdWJsaXNoIHRvIGFsbCBlbGVtZW50IHN1YnNjcmlwdGlvbnMKICAgICAg");
    sb.append("ICAgICAgICAgICAgICBmaXJlKHN1YihlU3ViLCB4KSwgZUJhc2VbeF0sIGV2ZW50cyk7CiAgICAgICAg");
    sb.append("ICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9IGVsc2UgeyAvLyBvdGhlcndpc2UsIHNldCB0aGUg");
    sb.append("dmFsdWUgaW50byB0aGUgdHJlZQogICAgICAgICAgICAgICAgICBlQmFzZVthS2V5XSA9IG5WYWw7CiAg");
    sb.append("ICAgICAgICAgICAgICAgIGRlbGF5W2FLZXldID0gZnVuY3Rpb24gKHgpIHsKICAgICAgICAgICAgICAg");
    sb.append("ICAgICBmaXJlKHN1YihlU3ViLCB4KSwgZUJhc2VbeF0sIGV2ZW50cyk7CiAgICAgICAgICAgICAgICAg");
    sb.append("IH07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyBhbmQgdGVsbCBldmVyeW9uZSB0");
    sb.append("aGUgbmV3IHZhbHVlIGZvciB0aGlzCiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAg");
    sb.append("ICAgIHZhciBiZWZvcmUgPSB0cmVlW2tleV07IC8vIHN0YXNoIGEgcG9pbnRlciB0byB0aGUgYXJyYXkK");
    sb.append("ICAgICAgICAgICAgdmFyIGRlbGF5T3JkZXIgPSBbXTsKCiAgICAgICAgICAgIGlmIChvcmRlcmluZyAh");
    sb.append("PSBudWxsKSB7IC8vIGFuIG9yZGVyaW5nIGNoYW5nZSBpcyBoYXBwZW5pbmcKICAgICAgICAgICAgICB2");
    sb.append("YXIgYWZ0ZXIgPSBbXTsgLy8gd2Ugd2lsbCByZWJ1aWxkIHRoZSBhcnJheSBoZXJlCiAgICAgICAgICAg");
    sb.append("ICAgdmFyIG1zZyA9IFtdOyAvLyBhbmQgcmVjb3JkIHRoZSBrZXlzIGhlcmUKICAgICAgICAgICAgICBm");
    sb.append("b3IgKHZhciBrID0gMDsgayA8IG9yZGVyaW5nLmxlbmd0aDsgaysrKSB7IC8vIGZvciBlYWNoIG9yZGVy");
    sb.append("aW5nIGluc3RydWN0aW9uCiAgICAgICAgICAgICAgICB2YXIgaW5zdHIgPSBvcmRlcmluZ1trXTsKICAg");
    sb.append("ICAgICAgICAgICAgIHZhciB0eXBlX2luc3RyID0gdHlwZW9mIChpbnN0cik7CiAgICAgICAgICAgICAg");
    sb.append("ICBpZiAodHlwZV9pbnN0ciA9PSAic3RyaW5nIiB8fCB0eXBlX2luc3RyID09ICJudW1iZXIiKSB7IC8v");
    sb.append("IGlmIHRoZSBpbnN0cnVjdGlvbiByZWZlcnMgdG8gYW4gaXRlbQogICAgICAgICAgICAgICAgICBhZnRl");
    sb.append("ci5wdXNoKGVCYXNlW2luc3RyXSk7IC8vIHB1c2ggdGhlIGl0ZW0gaW50byB0aGUgbmV3IGFycmF5CiAg");
    sb.append("ICAgICAgICAgICAgICAgIG1zZy5wdXNoKCIiICsgaW5zdHIpOyAvLyByZWNvcmQgdGhlIGtleSBvZiB0");
    sb.append("aGUgaXRlbQogICAgICAgICAgICAgICAgfSBlbHNlIHsgLy8gb3RoZXJ3aXNlLCB0aGUgaW5zdHJ1Y3Rp");
    sb.append("b24gaXMgYSByYW5nZQogICAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSBpbnN0clswXTsKICAgICAg");
    sb.append("ICAgICAgICAgICAgdmFyIGVuZCA9IGluc3RyWzFdOwogICAgICAgICAgICAgICAgICBmb3IgKHZhciBq");
    sb.append("ID0gc3RhcnQ7IGogPD0gZW5kOyBqKyspIHsgLy8gaXRlcmF0ZSBvdmVyIHRoZSByYW5nZSBhbmQgY29w");
    sb.append("eQogICAgICAgICAgICAgICAgICAgIGFmdGVyLnB1c2goYmVmb3JlW2pdKTsgLy8gdGhlIGl0ZW1zIGZy");
    sb.append("b20gdGhlIHByZXZpb3VzIGNvcHkKICAgICAgICAgICAgICAgICAgICBtc2cucHVzaChiZWZvcmVbal0u");
    sb.append("X19rZXkpOyAvLyBhbmQgYW5ub3RhdGUgdGhlIGtleXMKICAgICAgICAgICAgICAgICAgfQogICAgICAg");
    sb.append("ICAgICAgICAgfQogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBkZWxheU9yZGVyLnB1c2goZnVu");
    sb.append("Y3Rpb24gKCkgewogICAgICAgICAgICAgICAgZmlyZShzdWIoZVN1YiwgIn4iKSwgbXNnLCBldmVudHMp");
    sb.append("OyAvLyB0ZWxsIHN1YnNjcmlwdGlvbnMgYWJvdXQgdGhlIG5ldyBvcmRlcmluZwogICAgICAgICAgICAg");
    sb.append("IH0pOwogICAgICAgICAgICAgIHRyZWVba2V5XSA9IGFmdGVyOwogICAgICAgICAgICB9IGVsc2UgaWYg");
    sb.append("KHJlc2l6ZSAhPSBudWxsKSB7IC8vIGFsdGVybmF0aXZlbHksIGFuIGFycmF5IHdpdGhvdXQga2V5cyBp");
    sb.append("cyBiZWluZyByZXNpemVkCiAgICAgICAgICAgICAgdmFyIGFmdGVyID0gW107CiAgICAgICAgICAgICAg");
    sb.append("dmFyIG1zZyA9IFtdOwogICAgICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgcmVzaXplOyBrKysp");
    sb.append("IHsgLy8gd2UgcmVidWlsZCB0aGUgYXJyYXkKICAgICAgICAgICAgICAgIGFmdGVyW2tdID0gZUJhc2Vb");
    sb.append("IiIgKyBrXTsKICAgICAgICAgICAgICAgIG1zZy5wdXNoKCIiICsgayk7CiAgICAgICAgICAgICAgfQog");
    sb.append("ICAgICAgICAgICAgIGRlbGF5T3JkZXIucHVzaChmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBm");
    sb.append("aXJlKHN1YihlU3ViLCAifiIpLCBtc2csIGV2ZW50cyk7IC8vIHRlbGwgc3Vic2NyaXB0aW9ucyBhYm91");
    sb.append("dCB0aGUgbmV3IG9yZGVyaW5nCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgdHJlZVtrZXld");
    sb.append("ID0gYWZ0ZXI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm9yIChhS2V5IGluIGRlbGF5KSB7CiAg");
    sb.append("ICAgICAgICAgICAgZGVsYXlbYUtleV0oYUtleSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm9y");
    sb.append("ICh2YXIgayA9IDA7IGsgPCBkZWxheU9yZGVyLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICAgICAgZGVs");
    sb.append("YXlPcmRlcltrXSgpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGZpcmUoZVN1YiwgdHJlZVtrZXld");
    sb.append("LCBldmVudHMpOyAvLyB0ZWxsIGV2ZXJ5b25lIGFib3V0IHRoZSBuZXcgdmFsdWUKICAgICAgICAgIH0g");
    sb.append("ZWxzZSB7CiAgICAgICAgICAgIGlmICghKGtleSBpbiB0cmVlKSB8fCB0eXBlb2YgKHRyZWVba2V5XSkg");
    sb.append("IT0gIm9iamVjdCIpIHsKICAgICAgICAgICAgICB0cmVlW2tleV0gPSB7fTsKICAgICAgICAgICAgfQog");
    sb.append("ICAgICAgICAgICB2YXIgZSA9IHN1YihzLCBrZXkpOwogICAgICAgICAgICBtZXJnZSh0cmVlW2tleV0s");
    sb.append("IG5leHQsIGUsIGV2ZW50cyk7CiAgICAgICAgICAgIGZpcmUoZSwgdHJlZVtrZXldLCBldmVudHMpOwog");
    sb.append("ICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7IC8vIG5vdCBhbiBvYmplY3QsIHNvIGl0IGlzIGEgdmFs");
    sb.append("dWUKICAgICAgICAgIHRyZWVba2V5XSA9IG5leHQ7IC8vIHN0YXNoIHRoZSBuZXcgdmFsdWUKICAgICAg");
    sb.append("ICAgIGZpcmUoc3ViKHMsIGtleSksIG5leHQsIGV2ZW50cyk7IC8vIGFuZCB0ZWxsIGV2ZXJ5b25lIGFi");
    sb.append("b3V0IGl0CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgICBmaXJlKHMsIHRyZWUsIGV2ZW50cyk7CiAg");
    sb.append("fTsKCiAgdmFyIGZpcmVfZXZlbnRzID0gZnVuY3Rpb24gKGV2ZW50cykgewogICAgZm9yICh2YXIgayA9");
    sb.append("IDA7IGsgPCBldmVudHMubGVuZ3RoOyBrKyspIHsKICAgICAgZXZlbnRzW2tdKCk7CiAgICB9CiAgfTsK");
    sb.append("CiAgdGhpcy51cGRhdGVfaW5fcHJvZ3Jlc3MgPSBmYWxzZTsKICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9u");
    sb.append("IChkZWx0YSkgewogICAgdGhpcy51cGRhdGVfaW5fcHJvZ3Jlc3MgPSB0cnVlOwogICAgdmFyIGFyciA9");
    sb.append("IFtdOyAvLyBjb252ZXJ0IHRoZSBzdWJzY3JpcHRpb25zIGludG8gYW4gYXJyYXkKICAgIGZvciAodmFy");
    sb.append("IGsgaW4gYWxsX3N1YnNjcmlwdGlvbnMpIHsKICAgICAgYXJyLnB1c2goYWxsX3N1YnNjcmlwdGlvbnNb");
    sb.append("a10pOwogICAgfQogICAgdmFyIGV2ZW50cyA9IFtdOwogICAgbWVyZ2Uocm9vdCwgZGVsdGEsIGFyciwg");
    sb.append("ZXZlbnRzKTsgLy8gZXhlY3V0ZSB0aGUgbWVyZ2UgYW5kIGZpcmUgZXZlbnRzCiAgICBmaXJlX2V2ZW50");
    sb.append("cyhldmVudHMpOwogICAgd2hpbGUgKHRoaXMuc3Vic2NyaWJlX2RlbGF5Lmxlbmd0aCA+IDApIHsKICAg");
    sb.append("ICAgdmFyIGNvcHkgPSB0aGlzLnN1YnNjcmliZV9kZWxheTsKICAgICAgdGhpcy5zdWJzY3JpYmVfZGVs");
    sb.append("YXkgPSBbXTsKICAgICAgdmFyIGZsYXQgPSBbXTsKICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBjb3B5");
    sb.append("Lmxlbmd0aDsgaysrKSB7CiAgICAgICAgaWYgKCFjb3B5W2tdLmFib3J0ZWQpIHsKICAgICAgICAgIGZs");
    sb.append("YXQucHVzaChjb3B5W2tdLnN1Yik7CiAgICAgICAgfQogICAgICB9CiAgICAgIGV2ZW50cyA9IFtdOwog");
    sb.append("ICAgICBtZXJnZSh7fSwgbWFrZV9kZWx0YShyb290KSwgZmxhdCwgZXZlbnRzKTsgLy8gZXhlY3V0ZSB0");
    sb.append("aGUgbWVyZ2UgYW5kIGZpcmUgZXZlbnRzCiAgICAgIGZpcmVfZXZlbnRzKGV2ZW50cyk7CiAgICB9CiAg");
    sb.append("ICB0aGlzLnVwZGF0ZV9pbl9wcm9ncmVzcyA9IGZhbHNlOwogIH07CgogIC8vIGZpeCB0aGUgY2FsbGJh");
    sb.append("Y2sgc3RydWN0dXJlIGZyb20gdGhlIHVzZXIncyBoYXBweSBsYW5kIHRvIHRoZSByaWdvciBvZiB0aGUg");
    sb.append("Zm9ybWF0IG5lZWRlZAogIHZhciB0cmFuc2Zvcm1fY2FsbGJhY2tfaW50b19zdWIgPSBmdW5jdGlvbiAo");
    sb.append("Y2FsbGJhY2ssIHN1YikgewogICAgaWYgKEFycmF5LmlzQXJyYXkoY2FsbGJhY2spKSB7IC8vIGlmIHRo");
    sb.append("ZSBjYWxsYmFjayBpcyBhbiBhcnJheSwgdGhlbiBmbGF0dGVuIHRoZSBhcnJheSBpbnRvIHRoZSBuZXcg");
    sb.append("b2JqZWN0CiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgY2FsbGJhY2subGVuZ3RoOyBrKyspIHsKICAg");
    sb.append("ICAgICB0cmFuc2Zvcm1fY2FsbGJhY2tfaW50b19zdWIoY2FsbGJhY2tba10sIHN1Yik7CiAgICAgIH0K");
    sb.append("ICAgIH0gZWxzZSBpZiAodHlwZW9mIChjYWxsYmFjaykgPT0gIm9iamVjdCIpIHsgLy8gb2gsIHRoZSBj");
    sb.append("YWxsYmFjayBpcyBhbiBvYmplY3QKICAgICAgZm9yICh2YXIga2V5IGluIGNhbGxiYWNrKSB7IC8vIGl0");
    sb.append("ZXJhdGUgb3ZlciBlYWNoIGtleQogICAgICAgIGlmIChrZXkgPT0gIkBlIikgeyAvLyBmb3JjZSB0aGUg");
    sb.append("ZnVuY3Rpb25zIHRvIG1lcmdlIHRvZ2V0aGVyCiAgICAgICAgICB0cmFuc2Zvcm1fY2FsbGJhY2tfaW50");
    sb.append("b19zdWIoY2FsbGJhY2tba2V5XSwgc3ViKTsKICAgICAgICB9IGVsc2UgeyAvLyBub3JtYWwgZmxvdwog");
    sb.append("ICAgICAgICAgaWYgKCEoa2V5IGluIHN1YikpIHsgLy8gZGl2ZSBpbnRvIHRoZSBvYmplY3QgYW5kIG1h");
    sb.append("a2Ugc3VyZSB0aGUgc3Vic2NyaXB0aW9uIGhhcyB0aGUgZmllbGQKICAgICAgICAgICAgc3ViW2tleV0g");
    sb.append("PSB7fTsKICAgICAgICAgIH0KICAgICAgICAgIHRyYW5zZm9ybV9jYWxsYmFja19pbnRvX3N1YihjYWxs");
    sb.append("YmFja1trZXldLCBzdWJba2V5XSk7IC8vIHJlY3Vyc2UgYW5kIHBhaXIgdGhlIGV2ZW50cyB0byB0aGUg");
    sb.append("bmV3IHN1YnNjcmlwdGlvbgogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIGlmICh0eXBlb2YgKGNh");
    sb.append("bGxiYWNrKSA9PSAiZnVuY3Rpb24iKSB7IC8vIGl0J3MgYSBmdW5jdGlvbgogICAgICBpZiAoISgiQGUi");
    sb.append("IGluIHN1YikpIHsgLy8gbGV0J3MgZW5zdXJlIHRoZXJlIGlzIGFuIGV2ZW50IGxpc3QKICAgICAgICBz");
    sb.append("dWJbIkBlIl0gPSBbY2FsbGJhY2tdOwogICAgICB9IGVsc2UgeyAvLyBvdGhlcndpc2UsIGp1c3QgYWRk");
    sb.append("IGl0CiAgICAgICAgc3ViWyJAZSJdLnB1c2goY2FsbGJhY2spOwogICAgICB9CiAgICB9CiAgfTsKCiAg");
    sb.append("Ly8gY29udmVydCB0aGUgdHJlZSB0byBhIGRlbHRhOyB0aGlzIHRyZWUgaXMgYXNzdW1lZCB0byBoYXZl");
    sb.append("IGJlZW4gbWVyZ2VkIGFscmVhZHkKICB2YXIgbWFrZV9kZWx0YSA9IGZ1bmN0aW9uIChzdCkgewogICAg");
    sb.append("dmFyIGRlbHRhID0ge307IC8vIHRoZSBkZWx0YSB0byBjb25zdHJ1Y3QKICAgIGZvciAodmFyIGsgaW4g");
    sb.append("c3QpIHsgLy8gZm9yIGVhY2gga2V5IHdpdGhpbiB0aGUgb2JqZWN0CiAgICAgIGlmIChrWzBdID09ICIj");
    sb.append("IiB8fCBrID09ICJAbyIgfHwgayA9PSAiX19rZXkiKSBjb250aW51ZTsgLy8gc2tpcCB0aGVzZQogICAg");
    sb.append("ICB2YXIgdiA9IHN0W2tdOwogICAgICBpZiAoKCIjIiArIGspIGluIHN0KSB7IC8vIHRoZSByZXN1bHQg");
    sb.append("aXMgYW4gYXJyYXkKICAgICAgICB2YXIgcHYgPSBzdFsnIycgKyBrXTsKICAgICAgICB2YXIgZCA9IHt9");
    sb.append("OwogICAgICAgIGlmICgiQG8iIGluIHB2KSB7IC8vIGFuZCB3ZSBoYXZlIGEgc3BlY2lmaWMgb3JkZXJp");
    sb.append("bmcgdG8gbWVtb2l6ZQogICAgICAgICAgdmFyIG8gPSBbXTsKICAgICAgICAgIGZvciAodmFyIGogPSAw");
    sb.append("OyBqIDwgdi5sZW5ndGg7IGorKykgeyAvLyBjb3B5IHRoZSBlbGVtZW50cyBmcm9tIHRoZSBhcnJheQog");
    sb.append("ICAgICAgICAgICB2YXIgdmogPSB2W2pdOwogICAgICAgICAgICBkW3ZqLl9fa2V5XSA9IG1ha2VfZGVs");
    sb.append("dGEodmopOyAvLyB1c2luZyB0aGUgX19rZXkgZW1iZWRkZWQgaW4gdGhlIG9iamVjdAogICAgICAgICAg");
    sb.append("ICBvLnB1c2godltqXS5fX2tleSk7CiAgICAgICAgICB9CiAgICAgICAgICBkWyJAbyJdID0gbzsKICAg");
    sb.append("ICAgICB9IGVsc2UgeyAvLyBvdGhlcndpc2U7IHJlY29yZCB0aGUgc2l6ZSBhcyB3ZSByZWN1cnNlCiAg");
    sb.append("ICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHYubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgZFsi");
    sb.append("IiArIGpdID0gbWFrZV9kZWx0YShwdltqXSk7CiAgICAgICAgICB9CiAgICAgICAgICBkWyJAcyJdID0g");
    sb.append("di5sZW5ndGg7CiAgICAgICAgfQogICAgICAgIGRlbHRhW2tdID0gZDsKICAgICAgfSBlbHNlIGlmICh0");
    sb.append("eXBlb2YgKHYpID09ICJvYmplY3QiKSB7IC8vIGl0J3MganVzdCBhbiBvYmplY3QsIHNvIHJlY3Vyc2Ug");
    sb.append("ZGlyZWN0bHkKICAgICAgICBkZWx0YVtrXSA9IG1ha2VfZGVsdGEodik7CiAgICAgIH0gZWxzZSB7IC8v");
    sb.append("IGZpbmFsbHksIGl0IGlzIGEgdmFsdWUgc28ganVzdCBzZXQgaXQKICAgICAgICBkZWx0YVtrXSA9IHY7");
    sb.append("CiAgICAgIH0KICAgIH0KICAgIHJldHVybiBkZWx0YTsKICB9OwoKICB0aGlzLnN1YnNjcmliZV9kZWxh");
    sb.append("eSA9IFtdOwoKICAvLyBgc3Vic2NyaWJlYCB0aGUgZ2l2ZW4gc3RydWN0dXJhbCBjYWxsYmFjawogIHRo");
    sb.append("aXMuc3Vic2NyaWJlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICB2YXIgc3ViID0ge307CiAgICB0");
    sb.append("cmFuc2Zvcm1fY2FsbGJhY2tfaW50b19zdWIoY2FsbGJhY2ssIHN1Yik7ICAvLyB0cmFuc2Zvcm0gdGhl");
    sb.append("IGNhbGxiYWNrIGludG8gYSBzYWZlIGNhbGxiYWNrCiAgICB2YXIgUyA9ICIiICsgaWQrKzsgLy8gY3Jl");
    sb.append("YXRlIGFuIGlkIGZvciB0aGUgc3Vic2NyaXB0aW9uCiAgICBhbGxfc3Vic2NyaXB0aW9uc1tTXSA9IHN1");
    sb.append("YjsgLy8gcmVjb3JkIHRoZSBzdWJzY3JpcHRpb24KICAgIGlmICh0aGlzLnVwZGF0ZV9pbl9wcm9ncmVz");
    sb.append("cykgewogICAgICB2YXIgc20gPSB7fTsKICAgICAgc20uc3ViID0gc3ViOwogICAgICBzbS5hYm9ydGVk");
    sb.append("ID0gZmFsc2U7CiAgICAgIHRoaXMuc3Vic2NyaWJlX2RlbGF5LnB1c2goc20pOwogICAgICByZXR1cm4g");
    sb.append("ZnVuY3Rpb24oKSB7CiAgICAgICAgc20uYWJvcnRlZCA9IHRydWU7CiAgICAgICAgZGVsZXRlIGFsbF9z");
    sb.append("dWJzY3JpcHRpb25zW1NdOwogICAgICB9OwogICAgfSBlbHNlIHsKICAgICAgdmFyIGRlbHRhID0gbWFr");
    sb.append("ZV9kZWx0YShyb290KTsKICAgICAgdmFyIGV2ZW50cyA9IFtdOwogICAgICBtZXJnZSh7fSwgZGVsdGEs");
    sb.append("IFtzdWJdLCBldmVudHMpOyAvLyBleGVjdXRlIHRoZSBjYWxsYmFjayBub3cgb24gYSBjYWxsYmFjayBv");
    sb.append("ZiBhbGwgZGF0YSB0byBmaXJlIGV2ZW50cyBhbmQgZmlsbCB0aGUgc3Vic2NyaXB0aW9uIG9iamVjdAog");
    sb.append("ICAgICBmaXJlX2V2ZW50cyhldmVudHMpOwogICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyAvLyByZXR1");
    sb.append("cm4gYSBtZXRob2QgdG8gdW5zdWJzY3JpYmUKICAgICAgICBkZWxldGUgYWxsX3N1YnNjcmlwdGlvbnNb");
    sb.append("U107CiAgICAgIH07CiAgICB9CiAgfTsKfQ==");
    return sb.toString();
  }
  public static final String DEBUGGER = new String(Base64.getDecoder().decode(make_debugger()), StandardCharsets.UTF_8);
  private static String make_debugger() {
    StringBuilder sb = new StringBuilder();
    sb.append("LyoqIFRoZSBBbWF6aW5nIEludGVybmFsIERlYnVnZ2VyIGZvciBSeEhUTUwgQ29ubmVjdGlvbiAqLwpB");
    sb.append("ZGFtYS5EZWJ1Z2dlciA9IChmdW5jdGlvbigpIHsKICB2YXIgc2VsZiA9IHt9OwogIHNlbGYuc2hvd24g");
    sb.append("PSBmYWxzZTsKICB2YXIgY29ubmVjdGlvbnMgPSB7fTsKICB2YXIgY3VycmVudCA9IG51bGw7CgogIC8q");
    sb.append("KiBIZWxwZXIgfCByZW1vdmUgYWxsIHRoZSBjaGlsZHJlbiBvZiBhIHBhcmVudCAqLwogIHZhciBudWtl");
    sb.append("ID0gZnVuY3Rpb24gKHBhcmVudCkgewogICAgdmFyIGxhc3QgPSBwYXJlbnQubGFzdENoaWxkOwogICAg");
    sb.append("d2hpbGUgKGxhc3QpIHsKICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGxhc3QpOwogICAgICBsYXN0ID0g");
    sb.append("cGFyZW50Lmxhc3RDaGlsZDsKICAgIH0KICB9OwoKICAvKiogSGVscGVyIHwgY3JlYXRlIGEgc2ltcGxl");
    sb.append("IGVsZW1lbnQgd2l0aCB0aGUgZ2l2ZW4gY29udGVudCBhcyB0aGUgaW5uZXJIVE1MICovCiAgdmFyIHNp");
    sb.append("bXBsZSA9IGZ1bmN0aW9uKHRhZywgY29udGVudCkgewogICAgdmFyIGQgPSBkb2N1bWVudC5jcmVhdGVF");
    sb.append("bGVtZW50KHRhZyk7CiAgICBkLmlubmVySFRNTCA9IGNvbnRlbnQ7CiAgICByZXR1cm4gZDsKICB9Cgog");
    sb.append("IHZhciBidXR0b25TdHlsZSA9ICJiYWNrZ3JvdW5kOiMzMzM7IGJvcmRlcjogMXB4IHNvbGlkICNmMDA7");
    sb.append("IGNvbG9yOiNmZmY7IHBhZGRpbmc6M3B4OyBtYXJnaW46M3B4OyBib3JkZXItcmFkaXVzOiAzcHg7IjsK");
    sb.append("ICB2YXIgaW5wdXRTdHlsZSA9ICJiYWNrZ3JvdW5kOiNlZWU7IGNvbG9yOiMwMDA7IjsKICB2YXIgcGx1");
    sb.append("c1NWRyA9ICI8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiBmaWxsPVwibm9u");
    sb.append("ZVwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiBzdHJva2Utd2lkdGg9XCIxLjVcIiBzdHJva2U9XCIjNzdk");
    sb.append("NjU2XCIgc3R5bGU9XCJ3aWR0aDoxOHB4OyBoZWlnaHQ6MThweDtcIj48cGF0aCBzdHJva2UtbGluZWNh");
    sb.append("cD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBkPVwiTTEyIDl2Nm0zLTNIOW0xMiAw");
    sb.append("YTkgOSAwIDExLTE4IDAgOSA5IDAgMDExOCAwelwiIC8+PC9zdmc+IjsKICB2YXIgbWludXNTVkcgPSAi");
    sb.append("PHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgZmlsbD1cIm5vbmVcIiB2aWV3");
    sb.append("Qm94PVwiMCAwIDI0IDI0XCIgc3Ryb2tlLXdpZHRoPVwiMS41XCIgc3Ryb2tlPVwiI2YwMFwiIHN0eWxl");
    sb.append("PVwid2lkdGg6MThweDsgaGVpZ2h0OjE4cHg7XCI+PHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwi");
    sb.append("IHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgZD1cIk0xNSAxMkg5bTEyIDBhOSA5IDAgMTEtMTggMCA5");
    sb.append("IDkgMCAwMTE4IDB6XCIgLz48L3N2Zz4iOwoKICAvLyB3ZSBhcmUgZ29pbmcgdG8gY3JlYXRlIGEgZG9j");
    sb.append("dW1lbnQKICB2YXIgdmlld0pzb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICB2YXIg");
    sb.append("dmlld0NoYW5uZWxzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CgogIHZpZXdKc29uLnN0");
    sb.append("eWxlID0gImZvbnQtZmFtaWx5OiBcIkpldEJyYWlucyBNb25vXCIsIHNvdXJjZS1jb2RlLXBybywgTWVu");
    sb.append("bG8sIE1vbmFjbywgQ29uc29sYXMsIG1vbm9zcGFjZTsgZm9udC1zaXplOiAxNHB4OyBjb2xvcjogI2Zm");
    sb.append("ZjsgYmFja2dyb3VuZC1jb2xvcjogIzAwMDsgd2lkdGg6MTAwJSIKICB2aWV3Q2hhbm5lbHMuc3R5bGUg");
    sb.append("PSAiZm9udC1mYW1pbHk6IFwiSmV0QnJhaW5zIE1vbm9cIiwgc291cmNlLWNvZGUtcHJvLCBNZW5sbywg");
    sb.append("TW9uYWNvLCBDb25zb2xhcywgbW9ub3NwYWNlOyBmb250LXNpemU6IDE0cHg7IGNvbG9yOiAjZmZmOyBi");
    sb.append("YWNrZ3JvdW5kLWNvbG9yOiAjMDAwOyB3aWR0aDoxMDAlIgoKICAvKiogUmVmbGVjdGlvbiB8IGdpdmVu");
    sb.append("IGEgcmVmbGVjdGVkIHR5cGUsIGV4dHJhY3QgdGhlIHN0cnVjdHVyZSB0eXBlICoqLwogIHZhciBleHRy");
    sb.append("YWN0U3RydWN0dXJlVHlwZSA9IGZ1bmN0aW9uKHR5cGUsIHR5cGVzKSB7CiAgICBpZiAodHlwZS5uYXR1");
    sb.append("cmUgPT0gInJlYWN0aXZlX3JlZiIgfHwgdHlwZS5uYXR1cmUgPT0gIm5hdGl2ZV9yZWYiKSB7CiAgICAg");
    sb.append("IHJldHVybiBleHRyYWN0U3RydWN0dXJlVHlwZSh0eXBlc1t0eXBlLnJlZl0sIHR5cGVzKTsKICAgIH0K");
    sb.append("ICAgIGlmICh0eXBlLm5hdHVyZSA9PSAicmVhY3RpdmVfcmVjb3JkIiB8fCB0eXBlLm5hdHVyZSA9PSAi");
    sb.append("bmF0aXZlX21lc3NhZ2UiKSB7CiAgICAgIHJldHVybiB0eXBlOwogICAgfQogICAgcmV0dXJuIG51bGw7");
    sb.append("CiAgfQoKICAvKiogVHJlZVZpZXcgfCBHaXZlbiBhIHR5cGUgKGFuZCBhIHR5cGUgZm9yZXN0KSBjcmVh");
    sb.append("dGUgYSAnbmFtZWQnIGRvbSBlbGVtZW50CiAgICogIGFsb25nIHdpdGggYW4gdXBkYXRlIGRlbHRhLiBU");
    sb.append("aGUgdXBkYXRlIGRlbHRhIGlzIGEgZnVuY3Rpb25hbCAob3Igc3RydWN0dXJhbCBmdW5jdGlvbmFsKQog");
    sb.append("ICAqICBjbG9zdXJlIHRoYXQgd2lsbCB1cGRhdGUgdGhlIGRvbSBlbGVtZW50IHN1Y2ggdGhhdCBpdCBj");
    sb.append("YW4gYmUgYXR0YWNoZWQgdG8gYW4gQWRhbWEgVHJlZSAqLwogIHZhciBjb252ZXJ0VHlwZVRvRG9tRGVs");
    sb.append("dGEgPSBmdW5jdGlvbih0eXBlLCB0eXBlcykgewogICAgaWYgKHR5cGUubmF0dXJlID09ICJyZWFjdGl2");
    sb.append("ZV9yZWYiIHx8IHR5cGUubmF0dXJlID09ICJuYXRpdmVfcmVmIikgewogICAgICAvLyBnbyB0byB0aGUg");
    sb.append("Zm9yZXN0IGFuZCB0dXJuIHRoZSByZWYgaW50byBhIG1hbmlmZXN0ZWQgdHlwZQogICAgICByZXR1cm4g");
    sb.append("Y29udmVydFR5cGVUb0RvbURlbHRhKHR5cGVzW3R5cGUucmVmXSwgdHlwZXMpOwogICAgfQogICAgaWYg");
    sb.append("KHR5cGUubmF0dXJlID09ICJuYXRpdmVfbWF5YmUiIHx8IHR5cGUubmF0dXJlID09ICJyZWFjdGl2ZV9t");
    sb.append("YXliZSIpIHsKICAgICAgLy8gYSBtYXliZSBpcyBqdXN0IGEgd3JhcHBlciBhcm91bmQgYW5vdGhlciB0");
    sb.append("eXBlIHRoYXQgY2FuIG51bGwgb3V0CiAgICAgIHZhciBkb20gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50");
    sb.append("KCJzcGFuIik7CiAgICAgIHZhciByZXN1bHQgPSBjb252ZXJ0VHlwZVRvRG9tRGVsdGEodHlwZS50eXBl");
    sb.append("LCB0eXBlcyk7CiAgICAgIHJldHVybiB7CiAgICAgICAgZG9tOiBkb20sCiAgICAgICAgbmFtZTogIm1h");
    sb.append("eWJlJmx0OyIgKyByZXN1bHQubmFtZSArICImZ3Q7IiwKICAgICAgICB1cGRhdGU6IFtyZXN1bHQudXBk");
    sb.append("YXRlLCBmdW5jdGlvbih2YWx1ZSkgewogICAgICAgICAgbnVrZShkb20pOwogICAgICAgICAgaWYgKHZh");
    sb.append("bHVlID09IG51bGwpIHsKICAgICAgICAgICAgZG9tLmlubmVySFRNTCA9ICI8aT5udWxsPC9pPiI7CiAg");
    sb.append("ICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBkb20uYXBwZW5kKHJlc3VsdC5kb20pOwogICAgICAg");
    sb.append("ICAgfQogICAgICAgIH1dCiAgICAgIH07CiAgICB9CiAgICBpZiAodHlwZS5uYXR1cmUgPT0gIm5hdGl2");
    sb.append("ZV9saXN0IiB8fCB0eXBlLm5hdHVyZSA9PSAibmF0aXZlX2FycmF5IikgewogICAgICAvLyB0aGlzIGlz");
    sb.append("IHRoZSBtb3N0IGNvbXBsZXggdHlwZSBhcyBpdCByZXF1aXJlcyBhIGRpZmZlcmVudGlhbCBzdHJ1Y3R1");
    sb.append("cmUuCgogICAgICAvLyB3ZSBjcmVhdGUgYSBkdW1teSB0byBnZXQgdGhlIG5hbWUgb2YgdGhlIHR5cGUK");
    sb.append("ICAgICAgdmFyIGR1bW15ID0gY29udmVydFR5cGVUb0RvbURlbHRhKHR5cGUudHlwZSwgdHlwZXMpOwoK");
    sb.append("ICAgICAgLy8gc28sIHdlIGhhdmUgdHdvIGNvbnNpZGVyYXRpb25zLiBGaXJzdCwgaXMgdGhpcyBhIGxp");
    sb.append("c3Qgb2Ygc3RydWN0dXJlcyBPUiBhIGxpc3Qgb2YgdmFsdWVzLgogICAgICB2YXIgcmVjb3JkVHlwZSA9");
    sb.append("IGV4dHJhY3RTdHJ1Y3R1cmVUeXBlKHR5cGUudHlwZSwgdHlwZXMpOwogICAgICBpZiAocmVjb3JkVHlw");
    sb.append("ZSAhPSBudWxsKSB7CiAgICAgICAgLy8gaXQgaXMgYSBsaXN0IG9mIHN0cnVjdHVyZXMsIHNvIHdlIHdh");
    sb.append("bnQgdG8gY3JlYXRlIGEgbmljZSBsb29raW5nIHRhYmxlIHdpdGggcGFnaW5hdGlvbiEKICAgICAgICB2");
    sb.append("YXIgdGFibGVDb250cm9scyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNwYW4iKTsKICAgICAgICB2");
    sb.append("YXIgc2hvd2hpZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgICAgICB0YWJs");
    sb.append("ZUNvbnRyb2xzLmFwcGVuZChzaG93aGlkZSk7CgogICAgICAgIHZhciB0YWJsZUhvbGRlciA9IGRvY3Vt");
    sb.append("ZW50LmNyZWF0ZUVsZW1lbnQoInRhYmxlIik7CiAgICAgICAgdGFibGVDb250cm9scy5hcHBlbmQodGFi");
    sb.append("bGVIb2xkZXIpOwogICAgICAgIHZhciB0YWJsZUhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQo");
    sb.append("InRoZWFkIik7CiAgICAgICAgdGFibGVIb2xkZXIuYXBwZW5kKHRhYmxlSGVhZGVyKTsKICAgICAgICB2");
    sb.append("YXIgaGVhZGVyUm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHIiKTsKICAgICAgICB0YWJsZUhv");
    sb.append("bGRlci5hcHBlbmQoaGVhZGVyUm93KTsKICAgICAgICB2YXIgY29sb3JTdHlsZSA9ICJib3JkZXI6IDFw");
    sb.append("eCBzb2xpZCAjM2I1NGRhOyI7CiAgICAgICAgZm9yICh2YXIgZmllbGROYW1lIGluIHJlY29yZFR5cGUu");
    sb.append("ZmllbGRzKSB7CiAgICAgICAgICB2YXIgZmllbGQgPSByZWNvcmRUeXBlLmZpZWxkc1tmaWVsZE5hbWVd");
    sb.append("OwogICAgICAgICAgaWYgKCJwcml2YXRlIiA9PSBmaWVsZC5wcml2YWN5KSB7CiAgICAgICAgICAgIGNv");
    sb.append("bnRpbnVlOwogICAgICAgICAgfQogICAgICAgICAgdmFyIHJlc3VsdCA9IGNvbnZlcnRUeXBlVG9Eb21E");
    sb.append("ZWx0YShmaWVsZC50eXBlLCB0eXBlcyk7CiAgICAgICAgICB2YXIgdGQgPSBkb2N1bWVudC5jcmVhdGVF");
    sb.append("bGVtZW50KCJ0ZCIpOwogICAgICAgICAgdGQuaW5uZXJIVE1MID0gcmVzdWx0Lm5hbWUgKyAiICIgKyBm");
    sb.append("aWVsZE5hbWU7CiAgICAgICAgICBoZWFkZXJSb3cuYXBwZW5kKHRkKTsKICAgICAgICAgIHRkLnN0eWxl");
    sb.append("ID0gY29sb3JTdHlsZSArICJwYWRkaW5nLWxlZnQ6IDAuNWVtOyBwYWRkaW5nLXJpZ2h0OiAwLjVlbTsi");
    sb.append("CiAgICAgICAgfQogICAgICAgIHRhYmxlSG9sZGVyLnN0eWxlID0gY29sb3JTdHlsZSArICJwYWRkaW5n");
    sb.append("OiAwLjVlbTsgbWFyZ2luOjAuNWVtOyBkaXNwbGF5Om5vbmUiCiAgICAgICAgaGVhZGVyUm93LnN0eWxl");
    sb.append("ID0gY29sb3JTdHlsZTsKICAgICAgICB2YXIgdGFibGVCb2R5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVu");
    sb.append("dCgidGJvZHkiKTsKICAgICAgICB0YWJsZUhvbGRlci5hcHBlbmQodGFibGVCb2R5KTsKICAgICAgICB2");
    sb.append("YXIgcm93c0J5S2V5ID0ge307CiAgICAgICAgdmFyIHBhZ2luZyA9IHsKICAgICAgICAgIHNob3duOmZh");
    sb.append("bHNlLAogICAgICAgICAgb3JkZXI6W10sCiAgICAgICAgICBwYWdlOiAwLAogICAgICAgICAgcGFnZV9s");
    sb.append("aW1pdDogMTAsCiAgICAgICAgfTsKICAgICAgICB2YXIgY29udHJvbGxlciA9IGRvY3VtZW50LmNyZWF0");
    sb.append("ZUVsZW1lbnQoInNwYW4iKTsKICAgICAgICB0YWJsZUNvbnRyb2xzLmFwcGVuZChjb250cm9sbGVyKTsK");
    sb.append("ICAgICAgICBwYWdpbmcucmVmb3JtID1mdW5jdGlvbigpIHsKICAgICAgICAgIG51a2UodGFibGVCb2R5");
    sb.append("KTsKICAgICAgICAgIHZhciBzdGFydCA9IE1hdGgubWluKHRoaXMucGFnZSAqIHRoaXMucGFnZV9saW1p");
    sb.append("dCwgdGhpcy5vcmRlci5sZW5ndGggLSB0aGlzLnBhZ2VfbGltaXQpOwogICAgICAgICAgZm9yICh2YXIg");
    sb.append("YXQgPSBzdGFydDsgYXQgPCBzdGFydCArIHBhZ2luZy5wYWdlX2xpbWl0OyBhdCsrKSB7CiAgICAgICAg");
    sb.append("ICAgIHZhciByb3cgPSByb3dzQnlLZXlbcGFnaW5nLm9yZGVyW2F0XV07CiAgICAgICAgICAgIGlmIChy");
    sb.append("b3cpIHsKICAgICAgICAgICAgICB0YWJsZUJvZHkuYXBwZW5kKHJvdyk7CiAgICAgICAgICAgIH0KICAg");
    sb.append("ICAgICAgIH0KICAgICAgICAgIG51a2UoY29udHJvbGxlcik7CiAgICAgICAgICBpZiAodGhpcy5zaG93");
    sb.append("bikgewogICAgICAgICAgICB2YXIgcGFnZXMgPSB0aGlzLm9yZGVyLmxlbmd0aCAvIHRoaXMucGFnZV9s");
    sb.append("aW1pdDsKICAgICAgICAgICAgaWYgKHBhZ2VzID4gMSkgewogICAgICAgICAgICAgIGZvciAodmFyIGsg");
    sb.append("PSAwOyBrIDwgcGFnZXM7IGsrKykgewogICAgICAgICAgICAgICAgdmFyIGdvdG9QYWdlID0gZG9jdW1l");
    sb.append("bnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIik7CiAgICAgICAgICAgICAgICBnb3RvUGFnZS5zdHlsZSA9");
    sb.append("IGJ1dHRvblN0eWxlOwogICAgICAgICAgICAgICAgZ290b1BhZ2UuaW5uZXJIVE1MID0gIltQRzoiICsg");
    sb.append("ayArICJdIjsKICAgICAgICAgICAgICAgIGdvdG9QYWdlLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7CiAg");
    sb.append("ICAgICAgICAgICAgICAgIHRoaXMucGFnaW5nLnBhZ2UgPSB0aGlzLnBnOwogICAgICAgICAgICAgICAg");
    sb.append("ICB0aGlzLnBhZ2luZy5yZWZvcm0oKTsKICAgICAgICAgICAgICAgIH0uYmluZCh7cGFnaW5nOiB0aGlz");
    sb.append("LCBwZzoga30pOwogICAgICAgICAgICAgICAgY29udHJvbGxlci5hcHBlbmQoZ290b1BhZ2UpOwogICAg");
    sb.append("ICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgc2hvd2hpZGUuaW5u");
    sb.append("ZXJIVE1MID0gdGhpcy5zaG93biA/IG1pbnVzU1ZHIDogcGx1c1NWRzsKICAgICAgICAgIHNob3doaWRl");
    sb.append("Lm9uY2xpY2sgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdGhpcy5zaG93biA9ICF0aGlzLnNob3du");
    sb.append("OwogICAgICAgICAgICBpZiAodGhpcy5zaG93bikgewogICAgICAgICAgICAgIHRhYmxlSG9sZGVyLnN0");
    sb.append("eWxlLmRpc3BsYXkgPSAiIjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0YWJsZUhv");
    sb.append("bGRlci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMu");
    sb.append("cmVmb3JtKCk7CiAgICAgICAgICB9LmJpbmQodGhpcyk7CiAgICAgICAgfS5iaW5kKHBhZ2luZyk7CgoK");
    sb.append("ICAgICAgICByZXR1cm4gewogICAgICAgICAgZG9tOiB0YWJsZUNvbnRyb2xzLAogICAgICAgICAgbmFt");
    sb.append("ZTogImxpc3QmbHQ7IiArIGR1bW15Lm5hbWUgKyAiJmd0OyIsCiAgICAgICAgICB1cGRhdGU6IHsKICAg");
    sb.append("ICAgICAgICAgJysnOiBmdW5jdGlvbiAoa2V5KSB7CiAgICAgICAgICAgICAgdmFyIHJvdyA9IGRvY3Vt");
    sb.append("ZW50LmNyZWF0ZUVsZW1lbnQoInRyIik7CiAgICAgICAgICAgICAgcm93c0J5S2V5W2tleV0gPSByb3c7");
    sb.append("CiAgICAgICAgICAgICAgdmFyIGRlbHRhID0ge307CiAgICAgICAgICAgICAgZm9yICh2YXIgZmllbGRO");
    sb.append("YW1lIGluIHJlY29yZFR5cGUuZmllbGRzKSB7CiAgICAgICAgICAgICAgICB2YXIgZmllbGQgPSByZWNv");
    sb.append("cmRUeXBlLmZpZWxkc1tmaWVsZE5hbWVdOwogICAgICAgICAgICAgICAgaWYgKCJwcml2YXRlIiA9PSBm");
    sb.append("aWVsZC5wcml2YWN5KSB7CiAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgICAgICAgICAg");
    sb.append("fQogICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGNvbnZlcnRUeXBlVG9Eb21EZWx0YShmaWVsZC50");
    sb.append("eXBlLCB0eXBlcyk7CiAgICAgICAgICAgICAgICB2YXIgdGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50");
    sb.append("KCJ0ZCIpOwogICAgICAgICAgICAgICAgdGQuc3R5bGUgPSBjb2xvclN0eWxlICsgInBhZGRpbmc6IDAu");
    sb.append("MjVlbTsgdGV4dC1hbGlnbjp0b3AiOwogICAgICAgICAgICAgICAgdGQuYXBwZW5kKHJlc3VsdC5kb20p");
    sb.append("OwogICAgICAgICAgICAgICAgcm93LmFwcGVuZCh0ZCk7CiAgICAgICAgICAgICAgICBkZWx0YVtmaWVs");
    sb.append("ZE5hbWVdID0gcmVzdWx0LnVwZGF0ZTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgcmV0dXJu");
    sb.append("IGRlbHRhOwogICAgICAgICAgICB9LAogICAgICAgICAgICAnLSc6IGZ1bmN0aW9uIChrZXkpIHsKICAg");
    sb.append("ICAgICAgICAgICB2YXIgZG9tID0gcm93c0J5S2V5W2tleV07CiAgICAgICAgICAgICAgdGFibGVCb2R5");
    sb.append("LnJlbW92ZShkb20pOwogICAgICAgICAgICAgIGRlbGV0ZSByb3dzQnlLZXlba2V5XTsKICAgICAgICAg");
    sb.append("ICAgfSwKICAgICAgICAgICAgJ34nOiBmdW5jdGlvbiAob3JkZXIpIHsKICAgICAgICAgICAgICBpZiAo");
    sb.append("b3JkZXIgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgcGFnaW5nLm9yZGVyID0gb3JkZXI7CiAgICAg");
    sb.append("ICAgICAgICAgICBwYWdpbmcucmVmb3JtKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAg");
    sb.append("ICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIC8vIG5vdCBhIHJlY29yZCwg");
    sb.append("c28gd2UgdXNlIGEgc2ltcGxlIGxpc3QKICAgICAgICB2YXIgbGlzdEhvbGRlciA9IGRvY3VtZW50LmNy");
    sb.append("ZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAgIHZhciBkb21CeUtleSA9IHt9OwogICAgICAgIHJldHVy");
    sb.append("biB7CiAgICAgICAgICBkb206IGxpc3RIb2xkZXIsCiAgICAgICAgICBuYW1lOiAibGlzdDwiICsgZHVt");
    sb.append("bXkubmFtZSArICI+IiwKICAgICAgICAgIHVwZGF0ZTogewogICAgICAgICAgICAnKyc6IGZ1bmN0aW9u");
    sb.append("IChrZXkpIHsKICAgICAgICAgICAgICB2YXIgaXRlbUhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1l");
    sb.append("bnQoInNwYW4iKTsKICAgICAgICAgICAgICB2YXIgcmVzdWx0ID0gY29udmVydFR5cGVUb0RvbURlbHRh");
    sb.append("KHR5cGUudHlwZSwgdHlwZXMpOwogICAgICAgICAgICAgIGl0ZW1Ib2xkZXIuYXBwZW5kKHJlc3VsdC5k");
    sb.append("b20pOwogICAgICAgICAgICAgIGl0ZW1Ib2xkZXIuYXBwZW5kKHNpbXBsZSgic3BhbiIsICIsICIpKTsK");
    sb.append("ICAgICAgICAgICAgICBkb21CeUtleVtrZXldID0gaXRlbUhvbGRlcjsKICAgICAgICAgICAgICByZXR1");
    sb.append("cm4gcmVzdWx0LnVwZGF0ZTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgJy0nOiBmdW5jdGlvbiAo");
    sb.append("a2V5KSB7CiAgICAgICAgICAgICAgdmFyIGRvbSA9IGRvbUJ5S2V5W2tleV07CiAgICAgICAgICAgICAg");
    sb.append("bGlzdEhvbGRlci5yZW1vdmUoZG9tKTsKICAgICAgICAgICAgICBkZWxldGUgZG9tQnlLZXlba2V5XTsK");
    sb.append("ICAgICAgICAgICAgfSwKICAgICAgICAgICAgJ34nOiBmdW5jdGlvbiAob3JkZXIpIHsKICAgICAgICAg");
    sb.append("ICAgfQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgIH0KICAgIH0KICAgIGlmICh0eXBlLm5hdHVy");
    sb.append("ZSA9PSAicmVhY3RpdmVfdmFsdWUiIHx8IHR5cGUubmF0dXJlID09ICJuYXRpdmVfdmFsdWUiKSB7CiAg");
    sb.append("ICAgIC8vIGl0J3MganVzdCBkYXRhLCBzbyBjcmVhdGUgYSBzaW5nbGUgbm9kZSB0byBkcmF3IGl0CiAg");
    sb.append("ICAgIHZhciBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICBpdGVtLmlu");
    sb.append("bmVySFRNTCA9ICJudWxsIjsKICAgICAgaXRlbS5zdHlsZSA9ICJjb2xvcjogIzc3YTVmZjsiOwogICAg");
    sb.append("ICB2YXIgdXBkYXRlID0gZnVuY3Rpb24odmFsdWUpIHsgaXRlbS5pbm5lckhUTUwgPSB2YWx1ZTsgfTsK");
    sb.append("ICAgICAgaWYgKHR5cGUudHlwZSA9PSAic3RyaW5nIikgewogICAgICAgIGl0ZW0uc3R5bGUgPSAiY29s");
    sb.append("b3I6ICM3N2Q2NTYiOwogICAgICAgIHVwZGF0ZSA9IGZ1bmN0aW9uKHZhbHVlKSB7IGl0ZW0uaW5uZXJI");
    sb.append("VE1MID0gIlwiIiArIHZhbHVlICsgIlwiIjsgfTsKICAgICAgfSBlbHNlIGlmICh0eXBlLnR5cGUgPT0g");
    sb.append("InByaW5jaXBhbCIpIHsKICAgICAgICBpdGVtLnN0eWxlID0gImNvbG9yOiAjQkE4M0ZGOyI7CiAgICAg");
    sb.append("ICAgdXBkYXRlID0gZnVuY3Rpb24odmFsdWUpIHsgaXRlbS5pbm5lckhUTUwgPSB2YWx1ZSAhPSBudWxs");
    sb.append("ID8gKHZhbHVlLmFnZW50ICsgIkAiICsgdmFsdWUuYXV0aG9yaXR5KSA6ICJudWxsIjsgfTsKICAgICAg");
    sb.append("fSBlbHNlIGlmICh0eXBlLnR5cGUgPT0gImJvb2wiKSB7CiAgICAgICAgaXRlbS5zdHlsZSA9ICJjb2xv");
    sb.append("cjogI0U4M0IzQjsiOwogICAgICB9CiAgICAgIHJldHVybiB7CiAgICAgICAgZG9tOml0ZW0sCiAgICAg");
    sb.append("ICAgbmFtZTogdHlwZS50eXBlLAogICAgICAgIHVwZGF0ZTogdXBkYXRlCiAgICAgIH07CiAgICB9CiAg");
    sb.append("ICBpZiAodHlwZS5uYXR1cmUgPT0gInJlYWN0aXZlX3JlY29yZCIgfHwgdHlwZS5uYXR1cmUgPT0gIm5h");
    sb.append("dGl2ZV9tZXNzYWdlIikgewogICAgICAvLyBpdCdzIGEgc3RydWN0dXJlLCBzbyBsZXQncyBjcmVhdGUg");
    sb.append("YSByZWNvcmQgdGhhdCBjYW4gc2hvdy9oaWRlCiAgICAgIHZhciBvYmpfaG9sZGVyID0gZG9jdW1lbnQu");
    sb.append("Y3JlYXRlRWxlbWVudCgic3BhbiIpOwogICAgICB2YXIgc2hvd2hpZGUgPSBkb2N1bWVudC5jcmVhdGVF");
    sb.append("bGVtZW50KCJidXR0b24iKTsKICAgICAgb2JqX2hvbGRlci5hcHBlbmQoc2hvd2hpZGUpOwogICAgICBv");
    sb.append("YmpfaG9sZGVyLnNob3dHcm91cCA9IHR5cGUubmFtZSAhPSAiUm9vdCI7CgogICAgICB2YXIgZ3JvdXAg");
    sb.append("PSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgb2JqX2hvbGRlci5hcHBlbmQoZ3Jv");
    sb.append("dXApOwogICAgICBncm91cC5hcHBlbmQoc2ltcGxlKCJkaXYiLCAieyIpKTsKICAgICAgdmFyIGNoaWxk");
    sb.append("cmVuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidWwiKTsKICAgICAgZ3JvdXAuYXBwZW5kKGNoaWxk");
    sb.append("cmVuKTsKICAgICAgZ3JvdXAuYXBwZW5kKHNpbXBsZSgiZGl2IiwgIn0iKSk7CiAgICAgIGdyb3VwLnN0");
    sb.append("eWxlID0gInBhZGRpbmctbGVmdDoxMHB4IjsKICAgICAgY2hpbGRyZW4uc3R5bGUgPSAicGFkZGluZy1s");
    sb.append("ZWZ0OjEwcHg7IjsKICAgICAgc2hvd2hpZGUub25jbGljayA9IGZ1bmN0aW9uKCkgewogICAgICAgIG9i");
    sb.append("al9ob2xkZXIuc2hvd0dyb3VwID0gISBvYmpfaG9sZGVyLnNob3dHcm91cDsKICAgICAgICBpZiAob2Jq");
    sb.append("X2hvbGRlci5zaG93R3JvdXApIHsKICAgICAgICAgIGdyb3VwLnN0eWxlLmRpc3BsYXkgPSAiIjsKICAg");
    sb.append("ICAgICAgIHNob3doaWRlLmlubmVySFRNTCA9IG1pbnVzU1ZHOwogICAgICAgIH0gZWxzZSB7CiAgICAg");
    sb.append("ICAgICBncm91cC5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgc2hvd2hpZGUuaW5uZXJI");
    sb.append("VE1MID0gcGx1c1NWRzsKICAgICAgICB9CiAgICAgIH07CiAgICAgIHNob3doaWRlLm9uY2xpY2soKTsK");
    sb.append("CiAgICAgIHZhciBkZWx0YSA9IHt9OwogICAgICBmb3IgKHZhciBmaWVsZE5hbWUgaW4gdHlwZS5maWVs");
    sb.append("ZHMpIHsKICAgICAgICB2YXIgZmllbGQgPSB0eXBlLmZpZWxkc1tmaWVsZE5hbWVdOwogICAgICAgIGlm");
    sb.append("ICgicHJpdmF0ZSIgPT0gZmllbGQucHJpdmFjeSkgewogICAgICAgICAgY29udGludWU7CiAgICAgICAg");
    sb.append("fQogICAgICAgIHZhciByZXN1bHQgPSBjb252ZXJ0VHlwZVRvRG9tRGVsdGEoZmllbGQudHlwZSwgdHlw");
    sb.append("ZXMpOwogICAgICAgIHZhciBmaWVsZERvbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxpIik7CiAg");
    sb.append("ICAgICAgZmllbGREb20uYXBwZW5kKHNpbXBsZSgic3BhbiIsICBmaWVsZC5wcml2YWN5ICsgIiAiICsg");
    sb.append("cmVzdWx0Lm5hbWUgKyAiICIgKyBmaWVsZE5hbWUgKyAiID0gIikpOwogICAgICAgIGZpZWxkRG9tLmFw");
    sb.append("cGVuZChyZXN1bHQuZG9tKTsKICAgICAgICBjaGlsZHJlbi5hcHBlbmQoZmllbGREb20pOwogICAgICAg");
    sb.append("IGRlbHRhW2ZpZWxkTmFtZV0gPSByZXN1bHQudXBkYXRlOwogICAgICB9CiAgICAgIHJldHVybiB7CiAg");
    sb.append("ICAgICAgZG9tOiBvYmpfaG9sZGVyLAogICAgICAgIG5hbWU6IHR5cGUubmFtZSwKICAgICAgICB1cGRh");
    sb.append("dGU6ZGVsdGEKICAgICAgfTsKICAgIH0KICAgIHZhciB1bmtub3duID0gZG9jdW1lbnQuY3JlYXRlRWxl");
    sb.append("bWVudCgiZGl2Iik7CiAgICB1bmtub3duLmlubmVySFRNTCA9IEpTT04uc3RyaW5naWZ5KHR5cGUpOwog");
    sb.append("ICAgcmV0dXJuIHtkb206IHVua25vd24sIHVwZGF0ZTogZnVuY3Rpb24oKSB7fX07CiAgfTsKCiAgc2Vs");
    sb.append("Zi5mb3JtSWRHZW4gPSAwOwogIHZhciBuZXh0Rm9ybUlkID0gZnVuY3Rpb24oKSB7CiAgICBzZWxmLmZv");
    sb.append("cm1JZEdlbisrOwogICAgcmV0dXJuIHNlbGYuZm9ybUlkR2VuOwogIH07CiAgdmFyIGZpbGxPdXRGb3Jt");
    sb.append("Rm9yVHlwZSA9IGZ1bmN0aW9uKGRvbSwgbmFtZSwgdHlwZSwgdHlwZXMpIHsKICAgIGlmICh0eXBlLm5h");
    sb.append("dHVyZSA9PSAibmF0aXZlX3JlZiIpIHsKICAgICAgZmlsbE91dEZvcm1Gb3JUeXBlKGRvbSwgbmFtZSwg");
    sb.append("dHlwZXNbdHlwZS5yZWZdLCB0eXBlcyk7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlmICh0eXBlLm5h");
    sb.append("dHVyZSA9PSAibmF0aXZlX21lc3NhZ2UiKSB7CiAgICAgIGZvciAodmFyIGZpZWxkIGluIHR5cGUuZmll");
    sb.append("bGRzKSB7CiAgICAgICAgdmFyIGZpZWxkVHlwZSA9IHR5cGUuZmllbGRzW2ZpZWxkXS50eXBlOwogICAg");
    sb.append("ICAgIHZhciBmaWVsZEhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICAg");
    sb.append("IGZpbGxPdXRGb3JtRm9yVHlwZShmaWVsZEhvbGRlciwgbmFtZSA9PSAiIiA/IGZpZWxkIDogKG5hbWUg");
    sb.append("KyAiLiIgKyBmaWVsZCksIGZpZWxkVHlwZSwgdHlwZXMpOwogICAgICAgIGRvbS5hcHBlbmQoZmllbGRI");
    sb.append("b2xkZXIpOwogICAgICB9CiAgICAgIHJldHVybjsKICAgIH0KICAgIGlmICh0eXBlLm5hdHVyZSA9PSAi");
    sb.append("bmF0aXZlX2FycmF5IikgewogICAgICAvLyBUT0RPCiAgICB9CiAgICBpZiAodHlwZS5uYXR1cmUgPT0g");
    sb.append("Im5hdGl2ZV9tYXliZSIpIHsKICAgICAgdmFyIG1heWJlSG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxl");
    sb.append("bWVudCgiZGl2Iik7CiAgICAgIHZhciBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImxhYmVs");
    sb.append("Iik7CiAgICAgIGxhYmVsLmlubmVySFRNTCA9ICJlbmFibGUgIiArIG5hbWU7CiAgICAgIHZhciBjaGVj");
    sb.append("a2JveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7CiAgICAgIGNoZWNrYm94LnR5cGUg");
    sb.append("PSAiY2hlY2tib3giOwogICAgICBjaGVja2JveC5pZCA9IG5leHRGb3JtSWQoKTsKICAgICAgY2hlY2ti");
    sb.append("b3gubmFtZSA9ICIiOwogICAgICBsYWJlbC5odG1sRm9yID0gY2hlY2tib3guaWQ7CiAgICAgIHZhciBt");
    sb.append("YXliZVZhbHVlUmVmID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIHZhciBtYXli");
    sb.append("ZVZhbHVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgICAgIGZpbGxPdXRGb3JtRm9y");
    sb.append("VHlwZShtYXliZVZhbHVlLCBuYW1lLCB0eXBlLnR5cGUsIHR5cGVzKTsKICAgICAgbWF5YmVIb2xkZXIu");
    sb.append("YXBwZW5kKGxhYmVsKTsKICAgICAgbWF5YmVIb2xkZXIuYXBwZW5kKGNoZWNrYm94KTsKICAgICAgbWF5");
    sb.append("YmVIb2xkZXIuYXBwZW5kKG1heWJlVmFsdWVSZWYpOwogICAgICBkb20uYXBwZW5kKG1heWJlSG9sZGVy");
    sb.append("KTsKICAgICAgY2hlY2tib3gub25jaGFuZ2UgPSBmdW5jdGlvbigpIHsKICAgICAgICBudWtlKG1heWJl");
    sb.append("VmFsdWVSZWYpOwogICAgICAgIGlmIChjaGVja2JveC5jaGVja2VkKSB7CiAgICAgICAgICBtYXliZVZh");
    sb.append("bHVlUmVmLmFwcGVuZChtYXliZVZhbHVlKTsKICAgICAgICB9CiAgICAgIH07CiAgICAgIHJldHVybjsK");
    sb.append("ICAgIH0KICAgIGlmICh0eXBlLm5hdHVyZSA9PSAibmF0aXZlX3ZhbHVlIikgewogICAgICB2YXIgbGFi");
    sb.append("ZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJsYWJlbCIpOwogICAgICB2YXIgaW5wdXQgPSBkb2N1");
    sb.append("bWVudC5jcmVhdGVFbGVtZW50KCJpbnB1dCIpOwoKICAgICAgaW5wdXQuaWQgPSAiZGVidWdnZXJfZm9y");
    sb.append("bV9pZF8iICsgbmV4dEZvcm1JZCgpOwogICAgICBsYWJlbC5pbm5lckhUTUwgPSBuYW1lOwogICAgICBp");
    sb.append("bnB1dC5uYW1lID0gbmFtZTsKICAgICAgaW5wdXQuc3R5bGUgPSBpbnB1dFN0eWxlOwogICAgICBpbnB1");
    sb.append("dC50eXBlID0gInRleHQiOwogICAgICBsYWJlbC5mb3JIdG1sID0gaW5wdXQuaWQ7CiAgICAgIGRvbS5h");
    sb.append("cHBlbmQobGFiZWwpOwogICAgICBkb20uYXBwZW5kKGlucHV0KTsKICAgICAgcmV0dXJuOwogICAgfQog");
    sb.append("ICAgZG9tLmlubmVySFRNTCA9IG5hbWUgKyAiLS0+IiArIEpTT04uc3RyaW5naWZ5KHR5cGUpOwogIH07");
    sb.append("CgogIHZhciBtYWtlQ2hhbm5lbERlYnVnZ2VyID0gZnVuY3Rpb24oY2hhbm5lbHMsIHR5cGVzLCBjb25u");
    sb.append("ZWN0aW9uKSB7CiAgICB2YXIgc2VsZWN0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzZWxlY3Qi");
    sb.append("KTsKICAgIHNlbGVjdG9yLnN0eWxlID0gImJhY2tncm91bmQ6ICMzMzM7IGNvbG9yOiNmZmY7IjsKICAg");
    sb.append("IHZpZXdDaGFubmVscy5hcHBlbmQoc2VsZWN0b3IpOwogICAgdmFyIGZvcm1Ib2xkZXIgPSBkb2N1bWVu");
    sb.append("dC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIHZpZXdDaGFubmVscy5hcHBlbmQoZm9ybUhvbGRlcik7");
    sb.append("CiAgICB2YXIgY2hvb3NlID0gZnVuY3Rpb24oY2hhbm5lbCkgewogICAgICBudWtlKGZvcm1Ib2xkZXIp");
    sb.append("OwogICAgICB2YXIgZm9ybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImZvcm0iKTsKICAgICAgZm9y");
    sb.append("bUhvbGRlci5hcHBlbmQoZm9ybSk7CiAgICAgIHZhciB0eXBlID0gdHlwZXNbY2hhbm5lbHNbY2hhbm5l");
    sb.append("bF1dOwogICAgICBmaWxsT3V0Rm9ybUZvclR5cGUoZm9ybSwgIiIsIHR5cGUsIHR5cGVzKTsKCiAgICAg");
    sb.append("IHZhciBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTsKICAgICAgYnV0dG9u");
    sb.append("LnN0eWxlID0gYnV0dG9uU3R5bGU7CiAgICAgIGJ1dHRvbi5vbmNsaWNrID0gZnVuY3Rpb24oZXZlbnQp");
    sb.append("IHsKICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIHZhciBtZXNzYWdlID0gUnhI");
    sb.append("VE1MLkJ1aWxkRm9ybU9iamVjdChmb3JtKTsKICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gIlNlbmRp");
    sb.append("bmciOwogICAgICAgIGNvbnNvbGUubG9nKGNoYW5uZWwgKyAiOiIgKyBKU09OLnN0cmluZ2lmeShtZXNz");
    sb.append("YWdlKSk7CiAgICAgICAgY29ubmVjdGlvbi5zZW5kKGNoYW5uZWwsIG1lc3NhZ2UsIHsKICAgICAgICAg");
    sb.append("IHN1Y2Nlc3M6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gIlN1Y2Nl");
    sb.append("c3MhIFNlbmQgQW5vdGhlciEiOwogICAgICAgICAgfSwKICAgICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9u");
    sb.append("KHJlYXNvbikgewogICAgICAgICAgICBidXR0b24uaW5uZXJIVE1MID0gIltGYWlsZWQ6IiArIHJlYXNv");
    sb.append("biArICJdLCBUcnkgQWdhaW4iOwogICAgICAgICAgfQogICAgICAgIH0pCgogICAgICB9OwogICAgICBi");
    sb.append("dXR0b24uaW5uZXJIVE1MID0gIlNlbmQiOwogICAgICBmb3JtLmFwcGVuZChidXR0b24pOwogICAgICAv");
    sb.append("LyBCdWlsZEZvcm1PYmplY3QKICAgIH07CiAgICB2YXIgZmlyc3QgPSBudWxsOwogICAgdmFyIGNoYW5u");
    sb.append("ZWxzU29ydGVkID0gW107CiAgICBmb3IgKHZhciBjaCBpbiBjaGFubmVscykgewogICAgICBjaGFubmVs");
    sb.append("c1NvcnRlZC5wdXNoKGNoKTsKICAgIH0KICAgIGNoYW5uZWxzU29ydGVkLnNvcnQoKTsKICAgIGZvciAo");
    sb.append("dmFyIGsgaW4gY2hhbm5lbHNTb3J0ZWQpIHsKICAgICAgdmFyIGNoID0gY2hhbm5lbHNTb3J0ZWRba107");
    sb.append("CiAgICAgIGlmIChmaXJzdCA9PSBudWxsKSB7CiAgICAgICAgZmlyc3QgPSBjaDsKICAgICAgfQogICAg");
    sb.append("ICB2YXIgbXNnVHlwZSA9IGNoYW5uZWxzW2NoXTsKICAgICAgdmFyIG9wdCA9IGRvY3VtZW50LmNyZWF0");
    sb.append("ZUVsZW1lbnQoIm9wdGlvbiIpOwogICAgICBvcHQuaW5uZXJIVE1MID0gY2ggKyAiIDogIiArIG1zZ1R5");
    sb.append("cGU7CiAgICAgIG9wdC5sYWJlbCA9IGNoICsgIiA6ICIgKyBtc2dUeXBlOwogICAgICBvcHQudmFsdWUg");
    sb.append("PSBjaDsKICAgICAgc2VsZWN0b3IuYXBwZW5kKG9wdCk7CiAgICAgIHNlbGVjdG9yLm9uY2hhbmdlID0g");
    sb.append("ZnVuY3Rpb24oKSB7CiAgICAgICAgY2hvb3NlKHNlbGVjdG9yLnZhbHVlKTsKICAgICAgfTsKICAgIH0K");
    sb.append("CiAgICBpZiAoZmlyc3QgIT0gbnVsbCkgewogICAgICBjaG9vc2UoZmlyc3QpOwogICAgfQogIH07Cgog");
    sb.append("IHZhciByZW5kZXIgPSBmdW5jdGlvbihuYW1lKSB7CiAgICB2YXIgY28gPSBjb25uZWN0aW9uc1tuYW1l");
    sb.append("XTsKICAgIGlmIChjby5yZW5kZXJlZCA9PSBjby5ib3VuZCkgewogICAgICByZXR1cm47CiAgICB9CiAg");
    sb.append("ICBjby5yZW5kZXJlZCA9IGNvLmJvdW5kOwogICAgY28uZGVidWdfdHJlZS5udWtlKCk7CiAgICBudWtl");
    sb.append("KHZpZXdKc29uKTsKICAgIG51a2Uodmlld0NoYW5uZWxzKTsKCiAgICB2YXIgaGFuZGxlciA9IHsKICAg");
    sb.append("ICAgc3VjY2VzczogZnVuY3Rpb24gKHBheWxvYWQpIHsKICAgICAgICAvLyBoYW5kbGUgdGhlIGRhdGEg");
    sb.append("aW5zcGVjdG9yIHRhYgogICAgICAgIHZhciByZWZsZWN0aW9uID0gcGF5bG9hZC5yZWZsZWN0aW9uOwog");
    sb.append("ICAgICAgIHZhciByZXN1bHQgPSBjb252ZXJ0VHlwZVRvRG9tRGVsdGEocmVmbGVjdGlvbi50eXBlc1si");
    sb.append("X19Sb290Il0sIHJlZmxlY3Rpb24udHlwZXMpOwogICAgICAgIHZpZXdKc29uLmFwcGVuZChyZXN1bHQu");
    sb.append("ZG9tKTsKICAgICAgICBjby5kZWJ1Z190cmVlLnN1YnNjcmliZShyZXN1bHQudXBkYXRlKTsKICAgICAg");
    sb.append("ICAvLyBoYW5kbGUgdGhlIGNoYW5uZWxzIHRhYgogICAgICAgIG1ha2VDaGFubmVsRGVidWdnZXIocmVm");
    sb.append("bGVjdGlvbi5jaGFubmVscywgcmVmbGVjdGlvbi50eXBlcywgY28ucHRyKTsKICAgICAgfSwKICAgICAg");
    sb.append("ZmFpbHVyZTogZnVuY3Rpb24ocmVhc29uKSB7CiAgICAgICAgdmlld0pzb24uaW5uZXJIVE1MID0gIltG");
    sb.append("QUlMRUQgVE8gR0VUIFNDSEVNQToiICsgcmVhc29uICsgIl0iOwogICAgICAgIHZpZXdDaGFubmVscy5p");
    sb.append("bm5lckhUTUwgPSAiW0ZBSUxFRCBUTyBHRVQgU0NIRU1BOiIgKyByZWFzb24gKyAiXSI7CiAgICAgIH0K");
    sb.append("ICAgIH07CiAgICBpZiAoY28udmlhX2RvbWFpbikgewogICAgICBjby5yYXcuRG9tYWluUmVmbGVjdChj");
    sb.append("by5pZGVudGl0eSwgY28uZG9tYWluLCBoYW5kbGVyKTsKICAgIH0gZWxzZSB7CiAgICAgIGNvLnJhdy5T");
    sb.append("cGFjZVJlZmxlY3QoY28uaWRlbnRpdHksIGNvLnNwYWNlLCBjby5rZXksIGhhbmRsZXIpOwogICAgfQog");
    sb.append("IH07CgogIHZhciBjb25uZWN0aW9uU2VsZWN0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzZWxl");
    sb.append("Y3QiKTsKICBjb25uZWN0aW9uU2VsZWN0b3Iuc3R5bGUgPSAiYmFja2dyb3VuZDogIzMzMzsgY29sb3I6");
    sb.append("ICNmZmYiOwogIHZhciBzd2l0Y2hfdG9fY29ubmVjdGlvbiA9IGZ1bmN0aW9uKG5hbWUpIHsKICAgIGN1");
    sb.append("cnJlbnQgPSBuYW1lOwogICAgbnVrZSh2aWV3Q2hhbm5lbHMpOwogICAgbnVrZSh2aWV3SnNvbik7CiAg");
    sb.append("ICBjb25uZWN0aW9uc1tuYW1lXS5yZW5kZXJlZCA9ICIiOwogICAgcmVuZGVyKG5hbWUpOwogIH07CiAg");
    sb.append("Y29ubmVjdGlvblNlbGVjdG9yLm9uY2hhbmdlID0gZnVuY3Rpb24oKSB7CiAgICBzd2l0Y2hfdG9fY29u");
    sb.append("bmVjdGlvbihjb25uZWN0aW9uU2VsZWN0b3IudmFsdWUpOwogIH07CiAgdmFyIHJlZnJlc2hfc2VsZWN0");
    sb.append("ID0gZnVuY3Rpb24oKSB7CiAgICBudWtlKGNvbm5lY3Rpb25TZWxlY3Rvcik7CiAgICBmb3IgKHZhciBu");
    sb.append("YW1lIGluIGNvbm5lY3Rpb25zKSB7CiAgICAgIHZhciBvcHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50");
    sb.append("KCJvcHRpb24iKTsKICAgICAgb3B0LnZhbHVlID0gbmFtZTsKICAgICAgb3B0LmlubmVyVGV4dCA9IG5h");
    sb.append("bWU7CiAgICAgIGNvbm5lY3Rpb25TZWxlY3Rvci5hcHBlbmRDaGlsZChvcHQpOwogICAgICBpZiAoY3Vy");
    sb.append("cmVudCA9PSBudWxsKSB7CiAgICAgICAgc3dpdGNoX3RvX2Nvbm5lY3Rpb24obmFtZSk7CiAgICAgICAg");
    sb.append("Y29ubmVjdGlvblNlbGVjdG9yLnZhbHVlID0gbmFtZTsKICAgICAgfQogICAgfQogIH07CgogIHNlbGYu");
    sb.append("dG9nZ2xlID0gZnVuY3Rpb24oKSB7CiAgICBpZiAoc2VsZi5zaG93bikgewogICAgICB0cnkgewogICAg");
    sb.append("ICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoc2VsZi5yb290KTsKICAgICAgfSBjYXRjaCAobm90");
    sb.append("cHJlc2VudCkgewogICAgICAgIHNlbGYuc2hvd24gPSAhc2VsZi5zaG93bjsKICAgICAgICBkb2N1bWVu");
    sb.append("dC5ib2R5LmFwcGVuZChzZWxmLnJvb3QpOwogICAgICB9CiAgICB9CiAgICBlbHNlCiAgICB7CiAgICAg");
    sb.append("IHNlbGYucm9vdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICBkZWJ1Z2dlclBv");
    sb.append("c2l0aW9uID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oIkFkYW1hRGVidWdnZXJQb3NpdGlvbiIpOwogICAg");
    sb.append("ICBpZiAoIWRlYnVnZ2VyUG9zaXRpb24gfHwgZGVidWdnZXJQb3NpdGlvbiA9PSAiIikgewogICAgICAg");
    sb.append("IGRlYnVnZ2VyUG9zaXRpb24gPSAidG9wOjBweDsgbGVmdDowcHg7d2lkdGg6ODAwcHg7aGVpZ2h0OjYw");
    sb.append("MHB4IjsKICAgICAgfQogICAgICBzZWxmLnJvb3Quc3R5bGUgPSAicG9zaXRpb246YWJzb2x1dGU7IiAr");
    sb.append("IGRlYnVnZ2VyUG9zaXRpb24gKyAiO2JhY2tncm91bmQ6ICMwMDA7Ym9yZGVyOjFweCBzb2xpZCByZWQ7");
    sb.append("ei1pbmRleDoxMDAwOyBvdmVyZmxvdzpzY3JvbGwiOwogICAgICB2YXIgdGl0bGVCYXIgPSBkb2N1bWVu");
    sb.append("dC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgICAgdGl0bGVCYXIuaW5uZXJIVE1MID0gIkFkYW1hIERl");
    sb.append("YnVnZ2VyIjsKICAgICAgdGl0bGVCYXIuc3R5bGUgPSAiYmFja2dyb3VuZDogIzIyMjsgY29sb3I6ICMw");
    sb.append("ZjA7IGN1cnNvcjptb3ZlOyB3aWR0aDoxMDAlOyBmb250LXZhcmlhbnQ6IHNtYWxsLWNhcHM7IHBhZGRp");
    sb.append("bmc6MnB4OyB0ZXh0LWFsaWduOiBjZW50ZXI7IjsKICAgICAgdGl0bGVCYXIub25tb3VzZWRvd24gPSBm");
    sb.append("dW5jdGlvbihldikgewogICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgdmFyIHJlY3Qg");
    sb.append("PSBzZWxmLnJvb3QuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgICAgdmFyIHN0YXJ0ID0ge3g6");
    sb.append("IGV2LmNsaWVudFgsIHk6IGV2LmNsaWVudFl9OwogICAgICAgIHZhciB1cGRhdGUgPSBmdW5jdGlvbihu");
    sb.append("eCkgewogICAgICAgICAgc2VsZi5yb290LnN0eWxlLmxlZnQgPSAocmVjdC5sZWZ0ICsgbnguY2xpZW50");
    sb.append("WCAtIHN0YXJ0LngpICsgInB4IjsKICAgICAgICAgIHNlbGYucm9vdC5zdHlsZS50b3AgPSAocmVjdC50");
    sb.append("b3AgKyBueC5jbGllbnRZIC0gc3RhcnQueSkgKyAicHgiOwogICAgICAgIH07CiAgICAgICAgd2luZG93");
    sb.append("Lm9ubW91c2Vtb3ZlID0gZnVuY3Rpb24obngpIHsKICAgICAgICAgIHVwZGF0ZShueCk7CiAgICAgICAg");
    sb.append("ICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiQWRhbWFEZWJ1Z2dlclBvc2l0aW9uIiwgInRvcDoiK3NlbGYu");
    sb.append("cm9vdC5zdHlsZS50b3ArIjsgbGVmdDoiK3NlbGYucm9vdC5zdHlsZS5sZWZ0KyI7d2lkdGg6ODAwcHg7");
    sb.append("aGVpZ2h0OjYwMHB4Iik7CiAgICAgICAgfTsKICAgICAgICB3aW5kb3cub25tb3VzZXVwID0gZnVuY3Rp");
    sb.append("b24obngpIHsKICAgICAgICAgIHVwZGF0ZShueCk7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRl");
    sb.append("bSgiQWRhbWFEZWJ1Z2dlclBvc2l0aW9uIiwgInRvcDoiK3NlbGYucm9vdC5zdHlsZS50b3ArIjsgbGVm");
    sb.append("dDoiK3NlbGYucm9vdC5zdHlsZS5sZWZ0KyI7d2lkdGg6ODAwcHg7aGVpZ2h0OjYwMHB4Iik7CiAgICAg");
    sb.append("ICAgICB3aW5kb3cub25tb3VzZW1vdmUgPSBmdW5jdGlvbigpIHt9OwogICAgICAgICAgd2luZG93Lm9u");
    sb.append("bW91c2V1cCA9IGZ1bmN0aW9uKCkge307CiAgICAgICAgfTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAg");
    sb.append("ICAgIH0KICAgICAgc2VsZi5yb290LmFwcGVuZENoaWxkKHRpdGxlQmFyKTsKICAgICAgc2VsZi5yb290");
    sb.append("LmFwcGVuZENoaWxkKGNvbm5lY3Rpb25TZWxlY3Rvcik7CiAgICAgIHNlbGYucm9vdC5hcHBlbmRDaGls");
    sb.append("ZCh2aWV3SnNvbik7CiAgICAgIHNlbGYucm9vdC5hcHBlbmRDaGlsZCh2aWV3Q2hhbm5lbHMpOwogICAg");
    sb.append("ICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNlbGYucm9vdCk7CiAgICB9CiAgICBzZWxmLnNob3du");
    sb.append("ID0gIXNlbGYuc2hvd247CiAgfTsKCiAgc2VsZi5yZWdpc3RlciA9IGZ1bmN0aW9uKGNvbm5lY3Rpb24p");
    sb.append("IHsKICAgIGNvbm5lY3Rpb25zW2Nvbm5lY3Rpb24ubmFtZV0gPSBjb25uZWN0aW9uOwogICAgY29ubmVj");
    sb.append("dGlvbi5kZWJ1Z190cmVlID0gbmV3IEFkYW1hVHJlZSgpOwogICAgY29ubmVjdGlvbi5kZWJ1Z2dpbmcg");
    sb.append("PSAiPyI7CiAgICByZWZyZXNoX3NlbGVjdCgpOwogICAgcmV0dXJuIGZ1bmN0aW9uKHBheWxvYWQpIHsK");
    sb.append("ICAgICAgaWYgKGNvbm5lY3Rpb24uYm91bmQgIT0gY29ubmVjdGlvbi5kZWJ1Z2dpbmcgJiYgY3VycmVu");
    sb.append("dCA9PSBjb25uZWN0aW9uLm5hbWUpIHsKICAgICAgICByZW5kZXIoY29ubmVjdGlvbi5uYW1lKTsKICAg");
    sb.append("ICAgfQogICAgICBpZiAoImRhdGEiIGluIHBheWxvYWQuZGVsdGEpIHsKICAgICAgICBjb25uZWN0aW9u");
    sb.append("LmRlYnVnX3RyZWUudXBkYXRlKHBheWxvYWQuZGVsdGEuZGF0YSk7CiAgICAgIH0KICAgICAgLyoKICAg");
    sb.append("ICAgaWYgKCJvdXRzdGFuZGluZyIgaW4gcGF5bG9hZC5kZWx0YSkgewovLyAgICAgICAgY28ub25kZWNp");
    sb.append("ZGUocGF5bG9hZC5kZWx0YS5vdXRzdGFuZGluZyk7CiAgICAgIH0KICAgICAgaWYgKCd2aWV3c3RhdGUn");
    sb.append("IGluIHBheWxvYWQuZGVsdGEpIHsKLy8gICAgICAgIHN0YXRlLnZpZXcudHJlZS51cGRhdGUocGF5bG9h");
    sb.append("ZC5kZWx0YS52aWV3c3RhdGUpOwogICAgICB9CiAgICAgIGlmICgnZ290bycgaW4gcGF5bG9hZC5kZWx0");
    sb.append("YSkgewovLyAgICAgICAgc2VsZi5nb3RvKHBheWxvYWQuZGVsdGEuZ290byk7CiAgICAgIH0KICAgICAg");
    sb.append("Ki8KICAgIH0KICB9OwogIHJldHVybiBzZWxmOwp9KSgpOw==");
    return sb.toString();
  }
  public static final String RXHTML = new String(Base64.getDecoder().decode(make_rxhtml()), StandardCharsets.UTF_8);
  private static String make_rxhtml() {
    StringBuilder sb = new StringBuilder();
    sb.append("dmFyIFJ4SFRNTCA9IChmdW5jdGlvbiAoKSB7CiAgdmFyIHNlbGYgPSB7fTsKCiAgdmFyIHRlbXBsYXRl");
    sb.append("cyA9IHt9OwogIHZhciByb3V0ZXIgPSB7fTsKICAvLyBUaGlzIHN0cmFuZ2UgZXNjYXBpbmcgaXMgZm9y");
    sb.append("IGRldmVsb3BlciBtb2RlIHRvIHByb3h5IHRvIGxvY2FsaG9zdC4KICB2YXIgY29ubmVjdGlvbiA9IG5l");
    sb.append("dyBBZGFtYS5Db25uZWN0aW9uKC8qRU5EUE9JTlQ9WyovQWRhbWEuUHJvZHVjdGlvbi8qXSovKTsKICB2");
    sb.append("YXIgY29ubmVjdGlvbnMgPSB7fTsKCiAgdmFyIGNvbm5lY3Rpb25Nb25pdG9yRG9tID0gZG9jdW1lbnQu");
    sb.append("Y3JlYXRlRWxlbWVudCgiZGl2Iik7CiAgY29ubmVjdGlvbi5vbnN0YXR1c2NoYW5nZSA9IGZ1bmN0aW9u");
    sb.append("IChzdGF0dXMpIHsKICAgIHZhciBpY29uID0gZnVuY3Rpb24gKGNvbG9yKSB7IHJldHVybiAiPHN2ZyB4");
    sb.append("bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgZmlsbD1cIm5vbmVcIiB2aWV3Qm94PVwi");
    sb.append("MCAwIDI0IDI0XCIgc3Ryb2tlLXdpZHRoPVwiMS41XCIgc3Ryb2tlPVwiIiArIGNvbG9yICsgIlwiIHN0");
    sb.append("eWxlPVwid2lkdGg6MTZweDsgaGVpZ2h0OjE2cHhcIj48cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5k");
    sb.append("XCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBkPVwiTTguMjg4IDE1LjAzOGE1LjI1IDUuMjUgMCAw");
    sb.append("MTcuNDI0IDBNNS4xMDYgMTEuODU2YzMuODA3LTMuODA4IDkuOTgtMy44MDggMTMuNzg4IDBNMS45MjQg");
    sb.append("OC42NzRjNS41NjUtNS41NjUgMTQuNTg3LTUuNTY1IDIwLjE1MiAwTTEyLjUzIDE4LjIybC0uNTMuNTMt");
    sb.append("LjUzLS41M2EuNzUuNzUgMCAwMTEuMDYgMHpcIiAvPjwvc3ZnPlxuIjsgfTsKICAgIGlmICghc3RhdHVz");
    sb.append("KSB7CiAgICAgIGNvbm5lY3Rpb25Nb25pdG9yRG9tLnRpdGxlID0gImRpc2Nvbm5lY3RlZCI7CiAgICAg");
    sb.append("IGNvbm5lY3Rpb25Nb25pdG9yRG9tLmlubmVySFRNTCA9IGljb24oInJlZCIpOwogICAgICBjb25uZWN0");
    sb.append("aW9uLm9ucGluZyA9IGZ1bmN0aW9uIChfMSwgXzIpIHsgfTsKICAgIH0gZWxzZSB7CiAgICAgIGNvbm5l");
    sb.append("Y3Rpb24ub25waW5nID0gZnVuY3Rpb24gKF8sIGxhdGVuY3kpIHsKICAgICAgICBjb25uZWN0aW9uTW9u");
    sb.append("aXRvckRvbS50aXRsZSA9ICJjb25uZWN0ZWQ7IGxhdGVuY3k9IiArIGxhdGVuY3kgKyAibXMiOwogICAg");
    sb.append("ICAgIGlmIChsYXRlbmN5ID49IDEwMCkgewogICAgICAgICAgY29ubmVjdGlvbk1vbml0b3JEb20uaW5u");
    sb.append("ZXJIVE1MID0gaWNvbigib3JhbmdlIik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNvbm5lY3Rp");
    sb.append("b25Nb25pdG9yRG9tLmlubmVySFRNTCA9IGljb24oImdyZWVuIik7CiAgICAgICAgfQogICAgICB9Owog");
    sb.append("ICAgfQogIH07CiAgY29ubmVjdGlvbk1vbml0b3JEb20uc3R5bGUgPSAicG9zaXRpb246Zml4ZWQ7IGJv");
    sb.append("dHRvbTowcHg7IHJpZ2h0OjBweCI7CiAgaWYgKEFkYW1hLkRlYnVnZ2VyKSB7CiAgICBjb25uZWN0aW9u");
    sb.append("TW9uaXRvckRvbS5vbmNsaWNrID0gQWRhbWEuRGVidWdnZXIudG9nZ2xlOwogIH0KICBjb25uZWN0aW9u");
    sb.append("LnN0YXJ0KCk7CgogIHZhciByb290UmVwbGFjZSA9ICIvIjsKICB2YXIgZml4UGF0aCA9IGZ1bmN0aW9u");
    sb.append("IChwYXRoKSB7CiAgICByZXR1cm4gcGF0aDsKICB9OwogIGlmICh3aW5kb3cubG9jYXRpb24uaG9zdG5h");
    sb.append("bWUuZW5kc1dpdGgoIi5hZGFtYS1wbGF0Zm9ybS5jb20iKSAmJiAhd2luZG93LmxvY2F0aW9uLmhvc3Ru");
    sb.append("YW1lLmVuZHNXaXRoKCJpZGUuYWRhbWEtcGxhdGZvcm0uY29tIikpIHsKICAgIHZhciBwYXJ0cyA9IHdp");
    sb.append("bmRvdy5sb2NhdGlvbi5wYXRobmFtZS5zcGxpdCgiLyIpOwogICAgcm9vdFJlcGxhY2UgPSBbcGFydHNb");
    sb.append("MF0sIHBhcnRzWzFdLCBwYXJ0c1syXSwgIiJdLmpvaW4oIi8iKTsKICAgIHZhciBvZmZzZXQgPSBwYXJ0");
    sb.append("c1swXS5sZW5ndGggKyBwYXJ0c1sxXS5sZW5ndGggKyBwYXJ0c1syXS5sZW5ndGggKyAyOwogICAgZml4");
    sb.append("UGF0aCA9IGZ1bmN0aW9uIChwYXRoKSB7CiAgICAgIHJldHVybiBwYXRoLnN1YnN0cmluZyhvZmZzZXQp");
    sb.append("OwogICAgfTsKICB9CgogIHZhciBmaXhIcmVmID0gZnVuY3Rpb24gKGhyZWYpIHsKICAgIGlmIChocmVm");
    sb.append("LnN0YXJ0c1dpdGgoIi8iKSkgewogICAgICByZXR1cm4gcm9vdFJlcGxhY2UgKyBocmVmLnN1YnN0cmlu");
    sb.append("ZygxKTsKICAgIH0KICAgIHJldHVybiBocmVmOwogIH07CgogIHZhciBnZXRfY29ubmVjdGlvbl9vYmog");
    sb.append("PSBmdW5jdGlvbiAobmFtZSkgewogICAgaWYgKG5hbWUgaW4gY29ubmVjdGlvbnMpIHsKICAgICAgcmV0");
    sb.append("dXJuIGNvbm5lY3Rpb25zW25hbWVdOwogICAgfSBlbHNlIHsKICAgICAgdmFyIG9iaiA9IHsKICAgICAg");
    sb.append("ICBuYW1lOiBuYW1lLAogICAgICAgIHB0cjogbnVsbCwKICAgICAgICB0cmVlOiBuZXcgQWRhbWFUcmVl");
    sb.append("KCksCiAgICAgICAgb3V0c3RhbmRpbmc6IHt9LAogICAgICAgIGRlY2lzaW9uczoge30sCiAgICAgICAg");
    sb.append("Y2hvaWNlX3N1YnM6IHt9LAogICAgICAgIHJlc2V0czoge30sCiAgICAgICAgY29ubmVjdGlvbl9ldmVu");
    sb.append("dHM6IHt9LAogICAgICAgIHN5bmNfZXZlbnRzOiB7fSwKICAgICAgICBpZDogMCwKICAgICAgICBjb25u");
    sb.append("ZWN0aW9uX3N0YXRlOiBmYWxzZSwKICAgICAgICBjaG9pY2VzOiB7fSwKICAgICAgICBib3VuZDogIiIs");
    sb.append("CiAgICAgICAgdmlld3N0YXRlX3NlbnQ6IHRydWUsCiAgICAgICAgdmlld3N0YXRlX2Nsb25lOiAiIiwK");
    sb.append("ICAgICAgICBoYXNfZmlsdGVyOiBmYWxzZSwKICAgICAgICBzeW5jZWQ6IGZhbHNlLAogICAgICAgIGZp");
    sb.append("bHRlcjoge30sCiAgICAgICAgdnNzZXE6IDAsCiAgICAgICAgZGVidWdnZXI6IGZ1bmN0aW9uIChkZWx0");
    sb.append("YSkgeyB9LAogICAgICAgIHJhdzogY29ubmVjdGlvbgogICAgICB9OwogICAgICBvYmoubnVrZSA9IGZ1");
    sb.append("bmN0aW9uICgpIHsKICAgICAgICB0aGlzLmNvbm5lY3Rpb25fZXZlbnRzID0ge307CiAgICAgICAgdGhp");
    sb.append("cy5zeW5jX2V2ZW50cyA9IHt9OwogICAgICAgIHRoaXMuY2hvaWNlX3N1YnMgPSB7fTsKICAgICAgfS5i");
    sb.append("aW5kKG9iaik7CiAgICAgIGlmIChBZGFtYS5EZWJ1Z2dlcikgewogICAgICAgIG9iai5kZWJ1Z2dlciA9");
    sb.append("IEFkYW1hLkRlYnVnZ2VyLnJlZ2lzdGVyKG9iaik7CiAgICAgIH0KICAgICAgb2JqLnN5bmMgPSBmdW5j");
    sb.append("dGlvbiAoKSB7CiAgICAgICAgdmFyIHN5bmNlZCA9IHRoaXMuY29ubmVjdGlvbl9zdGF0ZSAmJiB0aGlz");
    sb.append("LnZpZXdzdGF0ZV9zZW50OwogICAgICAgIGlmICh0aGlzLnN5bmNlZCA9PSBzeW5jZWQpIHsKICAgICAg");
    sb.append("ICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgdGhpcy5zeW5jZWQgPSBzeW5jZWQ7CiAgICAgICAg");
    sb.append("dmFyIGF4ZSA9IFtdOwogICAgICAgIGZvciAodmFyIHN1YiBpbiBvYmouc3luY19ldmVudHMpIHsKICAg");
    sb.append("ICAgICAgIGlmICghKG9iai5zeW5jX2V2ZW50c1tzdWJdKHN5bmNlZCkpKSB7CiAgICAgICAgICAgIGF4");
    sb.append("ZS5wdXNoKHN1Yik7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZvciAodmFyIGsgPSAwOyBr");
    sb.append("IDwgYXhlLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICBkZWxldGUgb2JqLnN5bmNfZXZlbnRzW2F4ZVtr");
    sb.append("XV07CiAgICAgICAgfQogICAgICB9LmJpbmQob2JqKTsKICAgICAgb2JqLnN1YnNjcmliZV9zeW5jID0g");
    sb.append("ZnVuY3Rpb24gKGNhbGxiYWNrKSB7CiAgICAgICAgdmFyIHMgPSAiLXwiICsgdGhpcy5pZCsrOwogICAg");
    sb.append("ICAgIHRoaXMuc3luY19ldmVudHNbc10gPSBjYWxsYmFjazsKICAgICAgICBjYWxsYmFjayh0aGlzLnN5");
    sb.append("bmNlZCk7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGRlbGV0ZSB0aGlzLnN5");
    sb.append("bmNfZXZlbnRzW3NdOwogICAgICAgIH0uYmluZCh0aGlzKTsKICAgICAgfTsKICAgICAgb2JqLnNldF9j");
    sb.append("b25uZWN0ZWQgPSBmdW5jdGlvbiAoY3MpIHsKICAgICAgICBpZiAodGhpcy5jb25uZWN0aW9uX3N0YXRl");
    sb.append("ID09IGNzKSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHRoaXMuY29ubmVjdGlv");
    sb.append("bl9zdGF0ZSA9IGNzOwogICAgICAgIHZhciBheGUgPSBbXTsKICAgICAgICBmb3IgKHZhciBzdWIgaW4g");
    sb.append("b2JqLmNvbm5lY3Rpb25fZXZlbnRzKSB7CiAgICAgICAgICBpZiAoIShvYmouY29ubmVjdGlvbl9ldmVu");
    sb.append("dHNbc3ViXShjcykpKSB7CiAgICAgICAgICAgIGF4ZS5wdXNoKHN1Yik7CiAgICAgICAgICB9CiAgICAg");
    sb.append("ICAgfQogICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgYXhlLmxlbmd0aDsgaysrKSB7CiAgICAgICAg");
    sb.append("ICBkZWxldGUgb2JqLmNvbm5lY3Rpb25fZXZlbnRzW2F4ZVtrXV07CiAgICAgICAgfQogICAgICAgIHRo");
    sb.append("aXMuc3luYygpOwogICAgICB9LmJpbmQob2JqKTsKICAgICAgb2JqLmNvbm5lY3RlZCA9IGZ1bmN0aW9u");
    sb.append("IChjYWxsYmFjaykgewogICAgICAgIHZhciBzID0gIi18IiArIHRoaXMuaWQrKzsKICAgICAgICB0aGlz");
    sb.append("LmNvbm5lY3Rpb25fZXZlbnRzW3NdID0gY2FsbGJhY2s7CiAgICAgICAgY2FsbGJhY2sodGhpcy5jb25u");
    sb.append("ZWN0aW9uX3N0YXRlKTsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgICAgZGVsZXRl");
    sb.append("IHRoaXMuY29ubmVjdGlvbl9ldmVudHNbc107CiAgICAgICAgfS5iaW5kKHRoaXMpOwogICAgICB9LmJp");
    sb.append("bmQob2JqKTsKICAgICAgb2JqLnN1YnNjcmliZV9hbnkgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsKICAg");
    sb.append("ICAgICB2YXIgcyA9ICItfCIgKyB0aGlzLmlkKys7CiAgICAgICAgdGhpcy5kZWNpc2lvbnNbc10gPSBj");
    sb.append("YWxsYmFjazsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgICAgZGVsZXRlIHRoaXMu");
    sb.append("ZGVjaXNpb25zW3NdOwogICAgICAgIH0uYmluZCh0aGlzKTsKICAgICAgfS5iaW5kKG9iaik7CiAgICAg");
    sb.append("IG9iai5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoY2hhbm5lbCwgY2FsbGJhY2spIHsKICAgICAgICB2YXIg");
    sb.append("cyA9IGNoYW5uZWwgKyAifCIgKyB0aGlzLmlkKys7CiAgICAgICAgdGhpcy5kZWNpc2lvbnNbc10gPSBj");
    sb.append("YWxsYmFjazsKICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgICAgZGVsZXRlIHRoaXMu");
    sb.append("ZGVjaXNpb25zW3NdOwogICAgICAgIH0uYmluZCh0aGlzKTsKICAgICAgfS5iaW5kKG9iaik7CiAgICAg");
    sb.append("IG9iai5zdWJzY3JpYmVfcmVzZXQgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHsKICAgICAgICB2YXIgZHIg");
    sb.append("PSAicmVzZXR8IiArIHRoaXMuaWQrKzsKICAgICAgICB0aGlzLnJlc2V0c1tkcl0gPSBjYWxsYmFjazsK");
    sb.append("ICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgewogICAgICAgICAgZGVsZXRlIHRoaXMucmVzZXRzW2Ry");
    sb.append("XTsKICAgICAgICB9LmJpbmQodGhpcyk7CiAgICAgIH0uYmluZChvYmopOwogICAgICBvYmouc3Vic2Ny");
    sb.append("aWJlX2Nob2ljZSA9IGZ1bmN0aW9uIChjaGFubmVsLCBjYWxsYmFjaykgewogICAgICAgIHZhciBzID0g");
    sb.append("Y2hhbm5lbCArICJ8IiArIHRoaXMuaWQrKzsKICAgICAgICB0aGlzLmNob2ljZV9zdWJzW3NdID0gY2Fs");
    sb.append("bGJhY2s7CiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgICAgIGRlbGV0ZSB0aGlzLmNo");
    sb.append("b2ljZV9zdWJzW3NdOwogICAgICAgIH0uYmluZCh0aGlzKTsKICAgICAgfS5iaW5kKG9iaik7CiAgICAg");
    sb.append("IG9iai5vbmNob2ljZXMgPSBmdW5jdGlvbiAoY2hhbm5lbCwgY2hvaWNlKSB7CiAgICAgICAgdmFyIGF4");
    sb.append("ZSA9IFtdOwogICAgICAgIGZvciAodmFyIHN1YiBpbiBvYmouY2hvaWNlX3N1YnMpIHsKICAgICAgICAg");
    sb.append("IGlmIChzdWIuc3RhcnRzV2l0aChjaGFubmVsICsgInwiKSkgewogICAgICAgICAgICBpZiAoIW9iai5j");
    sb.append("aG9pY2Vfc3Vic1tzdWJdKGNob2ljZSkpIHsKICAgICAgICAgICAgICBheGUucHVzaChzdWIpOwogICAg");
    sb.append("ICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwg");
    sb.append("YXhlLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICBkZWxldGUgb2JqLmNob2ljZV9zdWJzW2F4ZVtrXV07");
    sb.append("CiAgICAgICAgfQogICAgICB9OwogICAgICBvYmoub25kZWNpZGUgPSBmdW5jdGlvbiAob3V0c3RhbmRp");
    sb.append("bmcpIHsKICAgICAgICB2YXIgYXhlUmVzZXQgPSBbXTsKICAgICAgICBmb3IgKHZhciBkciBpbiBvYmou");
    sb.append("cmVzZXRzKSB7CiAgICAgICAgICB2YXIgciA9IG9iai5yZXNldHNbZHJdOwogICAgICAgICAgaWYgKCEo");
    sb.append("cigpKSkgewogICAgICAgICAgICBheGVSZXNldC5wdXNoKGRyKTsKICAgICAgICAgIH0KICAgICAgICB9");
    sb.append("CiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBheGVSZXNldC5sZW5ndGg7IGsrKykgewogICAgICAg");
    sb.append("ICAgZGVsZXRlIG9iai5yZXNldHNbYXhlUmVzZXRba11dOwogICAgICAgIH0KICAgICAgICBmb3IgKHZh");
    sb.append("ciBjaCBpbiBvYmoub3V0c3RhbmRpbmcpIHsKICAgICAgICAgIG9iai5vdXRzdGFuZGluZ1tjaF0gPSB7");
    sb.append("IG9wdGlvbnM6IFtdIH07CiAgICAgICAgfQogICAgICAgIHZhciBuID0gb3V0c3RhbmRpbmcubGVuZ3Ro");
    sb.append("OwogICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgbjsgaysrKSB7CiAgICAgICAgICB2YXIgbyA9IG91");
    sb.append("dHN0YW5kaW5nW2tdOwogICAgICAgICAgb2JqLm91dHN0YW5kaW5nW28uY2hhbm5lbF0gPSBvOwogICAg");
    sb.append("ICAgIH0KICAgICAgICBmb3IgKHZhciBjaCBpbiBvYmoub3V0c3RhbmRpbmcpIHsKICAgICAgICAgIHZh");
    sb.append("ciBvdXQgPSBvYmoub3V0c3RhbmRpbmdbY2hdOwogICAgICAgICAgdmFyIGF4ZSA9IFtdOwogICAgICAg");
    sb.append("ICAgZm9yICh2YXIgc3ViIGluIG9iai5kZWNpc2lvbnMpIHsKICAgICAgICAgICAgaWYgKHN1Yi5zdGFy");
    sb.append("dHNXaXRoKGNoICsgInwiKSB8fCBzdWIuc3RhcnRzV2l0aCgiLXwiKSkgewogICAgICAgICAgICAgIGlm");
    sb.append("ICghb2JqLmRlY2lzaW9uc1tzdWJdKG91dCwgY2gpKSB7CiAgICAgICAgICAgICAgICBheGUucHVzaChz");
    sb.append("dWIpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgZm9y");
    sb.append("ICh2YXIgayA9IDA7IGsgPCBheGUubGVuZ3RoOyBrKyspIHsKICAgICAgICAgICAgZGVsZXRlIG9iai5k");
    sb.append("ZWNpc2lvbnNbYXhlW2tdXTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07CiAgICAgIGNvbm5l");
    sb.append("Y3Rpb25zW25hbWVdID0gb2JqOwogICAgICByZXR1cm4gb2JqOwogICAgfQogIH07CiAgc2VsZi5nZXRD");
    sb.append("b25uZWN0aW9uQnlOYW1lID0gZ2V0X2Nvbm5lY3Rpb25fb2JqOwoKICBzZWxmLm1ha2UgPSBmdW5jdGlv");
    sb.append("biAoKSB7CiAgICByZXR1cm4gbmV3IEFkYW1hVHJlZSgpOwogIH07CgogIC8vIEhFTFBFUiB8IHN1YnNj");
    sb.append("cmliZSB0aGUgZ2l2ZW4gJ3N1YicgdG8gY2hhbmdlcyB3aXRoaW4gc3RhdGUgZm9yIHRoZSBnaXZlbiBm");
    sb.append("aWVsZCBuYW1lZCBuYW1lCiAgdmFyIHN1YnNjcmliZSA9IGZ1bmN0aW9uIChzdGF0ZSwgbmFtZSwgc3Vi");
    sb.append("KSB7CiAgICB2YXIgc3MgPSBzZWxmLnBJKHN0YXRlLCBuYW1lKTsKICAgIHZhciBzID0gc3Nbc3MuY3Vy");
    sb.append("cmVudF07CiAgICBpZiAoIkBlIiBpbiBzLmRlbHRhKSB7CiAgICAgIHMuZGVsdGFbIkBlIl0ucHVzaChz");
    sb.append("dWIpOwogICAgfSBlbHNlIHsKICAgICAgcy5kZWx0YVsiQGUiXSA9IFtzdWJdOwogICAgfQogIH07CiAg");
    sb.append("c2VsZi5zdWJzY3JpYmUgPSBzdWJzY3JpYmU7CgogIC8vIEhFTFBFUiB8IGNyZWF0ZSBmcmVzaCBzdGF0");
    sb.append("ZQogIHZhciBmcmVzaCA9IGZ1bmN0aW9uICh3aGVyZSkgewogICAgcmV0dXJuIHsKICAgICAgdHJlZTog");
    sb.append("bmV3IEFkYW1hVHJlZSgpLAogICAgICBkZWx0YToge30sCiAgICAgIHBhcmVudDogbnVsbCwKICAgICAg");
    sb.append("cGF0aDogbnVsbCwKICAgICAgd2hlcmU6IHdoZXJlCiAgICB9OwogIH07CiAgc2VsZi5mcmVzaCA9IGZy");
    sb.append("ZXNoOwoKICAvLyBIRUxQRVIgfCBjcmVhdGUgYSBuZXcgZGVsdGEgY29weSBmcm9tIHRoZSBnaXZlbiBz");
    sb.append("cGVjaWZpYyBzdGF0ZSAoaS5lLiBlaXRoZXIgZGF0YSBvciB2aWV3KQogIHZhciBuZXdfZGVsdGFfY29w");
    sb.append("eSA9IGZ1bmN0aW9uIChzcykgewogICAgaWYgKHNzID09IG51bGwpIHsKICAgICAgcmV0dXJuIG51bGw7");
    sb.append("CiAgICB9CiAgICB2YXIgcGFyZW50ID0gbnVsbDsKICAgIGlmIChzcy5wYXJlbnQgIT0gbnVsbCkgewog");
    sb.append("ICAgICBwYXJlbnQgPSBuZXdfZGVsdGFfY29weShzcy5wYXJlbnQpOwogICAgfQogICAgdmFyIG5ld19k");
    sb.append("ZWx0YSA9IHt9OwogICAgaWYgKHBhcmVudCAhPSBudWxsKSB7CiAgICAgIHBhcmVudC5kZWx0YVtzcy5w");
    sb.append("YXRoXSA9IG5ld19kZWx0YTsKICAgIH0KICAgIHJldHVybiB7IHRyZWU6IHNzLnRyZWUsIHBhcmVudDog");
    sb.append("cGFyZW50LCBkZWx0YTogbmV3X2RlbHRhLCBwYXRoOiBzcy5wYXRoIH07CiAgfTsKICBzZWxmLm1ha2VE");
    sb.append("ZWx0YUNvcHkgPSBuZXdfZGVsdGFfY29weTsKCiAgLy8gSEVMUEVSIHwgY29uc3RydWN0IGEgcGF0aCB0");
    sb.append("bwogIHZhciBwYXRoX3RvID0gZnVuY3Rpb24gKHNzLCBvYmopIHsKICAgIGlmIChzcy5wYXJlbnQgIT0g");
    sb.append("bnVsbCkgewogICAgICB2YXIgcGVlbCA9IHt9OwogICAgICBwZWVsW3NzLnBhdGhdID0gb2JqOwogICAg");
    sb.append("ICByZXR1cm4gcGF0aF90byhzcy5wYXJlbnQsIHBlZWwpOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJu");
    sb.append("IG9iajsKICAgIH0KICB9OwogIHNlbGYucGF0aFRvID0gcGF0aF90bzsKCiAgLy8gSEVMUEVSIHwgZ2V0");
    sb.append("IHRoZSByb290IG9mIHRoZSBzcGVjaWZpYyBzdGF0ZSAoaS5lLiBlaXRoZXIgdGhlIGRhdGEncyByb290");
    sb.append("IG9yIHRoZSB2aWV3J3Mgcm9vdCkKICB2YXIgcm9vdF9vZiA9IGZ1bmN0aW9uIChzcykgewogICAgdmFy");
    sb.append("IHggPSBzczsKICAgIHdoaWxlICh4LnBhcmVudCAhPSBudWxsKSB7CiAgICAgIHggPSB4LnBhcmVudDsK");
    sb.append("ICAgIH0KICAgIHJldHVybiB4OwogIH07CiAgc2VsZi5yb290T2YgPSByb290X29mOwoKICAvLyBIRUxQ");
    sb.append("RVIgfCByZW1vdmUgYWxsIHRoZSBjaGlsZHJlbiBmcm9tIHRoZSBnaXZlbiBET00gbm9kZQogIHZhciBu");
    sb.append("dWtlID0gZnVuY3Rpb24gKHBhcmVudCkgewogICAgdmFyIGxhc3QgPSBwYXJlbnQubGFzdENoaWxkOwog");
    sb.append("ICAgd2hpbGUgKGxhc3QpIHsKICAgICAgcGFyZW50LnJlbW92ZUNoaWxkKGxhc3QpOwogICAgICBsYXN0");
    sb.append("ID0gcGFyZW50Lmxhc3RDaGlsZDsKICAgIH0KICB9OwogIHNlbGYubnVrZSA9IG51a2U7CgogIC8vIEhF");
    sb.append("TFBFUjogZGVib3VuY2UgdGhlIGdpdmVuIGZ1bmN0aW9uYWwgd2hlbiByYXBpZCBmdW5jdGlvbiBzcHJl");
    sb.append("YWQgaXMgZXhwZWN0ZWQKICB2YXIgZGVib3VuY2UgPSBmdW5jdGlvbiAobXMsIGZvbykgewogICAgdmFy");
    sb.append("IHN0YXR1cyA9IHsgaW5mbGlnaHQ6IGZhbHNlLCB0aW1lb3V0OiBudWxsIH07CiAgICBzdGF0dXMuaW5m");
    sb.append("bGlnaHQgPSBmYWxzZTsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIGlmICghc3RhdHVzLmlu");
    sb.append("ZmxpZ2h0KSB7CiAgICAgICAgc3RhdHVzLmluZmxpZ2h0ID0gdHJ1ZTsKICAgICAgICBzdGF0dXMudGlt");
    sb.append("ZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIHN0YXR1cy5pbmZs");
    sb.append("aWdodCA9IGZhbHNlOwogICAgICAgICAgc3RhdHVzLnRpbWVvdXQgPSBudWxsOwogICAgICAgICAgZm9v");
    sb.append("KCk7CiAgICAgICAgfSwgbXMgLyogbXMgKi8pOyAvLyBkZWJvdW5jZSB0aGUgcGFyYW1ldGVycwogICAg");
    sb.append("ICB9CiAgICB9OwogIH07CiAgc2VsZi5kZWJvdW5jZSA9IGRlYm91bmNlOwoKICAvLyBIRUxQRVIgfCBw");
    sb.append("cmVwYXJlIGEgZnJlZSB1bnN1YnNjcmliZSBvYmplY3QKICB2YXIgbWFrZV91bnN1YiA9IGZ1bmN0aW9u");
    sb.append("ICgpIHsKICAgIHJldHVybiB7CiAgICAgIF9fZGF0YTogZnVuY3Rpb24gKCkgewogICAgICB9LCBfX3Zp");
    sb.append("ZXc6IGZ1bmN0aW9uICgpIHsKICAgICAgfQogICAgfTsKICB9OwoKICAvLyBIRUxQRVIgfCBhdWdtZW50");
    sb.append("IGFuIGV4aXN0aW5nIG9iamVjdCB3aXRoIHVuc3Vic2NyaWJlIGRhdGEKICB2YXIgYWRkX3Vuc3ViID0g");
    sb.append("ZnVuY3Rpb24gKG9iaikgewogICAgb2JqLl9fZGF0YSA9IGZ1bmN0aW9uICgpIHsKICAgIH07CiAgICBv");
    sb.append("YmouX192aWV3ID0gZnVuY3Rpb24gKCkgewogICAgfTsKICB9OwoKICAvLyBIRUxQRVIgfCBmaXJlIHRo");
    sb.append("ZSB1bnN1YnNjcmliZSBjYWxscyB3aXRoaW4gYW4gb2JqZWN0CiAgdmFyIGZpcmVfdW5zdWIgPSBmdW5j");
    sb.append("dGlvbiAodW5zdWIpIHsKICAgIHVuc3ViLl9fZGF0YSgpOwogICAgdW5zdWIuX192aWV3KCk7CiAgfTsK");
    sb.append("CiAgLy8gSEVMUEVSIHwgc3Vic2NyaWJlIHRvIHN0YXRlIGFuZCBwb3B1bGF0ZSB1bnN1YnNjcmliZSBv");
    sb.append("YmplY3QKICB2YXIgc3Vic2NyaWJlX3N0YXRlID0gZnVuY3Rpb24gKHN0YXRlLCB1bnN1YikgewogICAg");
    sb.append("aWYgKHN0YXRlLmRhdGEgIT0gbnVsbCkgewogICAgICB1bnN1Yi5fX2RhdGEgPSBzdGF0ZS5kYXRhLnRy");
    sb.append("ZWUuc3Vic2NyaWJlKHJvb3Rfb2Yoc3RhdGUuZGF0YSkuZGVsdGEpOwogICAgfSBlbHNlIHsKICAgICAg");
    sb.append("dW5zdWIuX19kYXRhID0gZnVuY3Rpb24gKCkgewogICAgICB9OwogICAgfQogICAgaWYgKHN0YXRlLnZp");
    sb.append("ZXcgIT0gbnVsbCkgewogICAgICB1bnN1Yi5fX3ZpZXcgPSBzdGF0ZS52aWV3LnRyZWUuc3Vic2NyaWJl");
    sb.append("KHJvb3Rfb2Yoc3RhdGUudmlldykuZGVsdGEpOwogICAgfSBlbHNlIHsKICAgICAgdW5zdWIuX192aWV3");
    sb.append("ID0gZnVuY3Rpb24gKCkgewogICAgICB9OwogICAgfQogIH07CgogIC8vIFJVTlRJTUUgfCBTd2l0Y2gg");
    sb.append("dG8gdGhlIHZpZXcgb2JqZWN0CiAgc2VsZi5wViA9IGZ1bmN0aW9uIChzdGF0ZSkgewogICAgcmV0dXJu");
    sb.append("IHsgc2VydmljZTogc3RhdGUuc2VydmljZSwgZGF0YTogc3RhdGUuZGF0YSwgdmlldzogc3RhdGUudmll");
    sb.append("dywgY3VycmVudDogInZpZXciIH07CiAgfTsKICBzZWxmLm5ld1N0YXRlVmlld09mID0gc2VsZi5wVjsK");
    sb.append("CiAgLy8gUlVOVElNRSB8IFN3aXRjaCB0byB0aGUgZGF0YSBvYmplY3QKICBzZWxmLnBEID0gZnVuY3Rp");
    sb.append("b24gKHN0YXRlKSB7CiAgICByZXR1cm4geyBzZXJ2aWNlOiBzdGF0ZS5zZXJ2aWNlLCBkYXRhOiBzdGF0");
    sb.append("ZS5kYXRhLCB2aWV3OiBzdGF0ZS52aWV3LCBjdXJyZW50OiAiZGF0YSIgfTsKICB9OwogIHNlbGYubmV3");
    sb.append("U3RhdGVEYXRhT2YgPSBzZWxmLnBEOwoKICAvLyBSVU5USU1FIHwgU3dpdGNoIHRvIHRoZSByb290IG9i");
    sb.append("amVjdCAvIChSb290KQogIHNlbGYucFIgPSBmdW5jdGlvbiAoc3RhdGUpIHsKICAgIHZhciBuZXh0ID0g");
    sb.append("eyBzZXJ2aWNlOiBzdGF0ZS5zZXJ2aWNlLCBkYXRhOiBzdGF0ZS5kYXRhLCB2aWV3OiBzdGF0ZS52aWV3");
    sb.append("LCBjdXJyZW50OiBzdGF0ZS5jdXJyZW50IH07CiAgICB2YXIgcHJpb3IgPSBuZXh0W3N0YXRlLmN1cnJl");
    sb.append("bnRdOwogICAgd2hpbGUgKHByaW9yICE9IG51bGwpIHsKICAgICAgbmV4dFtzdGF0ZS5jdXJyZW50XSA9");
    sb.append("IHByaW9yOwogICAgICBwcmlvciA9IHByaW9yLnBhcmVudDsKICAgIH0KICAgIHJldHVybiBuZXh0Owog");
    sb.append("IH07CiAgc2VsZi5uZXdTdGF0ZVJvb3RPZiA9IHNlbGYucFI7CgogIC8vIFJVTlRJTUUgfCAuLi8gKFVw");
    sb.append("KQogIHNlbGYucFUgPSBmdW5jdGlvbiAoc3RhdGUpIHsKICAgIHZhciBuZXh0ID0geyBzZXJ2aWNlOiBz");
    sb.append("dGF0ZS5zZXJ2aWNlLCBkYXRhOiBzdGF0ZS5kYXRhLCB2aWV3OiBzdGF0ZS52aWV3LCBjdXJyZW50OiBz");
    sb.append("dGF0ZS5jdXJyZW50IH07CiAgICB2YXIgcHJpb3IgPSBuZXh0W3N0YXRlLmN1cnJlbnRdOwogICAgaWYg");
    sb.append("KHByaW9yLnBhcmVudCAhPSBudWxsKSB7CiAgICAgIG5leHRbc3RhdGUuY3VycmVudF0gPSBwcmlvcjsK");
    sb.append("ICAgIH0KICAgIHJldHVybiBuZXh0OwogIH07CiAgc2VsZi5uZXdTdGF0ZVBhcmVudE9mID0gc2VsZi5w");
    sb.append("VTsKCiAgLy8gUlVOVElNRSB8IGRpdmUgb25lIGxldmVsIEludG8gcGF0aDEvcGF0aDIvLi4uLi9wYXRo");
    sb.append("TgogIHNlbGYucEkgPSBmdW5jdGlvbiAoc3RhdGUsIG5hbWUpIHsKICAgIHZhciBwcmlvciA9IHN0YXRl");
    sb.append("W3N0YXRlLmN1cnJlbnRdOwogICAgaWYgKCEobmFtZSBpbiBwcmlvci5kZWx0YSkpIHsKICAgICAgcHJp");
    sb.append("b3IuZGVsdGFbbmFtZV0gPSB7fTsKICAgIH0KICAgIHZhciBuZXh0ID0geyBzZXJ2aWNlOiBzdGF0ZS5z");
    sb.append("ZXJ2aWNlLCBkYXRhOiBzdGF0ZS5kYXRhLCB2aWV3OiBzdGF0ZS52aWV3LCBjdXJyZW50OiBzdGF0ZS5j");
    sb.append("dXJyZW50IH07CiAgICBuZXh0W3N0YXRlLmN1cnJlbnRdID0gewogICAgICB0cmVlOiBwcmlvci50cmVl");
    sb.append("LAogICAgICBkZWx0YTogcHJpb3IuZGVsdGFbbmFtZV0sCiAgICAgIHBhcmVudDogcHJpb3IsCiAgICAg");
    sb.append("IHBhdGg6IG5hbWUKICAgIH07CiAgICBpZiAobmV4dC5jdXJyZW50ID09ICJkYXRhIikgewogICAgICBu");
    sb.append("ZXh0LmRhdGEuY29ubmVjdGlvbiA9IHByaW9yLmNvbm5lY3Rpb247CiAgICB9CiAgICByZXR1cm4gbmV4");
    sb.append("dDsKICB9OwogIHNlbGYubmV3U3RhdGVEaXZlSW50byA9IHNlbGYucEk7CgogIC8vIFJVTlRJTUUgfCBl");
    sb.append("eHRlbmQgdGhlIGdpdmVuIHN0YXRlIHdpdGggdGhlIHZpZXcgaGF2aW5nIGEgc2VwYXJhdGUgY2hpbGQK");
    sb.append("ICBzZWxmLnBFViA9IGZ1bmN0aW9uIChzdGF0ZSwgbmFtZSkgewogICAgaWYgKCEobmFtZSBpbiBzdGF0");
    sb.append("ZS52aWV3LmRlbHRhKSkgewogICAgICBzdGF0ZS52aWV3LmRlbHRhW25hbWVdID0ge307CiAgICB9CiAg");
    sb.append("ICByZXR1cm4gewogICAgICBzZXJ2aWNlOiBzdGF0ZS5zZXJ2aWNlLAogICAgICBkYXRhOiBzdGF0ZS5k");
    sb.append("YXRhLAogICAgICB2aWV3OiB7CiAgICAgICAgdHJlZTogc3RhdGUudmlldy50cmVlLAogICAgICAgIGRl");
    sb.append("bHRhOiBzdGF0ZS52aWV3LmRlbHRhW25hbWVdLAogICAgICAgIHBhcmVudDogc3RhdGUudmlldywKICAg");
    sb.append("ICAgICBwYXRoOiBuYW1lCiAgICAgIH0sCiAgICAgIGN1cnJlbnQ6IHN0YXRlLmN1cnJlbnQKICAgIH07");
    sb.append("CiAgfTsKICBzZWxmLm5ld1N0YXRlQ3JlYXRlVmlld0NoaWxkID0gc2VsZi5wRVY7CgogIHNlbGYucElF");
    sb.append("ID0gZnVuY3Rpb24gKHN0YXRlLCBuYW1lLCBleHBhbmRWaWV3KSB7CiAgICB2YXIgbmV4dCA9IHNlbGYu");
    sb.append("cEkoc3RhdGUsIG5hbWUpOwogICAgaWYgKGV4cGFuZFZpZXcpIHsKICAgICAgcmV0dXJuIHNlbGYucEVW");
    sb.append("KG5leHQsIG5hbWUpOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIG5leHQ7CiAgICB9CiAgfTsKCiAg");
    sb.append("dmFyIGZvcmsgPSBmdW5jdGlvbiAocHJpb3JTdGF0ZSkgewogICAgdmFyIHN0YXRlID0gewogICAgICBz");
    sb.append("ZXJ2aWNlOiBwcmlvclN0YXRlLnNlcnZpY2UsCiAgICAgIGRhdGE6IG5ld19kZWx0YV9jb3B5KHByaW9y");
    sb.append("U3RhdGUuZGF0YSksCiAgICAgIHZpZXc6IG5ld19kZWx0YV9jb3B5KHByaW9yU3RhdGUudmlldyksCiAg");
    sb.append("ICAgIGN1cnJlbnQ6IHByaW9yU3RhdGUuY3VycmVudAogICAgfTsKICAgIGlmIChzdGF0ZS5kYXRhICE9");
    sb.append("IG51bGwpIHsKICAgICAgc3RhdGUuZGF0YS5jb25uZWN0aW9uID0gcHJpb3JTdGF0ZS5kYXRhLmNvbm5l");
    sb.append("Y3Rpb247CiAgICB9CiAgICByZXR1cm4gc3RhdGU7CiAgfTsKCiAgLy8gUlVOVElNRSB8IHN1YnNjcmli");
    sb.append("ZSBiZXR3ZWVuIHRoZSBzdGF0ZSBhbmQgdGhlIG9iamVjdC4KICAvLyBXaGVuIHRoZSBtZW1iZXIgZmll");
    sb.append("bGQgd2l0aGluIHN0YXRlIG9mIG5hbWUgY2hhbmdlcywgY29weSB0aGF0IHZhbHVlIGludG8gdGhlIG9i");
    sb.append("aiBhbmQgcnVuIHJlY29tcHV0ZSgpCiAgc2VsZi5ZID0gZnVuY3Rpb24gKHN0YXRlLCBvYmosIG5hbWUs");
    sb.append("IHJlY29tcHV0ZSkgewogICAgdmFyIHN1YiA9IGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICBvYmpbbmFt");
    sb.append("ZV0gPSB2YWx1ZTsKICAgICAgcmVjb21wdXRlKCk7CiAgICB9OwogICAgc3Vic2NyaWJlKHN0YXRlLCBu");
    sb.append("YW1lLCBzdWIpOwogIH07CgogIHNlbGYuWTIgPSBmdW5jdGlvbiAoc3RhdGUsIHIsIGtleSwgbmFtZSwg");
    sb.append("cmVjb21wdXRlKSB7CiAgICB2YXIgc3ViID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIHZhciBvYmog");
    sb.append("PSByLl9ba2V5XTsKICAgICAgb2JqW25hbWVdID0gdmFsdWU7CiAgICAgIHJlY29tcHV0ZShvYmopOwog");
    sb.append("ICAgICByZXR1cm4gdHJ1ZTsKICAgIH07CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5hbWUsIHN1Yik7CiAg");
    sb.append("fTsKCiAgLy8gUlVOVElNRTogYnVpbGQgYW4gcnhvYmoKICBzZWxmLlJYID0gZnVuY3Rpb24gKHZhcnMp");
    sb.append("IHsKICAgIHZhciBvID0ge307CiAgICBvLl8gPSB7fTsKICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdmFy");
    sb.append("cy5sZW5ndGg7IGsrKykgewogICAgICBvLl9bdmFyc1trXV0gPSB7fTsKICAgIH0KICAgIG8uX18gPSBm");
    sb.append("dW5jdGlvbigpIHt9OwogICAgcmV0dXJuIG87CiAgfTsKCiAgLy8gUlVOVElNRSB8IEp1c3Qgc3Vic2Ny");
    sb.append("aWJlZSB2YWx1ZSB0byB0aGUgb2JqZWN0IGZpZWxkIG9mIG5hbWUgKG5vLXJlY29tcHV0ZSkKICBzZWxm");
    sb.append("LllTID0gZnVuY3Rpb24gKHN0YXRlLCBvYmosIG5hbWUpIHsKICAgIHZhciBzdWIgPSBmdW5jdGlvbiAo");
    sb.append("dmFsdWUpIHsKICAgICAgb2JqW25hbWVdID0gdmFsdWU7CiAgICAgIHJldHVybiB0cnVlOwogICAgfTsK");
    sb.append("ICAgIHN1YnNjcmliZShzdGF0ZSwgbmFtZSwgc3ViKTsKICB9OwoKICAvLyBSVU5USU1FIHwgIlRleHQi");
    sb.append("CiAgc2VsZi5UID0gZnVuY3Rpb24gKHR4KSB7CiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5v");
    sb.append("ZGUodHgpOwogIH07CgogIC8vIGNvbnZlcnQgYSB2YWx1ZSBpbnRvIGEgYm9vbGVhbgogIHNlbGYuQiA9");
    sb.append("IGZ1bmN0aW9uKHZhbCkgewogICAgaWYgKHZhbCA9PT0gdHJ1ZSkgewogICAgICByZXR1cm4gdHJ1ZTsK");
    sb.append("ICAgIH0KICAgIHJldHVybiB2YWwgPT0gInRydWUiOwogIH07CgogIC8vIFJVTlRJTUUgfCA8dmlldy13");
    sb.append("cml0ZSBuYW1lPSIiIHZhbHVlPSIiPgogIHNlbGYuVlcgPSBmdW5jdGlvbihzdGF0ZSwgbmFtZSwgcnhP");
    sb.append("YmopIHsKICAgIHJ4T2JqLl9fID0gZGVib3VuY2UoNTAsIGZ1bmN0aW9uKCkgewogICAgICB2YXIgb2Jq");
    sb.append("ID0ge307CiAgICAgIHZhciB2YWx1ZSA9IHJ4T2JqLnZhbHVlOwogICAgICBpZiAodHlwZW9mICh2YWx1");
    sb.append("ZSkgPT0gImZ1bmN0aW9uIikgewogICAgICAgIG9ialtuYW1lXSA9IHZhbHVlKCk7CiAgICAgIH0gZWxz");
    sb.append("ZSB7CiAgICAgICAgb2JqW25hbWVdID0gdmFsdWU7CiAgICAgIH0KICAgICAgdmFyIGRlbHRhID0gcGF0");
    sb.append("aF90byhzdGF0ZS52aWV3LCBvYmopOwogICAgICBzdGF0ZVtzdGF0ZS5jdXJyZW50XS50cmVlLnVwZGF0");
    sb.append("ZShkZWx0YSk7CiAgICB9KTsKICB9OwoKICAvLyBSVU5USU1FIHwgPGxvb2t1cCBwYXRoPS4uLj4KICBz");
    sb.append("ZWxmLkwgPSBmdW5jdGlvbiAoc3RhdGUsIG5hbWUpIHsKICAgIHZhciBkb20gPSBkb2N1bWVudC5jcmVh");
    sb.append("dGVUZXh0Tm9kZSgiIik7CiAgICB2YXIgc3ViID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIGRvbS5u");
    sb.append("b2RlVmFsdWUgPSB2YWx1ZTsKICAgIH07CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5hbWUsIHN1Yik7CiAg");
    sb.append("ICByZXR1cm4gZG9tOwogIH07CgogIC8vIFJVTlRJTUUgfCA8bG9va3VwIHBhdGg9Li4uIHRyYW5zZm9y");
    sb.append("bT0iJHRyYW5zZm9ybSIgLz4KICBzZWxmLkxUID0gZnVuY3Rpb24gKHN0YXRlLCBuYW1lLCB0cmFuc2Zv");
    sb.append("cm0pIHsKICAgIHZhciBkb20gPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgiIik7CiAgICB2YXIgc3Vi");
    sb.append("ID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7CiAgICAgICAgZG9t");
    sb.append("Lm5vZGVWYWx1ZSA9IHRyYW5zZm9ybSh2YWx1ZSk7CiAgICAgIH0KICAgIH07CiAgICBzdWJzY3JpYmUo");
    sb.append("c3RhdGUsIG5hbWUsIHN1Yik7CiAgICByZXR1cm4gZG9tOwogIH07CgogIC8vIFJVTlRJTUUgfCA8bG9v");
    sb.append("a3VwIHBhdGg9Li4uIHRyYW5zZm9ybT0iJHRyYW5zZm9ybSIgLz4KICBzZWxmLkxUZFQgPSBmdW5jdGlv");
    sb.append("biAoc3RhdGUsIG5hbWUsIHRyYW5zZm9ybSwgZnJlcSkgewogICAgdmFyIGRvbSA9IGRvY3VtZW50LmNy");
    sb.append("ZWF0ZVRleHROb2RlKCIiKTsKICAgIC8vIGNyZWF0ZSB0aGUgbmV4dXMgb2JqZWN0CiAgICB2YXIgb2Jq");
    sb.append("ID0ge307CiAgICBvYmouZnJlcSA9IGZyZXE7CiAgICBvYmoudmFsdWUgPSAiIjsKCiAgICAvLyB1cGRh");
    sb.append("dGUgd2lsbCBleGVjdXRlIHRoZSB0cmFuc2Zvcm0gb24gdGhlIHZhbHVlCiAgICBvYmoudXBkYXRlID0g");
    sb.append("ZnVuY3Rpb24oKSB7CiAgICAgIGRvbS5ub2RlVmFsdWUgPSB0cmFuc2Zvcm0odGhpcy52YWx1ZSk7CiAg");
    sb.append("ICB9LmJpbmQob2JqKTsKCiAgICAvLyBzdWJzY3JpcHRpb24gd2lsbCBzeW5jIHRoZSB2YWx1ZQogICAg");
    sb.append("dmFyIHN1YiA9IGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICBpZiAodmFsdWUgIT0gbnVsbCkgewogICAg");
    sb.append("ICAgIHRoaXMudmFsdWUgPSB2YWx1ZTsKICAgICAgICB0aGlzLnVwZGF0ZSgpOwogICAgICB9CiAgICB9");
    sb.append("LmJpbmQob2JqKTsKCiAgICAvLyByZWZyZXNoIHdpbGwgcmUtZXhlY3V0ZSB0aGUgdXBkYXRlIChhbmQg");
    sb.append("dGh1cyB0aGUgdHJhbnNmb3JtKQogICAgb2JqLnJlZnJlc2ggPSBmdW5jdGlvbigpIHsKICAgICAgdGhp");
    sb.append("cy51cGRhdGUoKTsKICAgICAgaWYgKGRvY3VtZW50LmJvZHkuY29udGFpbnMoZG9tKSkgeyAvLyB3aWxs");
    sb.append("IHJ1biBzbyBsb25nIGFzIHRoZSBET00gY29udGFpbnMgdGhlIG5vZGUgd2UgbWFuaXB1bGF0ZWQKICAg");
    sb.append("ICAgICB3aW5kb3cuc2V0VGltZW91dCh0aGlzLnJlZnJlc2gsIHRoaXMuZnJlcSk7CiAgICAgIH0KICAg");
    sb.append("IH0uYmluZChvYmopOwogICAgLy8ga2ljayBvZmYgdGhlIGF1dG8gdHJhbnNmb3JtCiAgICB3aW5kb3cu");
    sb.append("c2V0VGltZW91dChvYmoucmVmcmVzaCwgZnJlcSk7CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5hbWUsIHN1");
    sb.append("Yik7CiAgICByZXR1cm4gZG9tOwogIH07CgogIC8vIFJVTlRJTUUgfCA8dGFnPgogIHNlbGYuRSA9IGZ1");
    sb.append("bmN0aW9uICh0YWcsIG5zKSB7CiAgICBpZiAobnMgPT0gdW5kZWZpbmVkIHx8IG5zID09IG51bGwpIHsK");
    sb.append("ICAgICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTsKICAgIH0gZWxzZSB7CiAgICAg");
    sb.append("IHZhciByZXN1bHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMobnMsIHRhZyk7CiAgICAgIHJlc3Vs");
    sb.append("dC5zZXRBdHRyaWJ1dGUoInhtbG5zIiwgbnMpOwogICAgICByZXR1cm4gcmVzdWx0OwogICAgfQogIH07");
    sb.append("CgogIC8vIFJVTlRJTUUgfCA8cGljayBuYW1lPS4uLj4KICBzZWxmLlAgPSBmdW5jdGlvbiAocGFyZW50");
    sb.append("LCBwcmlvclN0YXRlLCByeE9iaiwgY2hpbGRNYWtlckNvbm5lY3RlZCwgY2hpbGRNYWtlckRpc2Nvbm5l");
    sb.append("Y3RlZCkgewogICAgdmFyIHVuc3ViID0gbWFrZV91bnN1YigpOwogICAgcnhPYmouX18gPSBmdW5jdGlv");
    sb.append("biAoKSB7CiAgICAgIGlmICghKCduYW1lJyBpbiByeE9iaikpIHsKICAgICAgICByZXR1cm47CiAgICAg");
    sb.append("IH0KICAgICAgaWYgKHRoaXMubmFtZSA9PSByeE9iai5uYW1lKSB7CiAgICAgICAgcmV0dXJuOwogICAg");
    sb.append("ICB9CiAgICAgIHZhciBjbyA9IGdldF9jb25uZWN0aW9uX29iaihyeE9iai5uYW1lKTsKICAgICAgdGhp");
    sb.append("cy5uYW1lID0gcnhPYmoubmFtZTsKICAgICAgY28uY29ubmVjdGVkKGZ1bmN0aW9uIChjcykgewogICAg");
    sb.append("ICAgIG51a2UocGFyZW50KTsKICAgICAgICBmaXJlX3Vuc3ViKHVuc3ViKTsKICAgICAgICB2YXIgc3Rh");
    sb.append("dGUgPSB7CiAgICAgICAgICBzZXJ2aWNlOiBwcmlvclN0YXRlLnNlcnZpY2UsCiAgICAgICAgICBkYXRh");
    sb.append("OiB7IGNvbm5lY3Rpb246IGNvLCB0cmVlOiBjby50cmVlLCBkZWx0YToge30sIHBhcmVudDogbnVsbCwg");
    sb.append("cGF0aDogbnVsbCB9LAogICAgICAgICAgdmlldzogbmV3X2RlbHRhX2NvcHkocHJpb3JTdGF0ZS52aWV3");
    sb.append("KSwKICAgICAgICAgIGN1cnJlbnQ6ICJkYXRhIgogICAgICAgIH07CiAgICAgICAgaWYgKGNzKSB7CiAg");
    sb.append("ICAgICAgICBjaGlsZE1ha2VyQ29ubmVjdGVkKHBhcmVudCwgc3RhdGUpOwogICAgICAgIH0gZWxzZSB7");
    sb.append("CiAgICAgICAgICBjaGlsZE1ha2VyRGlzY29ubmVjdGVkKHBhcmVudCwgc3RhdGUpOwogICAgICAgIH0K");
    sb.append("ICAgICAgICBzdWJzY3JpYmVfc3RhdGUoc3RhdGUsIHVuc3ViKTsKICAgICAgICAvLyBUT0RPOiByZXR1");
    sb.append("cm4gZmFsc2UgdG8gdW5zdWIKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSk7CiAgICB9LmJpbmQo");
    sb.append("eyBuYW1lOiAiIiB9KTsKICB9OwoKICAvLyBSVU5USU1FIHwgPHRlbXBsYXRlIG5hbWU9Ii4uLiI+CiAg");
    sb.append("c2VsZi5UUCA9IGZ1bmN0aW9uIChuYW1lLCBmb28pIHsKICAgIHRlbXBsYXRlc1tuYW1lXSA9IGZvbzsK");
    sb.append("ICB9OwoKICAvLyBSVU5USU1FIHwgPHRhZyByeDp0ZW1wbGF0ZT0kbmFtZT4KICBzZWxmLlVUID0gZnVu");
    sb.append("Y3Rpb24gKHBhcmVudCwgc3RhdGUsIG5hbWUsIGNoaWxkX21ha2VyKSB7CiAgICB2YXIgZm9vID0gdGVt");
    sb.append("cGxhdGVzW25hbWVdOwogICAgZm9vKHBhcmVudCwgc3RhdGUsIGNoaWxkX21ha2VyKTsKICB9OwoKICAv");
    sb.append("LyBSVU5USU1FIHwgPHRhZyByeDpzd2l0Y2g9cGF0aCAuLj4KICBzZWxmLlNXID0gZnVuY3Rpb24gKHBh");
    sb.append("cmVudCwgcHJpb3JTdGF0ZSwgbmFtZSwgY2hpbGRyZW5NYWtlcikgewogICAgdmFyIHN3c3QgPSB7IHBy");
    sb.append("aW9yOiBudWxsIH07CiAgICBhZGRfdW5zdWIoc3dzdCk7CiAgICB2YXIgc3ViID0gZnVuY3Rpb24gKHZh");
    sb.append("bHVlKSB7CiAgICAgIGlmICh2YWx1ZSA9PSB0aGlzLnByaW9yKSB7CiAgICAgICAgcmV0dXJuOwogICAg");
    sb.append("ICB9CiAgICAgIHRoaXMucHJpb3IgPSB2YWx1ZTsKICAgICAgZmlyZV91bnN1Yih0aGlzKTsKICAgICAg");
    sb.append("bnVrZShwYXJlbnQpOwogICAgICB2YXIgc3RhdGUgPSBmb3JrKHByaW9yU3RhdGUpOwogICAgICBjaGls");
    sb.append("ZHJlbk1ha2VyKHBhcmVudCwgc3RhdGUsICIiICsgdmFsdWUpOwogICAgICBzdWJzY3JpYmVfc3RhdGUo");
    sb.append("c3RhdGUsIHRoaXMpOwoKICAgIH0uYmluZChzd3N0KTsKICAgIHN1YnNjcmliZShwcmlvclN0YXRlLCBu");
    sb.append("YW1lLCBzdWIpOwogIH07CgogIC8vIFJVTlRJTUUgfCA8dGFnIHJ4Oml0ZXJhdGU9cGF0aCAuLi4+CiAg");
    sb.append("c2VsZi5JVCA9IGZ1bmN0aW9uIChwYXJlbnREb20sIHN0YXRlLCBuYW1lLCBleHBhbmRWaWV3LCBtYWtl");
    sb.append("cikgewogICAgdmFyIGl0X3N0YXRlID0gc2VsZi5wSUUoc3RhdGUsIG5hbWUsIGV4cGFuZFZpZXcpOwog");
    sb.append("ICAgdmFyIGRvbUJ5S2V5ID0ge307CiAgICB2YXIgdmlld1VuU3ViQnlLZXkgPSB7fTsKICAgIHZhciBr");
    sb.append("aWxsID0gZnVuY3Rpb24gKCkgewogICAgICBmb3IgKHZhciBrZXkgaW4gdmlld1VuU3ViQnlLZXkpIHsK");
    sb.append("ICAgICAgICBmaXJlX3Vuc3ViKHZpZXdVblN1YkJ5S2V5W2tleV0pOwogICAgICAgIGRlbGV0ZSB2aWV3");
    sb.append("VW5TdWJCeUtleVtrZXldOwogICAgICB9CiAgICAgIGZvciAodmFyIGtleSBpbiBkb21CeUtleSkgewog");
    sb.append("ICAgICAgIGRlbGV0ZSBkb21CeUtleVtrZXldOwogICAgICB9CiAgICB9OwoKICAgIHZhciBzdWIgPSB7");
    sb.append("CiAgICAgICIrIjogZnVuY3Rpb24gKGtleSkgewogICAgICAgIHZhciBuZXdfc3RhdGUgPSBmb3JrKHNl");
    sb.append("bGYucElFKGl0X3N0YXRlLCBrZXksIGV4cGFuZFZpZXcpKTsKICAgICAgICB2YXIgdW5zdWIgPSBtYWtl");
    sb.append("X3Vuc3ViKCk7CiAgICAgICAgdmFyIGRvbSA9IG1ha2VyKG5ld19zdGF0ZSk7CiAgICAgICAgZG9tQnlL");
    sb.append("ZXlba2V5XSA9IGRvbTsKICAgICAgICB2aWV3VW5TdWJCeUtleVtrZXldID0gdW5zdWI7CiAgICAgICAg");
    sb.append("cGFyZW50RG9tLmFwcGVuZChkb20pOwogICAgICAgIHZhciBpdGVtX2RlbHRhID0gbmV3X3N0YXRlLmRh");
    sb.append("dGEuZGVsdGE7CiAgICAgICAgbmV3X3N0YXRlLmRhdGEuZGVsdGEgPSB7fTsKICAgICAgICBzdWJzY3Jp");
    sb.append("YmVfc3RhdGUobmV3X3N0YXRlLCB1bnN1Yik7CiAgICAgICAgcmV0dXJuIGl0ZW1fZGVsdGE7CiAgICAg");
    sb.append("IH0sCiAgICAgICItIjogZnVuY3Rpb24gKGtleSkgewogICAgICAgIGlmIChrZXkgaW4gZG9tQnlLZXkp");
    sb.append("IHsKICAgICAgICAgIHBhcmVudERvbS5yZW1vdmVDaGlsZChkb21CeUtleVtrZXldKTsKICAgICAgICAg");
    sb.append("IGRlbGV0ZSBkb21CeUtleVtrZXldOwogICAgICAgIH0KICAgICAgICBpZiAoa2V5IGluIHZpZXdVblN1");
    sb.append("YkJ5S2V5KSB7CiAgICAgICAgICBmaXJlX3Vuc3ViKHZpZXdVblN1YkJ5S2V5W2tleV0pOwogICAgICAg");
    sb.append("ICAgZGVsZXRlIHZpZXdVblN1YkJ5S2V5W2tleV07CiAgICAgICAgfQogICAgICB9LAogICAgICAifiI6");
    sb.append("IGZ1bmN0aW9uIChvcmQpIHsKICAgICAgICBudWtlKHBhcmVudERvbSk7CiAgICAgICAgaWYgKG9yZCA9");
    sb.append("PSBudWxsKSB7CiAgICAgICAgICBraWxsKCk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAg");
    sb.append("ICAgIGZvciAodmFyIGsgPSAwOyBrIDwgb3JkLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICBwYXJlbnRE");
    sb.append("b20uYXBwZW5kKGRvbUJ5S2V5W29yZFtrXV0pOwogICAgICAgIH0KICAgICAgfQogICAgfTsKICAgIHN1");
    sb.append("YnNjcmliZShzdGF0ZSwgbmFtZSwgc3ViKTsKICB9OwoKICB2YXIgZmluZCA9IGZ1bmN0aW9uIChzdGF0");
    sb.append("ZSwgY2hhbm5lbCwga2V5LCB2YWx1ZSkgewogICAgaWYgKGNoYW5uZWwgaW4gc3RhdGVbImRhdGEiXS5j");
    sb.append("b25uZWN0aW9uLm91dHN0YW5kaW5nKSB7CiAgICAgIHZhciBhcnIgPSBzdGF0ZVsiZGF0YSJdLmNvbm5l");
    sb.append("Y3Rpb24ub3V0c3RhbmRpbmdbY2hhbm5lbF0ub3B0aW9uczsKICAgICAgZm9yICh2YXIgayA9IDA7IGsg");
    sb.append("PCBhcnIubGVuZ3RoOyBrKyspIHsKICAgICAgICB2YXIgcyA9IGFycltrXTsKICAgICAgICBpZiAoa2V5");
    sb.append("IGluIHMgJiYgc1trZXldID09IHZhbHVlKSB7CiAgICAgICAgICByZXR1cm4gczsKICAgICAgICB9CiAg");
    sb.append("ICAgIH0KICAgICAgcmV0dXJuIG51bGw7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gbnVsbDsKICAg");
    sb.append("IH0KICB9OwoKICB2YXIgY3VzdG9tcyA9IHt9OwoKICBzZWxmLlBSQ1VBQyA9IGZ1bmN0aW9uIChuYW1l");
    sb.append("LCBmb28pIHsKICAgIGN1c3RvbXNbbmFtZV0gPSBmb287CiAgfTsKCiAgc2VsZi5leENDID0gZnVuY3Rp");
    sb.append("b24gKGRvbSwgdHlwZSwgc3RhdGUsIGN1c3RvbUNvbW1hbmROYW1lKSB7CiAgICByZWdfZXZlbnQoc3Rh");
    sb.append("dGUsIGRvbSwgdHlwZSwgZnVuY3Rpb24gKCkgewogICAgICBpZiAoY3VzdG9tQ29tbWFuZE5hbWUgaW4g");
    sb.append("Y3VzdG9tcykgewogICAgICAgIGN1c3RvbXNbY3VzdG9tQ29tbWFuZE5hbWVdKHN0YXRlLCBkb20pOwog");
    sb.append("ICAgICB9CiAgICB9KTsKICB9OwoKICAvLyBjdXN0b20gZXZlbnQgb24gZm9ybXM7IHJ4OnN1Y2Nlc3M9");
    sb.append("Ii4uLiIKICB2YXIgZmlyZV9zdWNjZXNzID0gZnVuY3Rpb24gKGRvbSkgewogICAgZG9tLmRpc3BhdGNo");
    sb.append("RXZlbnQobmV3IEV2ZW50KCJzdWNjZXNzIikpOwogIH07CiAgc2VsZi5maXJlX3N1Y2Nlc3MgPSBmaXJl");
    sb.append("X3N1Y2Nlc3M7CgogIC8vIGN1c3RvbSBldmVudCBvbiBmb3Jtczsgcng6ZmFpbGVkPSIuLi4iCiAgdmFy");
    sb.append("IGZpcmVfZmFpbHVyZSA9IGZ1bmN0aW9uIChkb20sIG1zZykgewogICAgdmFyIGUgPSBuZXcgRXZlbnQo");
    sb.append("ImZhaWx1cmUiKTsKICAgIGUubWVzc2FnZSA9IG1zZzsKICAgIGNvbnNvbGUubG9nKCJGQUlMVVJFOiIg");
    sb.append("KyBtc2cpOwogICAgZG9tLmRpc3BhdGNoRXZlbnQoZSk7CiAgfTsKICBzZWxmLmZpcmVfZmFpbHVyZSA9");
    sb.append("IGZpcmVfZmFpbHVyZTsKCiAgc2VsZi5hQ0MgPSBmdW5jdGlvbiAoZm9ybSwgc3RhdGUsIGN1c3RvbUNv");
    sb.append("bW1hbmROYW1lKSB7CiAgICB2YXIgc2lnbmFsID0gZnVuY3Rpb24gKG1zZykgewogICAgICBpZiAoc2ln");
    sb.append("bmFsID09IG51bGwpIHsKICAgICAgICBmaXJlX3N1Y2Nlc3MoZm9ybSk7CiAgICAgIH0gZWxzZSB7CiAg");
    sb.append("ICAgICAgZmlyZV9mYWlsdXJlKGZvcm0sIG1zZyk7CiAgICAgIH0KICAgIH07CiAgICBmb3JtLm9uc3Vi");
    sb.append("bWl0ID0gZnVuY3Rpb24gKGV2dCkgewogICAgICBpZiAoY3VzdG9tQ29tbWFuZE5hbWUgaW4gY3VzdG9t");
    sb.append("cykgewogICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIHZhciBvYmogPSBnZXRfZm9y");
    sb.append("bShmb3JtLCBmYWxzZSk7CiAgICAgICAgY3VzdG9tc1tjdXN0b21Db21tYW5kTmFtZV0ob2JqLCBzdGF0");
    sb.append("ZSwgc2lnbmFsLCBzZWxmKTsKICAgICAgICBmaXJlX3N1Y2Nlc3MoZm9ybSk7CiAgICAgIH0gZWxzZSB7");
    sb.append("CiAgICAgICAgZmlyZV9mYWlsdXJlKGZvcm0sICJGYWlsZWQgdG8gZmluZCAnIiArIGN1c3RvbUNvbW1h");
    sb.append("bmROYW1lICsgIiciKTsKICAgICAgfQogICAgfTsKICB9OwoKICB2YXIgbWFrZV9jaG9pY2VfYXJyYXkg");
    sb.append("PSBmdW5jdGlvbiAoc3RhdGUsIGNoYW5uZWwpIHsKICAgIHZhciBjaG9pY2VzID0gc3RhdGUuZGF0YS5j");
    sb.append("b25uZWN0aW9uLmNob2ljZXM7CiAgICBpZiAoIShjaGFubmVsIGluIGNob2ljZXMpKSB7CiAgICAgIGNo");
    sb.append("b2ljZXNbY2hhbm5lbF0gPSB7fTsKICAgIH0KICAgIHZhciBjaG9pY2UgPSBjaG9pY2VzW2NoYW5uZWxd");
    sb.append("OwogICAgdmFyIGFyciA9IFtdOwogICAgZm9yICh2YXIgaWQgaW4gY2hvaWNlKSB7CiAgICAgIGFyci5w");
    sb.append("dXNoKGNob2ljZVtpZF0pOwogICAgfQogICAgcmV0dXJuIGFycjsKICB9CgogIHNlbGYuZXhGSU4gPSBm");
    sb.append("dW5jdGlvbiAoZG9tLCB0eXBlLCBzdGF0ZSwgY2hhbm5lbCkgewogICAgcmVnX2V2ZW50KHN0YXRlLCBk");
    sb.append("b20sIHR5cGUsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIGFyciA9IG1ha2VfY2hvaWNlX2FycmF5KHN0");
    sb.append("YXRlLCBjaGFubmVsKTsKICAgICAgdmFyIGNsZWFyID0gZnVuY3Rpb24gKCkgewogICAgICAgIGRlbGV0");
    sb.append("ZSBzdGF0ZS5kYXRhLmNvbm5lY3Rpb24uY2hvaWNlc1tjaGFubmVsXTsKICAgICAgICBzdGF0ZS5kYXRh");
    sb.append("LmNvbm5lY3Rpb24ub25jaG9pY2VzKGNoYW5uZWwsIHt9KTsKICAgICAgfTsKICAgICAgc3RhdGUuZGF0");
    sb.append("YS5jb25uZWN0aW9uLnB0ci5zZW5kKGNoYW5uZWwsIGFyciwgewogICAgICAgIGZhaWx1cmU6IGZ1bmN0");
    sb.append("aW9uIChyZWFzb24pIHsKICAgICAgICAgIGNsZWFyKCk7CiAgICAgICAgICBjb25zb2xlLmxvZygiZmFp");
    sb.append("bGVkOiIgKyByZWFzb24pOwogICAgICAgIH0sCiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHBheWxv");
    sb.append("YWQpIHsKICAgICAgICAgIGNsZWFyKCk7CiAgICAgICAgICBjb25zb2xlLmxvZygiU3VjY2Vzc3wiICsg");
    sb.append("cGF5bG9hZC5zZXEpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9KTsKICB9OwoKICBzZWxmLkZJTiA9");
    sb.append("IGZ1bmN0aW9uIChwYXJlbnQsIHByaW9yU3RhdGUsIGNoYW5uZWwsIHNob3VsZEJlLCBfZXhwYW5kLCBt");
    sb.append("YWtlclRydWUsIG1ha2VyRmFsc2UpIHsKICAgIHZhciBmaW5hbGl6ZSA9IHsKICAgICAgb3duZXI6IHBh");
    sb.append("cmVudCwKICAgICAgc2hvd246IGZhbHNlCiAgICB9OwogICAgYWRkX3Vuc3ViKGZpbmFsaXplKTsKCiAg");
    sb.append("ICB2YXIgY2hhbmdlID0gZnVuY3Rpb24gKHNob3cpIHsKICAgICAgZmlyZV91bnN1YihmaW5hbGl6ZSk7");
    sb.append("CiAgICAgIG51a2UocGFyZW50KTsKICAgICAgdmFyIHN0YXRlID0gZm9yayhwcmlvclN0YXRlKTsKICAg");
    sb.append("ICAgaWYgKHNob3cgPT09IHNob3VsZEJlKSB7CiAgICAgICAgbWFrZXJUcnVlKHBhcmVudCwgc3RhdGUp");
    sb.append("OwogICAgICB9IGVsc2UgewogICAgICAgIG1ha2VyRmFsc2UocGFyZW50LCBzdGF0ZSk7CiAgICAgIH0K");
    sb.append("ICAgICAgc3Vic2NyaWJlX3N0YXRlKHN0YXRlLCBmaW5hbGl6ZSk7CiAgICB9OwoKICAgIGZpbmFsaXpl");
    sb.append("LnVwZGF0ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIG91dCA9IHByaW9yU3RhdGUuZGF0YS5jb25u");
    sb.append("ZWN0aW9uLm91dHN0YW5kaW5nW2NoYW5uZWxdOwogICAgICBpZiAoIShvdXQpKSByZXR1cm47CiAgICAg");
    sb.append("IHZhciBhcnIgPSBtYWtlX2Nob2ljZV9hcnJheShwcmlvclN0YXRlLCBjaGFubmVsKTsKICAgICAgdmFy");
    sb.append("IGV2YWwgPSAoJ21pbicgaW4gb3V0ICYmICdtYXgnIGluIG91dCkgPyAob3V0Lm1pbiA8PSBhcnIubGVu");
    sb.append("Z3RoICYmIGFyci5sZW5ndGggPD0gb3V0Lm1heCkgOiB0cnVlOwogICAgICBpZiAoZmluYWxpemUuZXZh");
    sb.append("bCAhPSBldmFsKSB7CiAgICAgICAgZmluYWxpemUuZXZhbCA9IGV2YWw7CiAgICAgICAgY2hhbmdlKGZp");
    sb.append("bmFsaXplLmV2YWwpOwogICAgICB9CiAgICB9OwoKICAgIHByaW9yU3RhdGUuZGF0YS5jb25uZWN0aW9u");
    sb.append("LnN1YnNjcmliZV9jaG9pY2UoY2hhbm5lbCwgZnVuY3Rpb24gKCkgewogICAgICBmaW5hbGl6ZS51cGRh");
    sb.append("dGUoKTsKICAgICAgLy8gVE9ETzogcmV0dXJuIHdoZXRoZXIgb3Igbm90IHRoaXMgbmVlZHMgdG8gYmUg");
    sb.append("YXhlZAogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0pOwogIH07CgogIC8vIGNob29zZQogIHNlbGYuZXhD");
    sb.append("SCA9IGZ1bmN0aW9uIChkb20sIHR5cGUsIHN0YXRlLCBuYW1lLCBjaGFubmVsLCBrZXkpIHsKICAgIHZh");
    sb.append("ciBkZWNpZGUgPSB7IHZhbHVlOiBudWxsIH07CiAgICByZWdfZXZlbnQoc3RhdGUsIGRvbSwgdHlwZSwg");
    sb.append("ZnVuY3Rpb24gKCkgewogICAgICB2YXIgcmVzdWx0ID0gZmluZChzdGF0ZSwgY2hhbm5lbCwga2V5LCBk");
    sb.append("ZWNpZGUudmFsdWUpOwogICAgICBpZiAocmVzdWx0ICE9IG51bGwpIHsKICAgICAgICB2YXIgY2hvaWNl");
    sb.append("cyA9IHN0YXRlLmRhdGEuY29ubmVjdGlvbi5jaG9pY2VzOwogICAgICAgIGlmICghKGNoYW5uZWwgaW4g");
    sb.append("Y2hvaWNlcykpIHsKICAgICAgICAgIGNob2ljZXNbY2hhbm5lbF0gPSB7fTsKICAgICAgICB9CiAgICAg");
    sb.append("ICAgdmFyIGNob2ljZSA9IGNob2ljZXNbY2hhbm5lbF07CiAgICAgICAgdmFyIHZhbEtleSA9IHJlc3Vs");
    sb.append("dFtrZXldOwogICAgICAgIGlmICh2YWxLZXkgaW4gY2hvaWNlKSB7CiAgICAgICAgICBkZWxldGUgY2hv");
    sb.append("aWNlW3ZhbEtleV07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGNob2ljZVt2YWxLZXldID0gcmVz");
    sb.append("dWx0OwogICAgICAgIH0KICAgICAgICBzdGF0ZS5kYXRhLmNvbm5lY3Rpb24ub25jaG9pY2VzKGNoYW5u");
    sb.append("ZWwsIGNob2ljZSk7CiAgICAgIH0KICAgIH0pOwogICAgc3Vic2NyaWJlKHN0YXRlLCBuYW1lLCBmdW5j");
    sb.append("dGlvbiAodmFsdWUpIHsKICAgICAgZGVjaWRlLnZhbHVlID0gdmFsdWU7CiAgICB9KTsKICB9OwoKICBz");
    sb.append("ZWxmLmV4RCA9IGZ1bmN0aW9uIChkb20sIHR5cGUsIHN0YXRlLCBuYW1lLCBjaGFubmVsLCBrZXkpIHsK");
    sb.append("ICAgIHZhciBkZWNpZGUgPSB7IHZhbHVlOiBudWxsIH07CiAgICByZWdfZXZlbnQoc3RhdGUsIGRvbSwg");
    sb.append("dHlwZSwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgcmVzdWx0ID0gZmluZChzdGF0ZSwgY2hhbm5lbCwg");
    sb.append("a2V5LCBkZWNpZGUudmFsdWUpOwogICAgICBpZiAocmVzdWx0ICE9IG51bGwpIHsKICAgICAgICBsZXQg");
    sb.append("c3RhcnQgPSBwZXJmb3JtYW5jZS5ub3coKTsKICAgICAgICBzdGF0ZS5kYXRhLmNvbm5lY3Rpb24ucHRy");
    sb.append("LnNlbmQoY2hhbm5lbCwgcmVzdWx0LCB7CiAgICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29u");
    sb.append("KSB7CgogICAgICAgICAgfSwKICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChwYXlsb2FkKSB7CiAg");
    sb.append("ICAgICAgICAgIGNvbnNvbGUubG9nKCJTdWNjZXNzfCIgKyBwYXlsb2FkLnNlcSArICI7bGF0ZW5jeT0i");
    sb.append("ICsgKHBlcmZvcm1hbmNlLm5vdygpIC0gc3RhcnQpKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAg");
    sb.append("ICAgfQogICAgfSk7CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5hbWUsIGZ1bmN0aW9uICh2YWx1ZSkgewog");
    sb.append("ICAgICBkZWNpZGUudmFsdWUgPSB2YWx1ZTsKICAgIH0pOwogIH07CgogIHZhciByZWdfZXZlbnQgPSBm");
    sb.append("dW5jdGlvbiAoc3RhdGUsIGRvbSwgdHlwZSwgcnVubmFibGUpIHsKICAgIC8vIFRPRE86IGNvbm5lY3Rl");
    sb.append("ZC9kaXNjb25uZWN0ZWQgYXMgc3BlY2lhbCBldmVudHMgdG8gY29uc2lkZXIKICAgIGlmICh0eXBlID09");
    sb.append("ICJsb2FkIikgewogICAgICB3aW5kb3cuc2V0VGltZW91dChydW5uYWJsZSwgMSk7CiAgICAgfSBlbHNl");
    sb.append("IGlmICh0eXBlLnN0YXJ0c1dpdGgoImRlbGF5OiIpKSB7CiAgICAgIC8vIGRlbGF5IHdpbGwgcnVuIGFm");
    sb.append("dGVyICRkZWxheVRpbWVNUyBJRiB0aGUgZG9tIGVsZW1lbnQgaXMgc3RpbGwgdmlzaWJsZSB0byB0aGUg");
    sb.append("ZG9jdW1lbnQKICAgICAgdmFyIGRlbGF5VGltZU1TID0gcGFyc2VJbnQodHlwZS5zdWJzdHJpbmcoNikp");
    sb.append("OwogICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICBpZiAoZG9jdW1lbnQu");
    sb.append("Ym9keS5jb250YWlucyhkb20pKSB7CiAgICAgICAgICBydW5uYWJsZSgpOwogICAgICAgIH0KICAgICAg");
    sb.append("fSwgZGVsYXlUaW1lTVMpOwogICAgfSBlbHNlIHsKICAgICAgZG9tLmFkZEV2ZW50TGlzdGVuZXIodHlw");
    sb.append("ZSwgcnVubmFibGUpOwogICAgfQogIH0KCiAgLy8gUlVOVElNRTogPHRhZyAuLiByeDpldmVudD0iLi4u");
    sb.append("IGZpcmU6Y2hhbm5lbCAuLi4iIC4uLj4KICBzZWxmLm9uRlIgPSBmdW5jdGlvbiAoc3RhdGUsIGRvbSwg");
    sb.append("dHlwZSwgY2hhbm5lbCkgewogICAgcmVnX2V2ZW50KHN0YXRlLCBkb20sIHR5cGUsIGZ1bmN0aW9uICgp");
    sb.append("IHsKICAgICAgc3RhdGUuZGF0YS5jb25uZWN0aW9uLnB0ci5zZW5kKGNoYW5uZWwsIHt9LCB7CiAgICAg");
    sb.append("ICAgc3VjY2VzczogZnVuY3Rpb24gKCkgewogICAgICAgICAgY29uc29sZS5sb2coIlNFTlQgJyIgKyBj");
    sb.append("aGFubmVsICsgIiciKTsKICAgICAgICB9LAogICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24p");
    sb.append("IHsKICAgICAgICAgIGNvbnNvbGUubG9nKCJGQUlMRUQgVE8gRklSRSAnIiArIGNoYW5uZWwgKyAiJyBE");
    sb.append("VUU6IiArIHJlYXNvbik7ICcnCiAgICAgICAgfQogICAgICB9KTsKICAgIH0pOwogIH0KCiAgLy8gUlVO");
    sb.append("VElNRTogPHRhZyAuLiByeDpldmVudD0iLi4uIGZvcmNlLWF1dGg9bmFtZSx0b2tlbiAuLi4iPgogIHNl");
    sb.append("bGYub25GT1JDRV9BVVRIID0gZnVuY3Rpb24gKGRvbSwgdHlwZSwgaWRlbnRpdHlOYW1lLCBpZGVudGl0");
    sb.append("eSkgewogICAgcmVnX2V2ZW50KG51bGwsIGRvbSwgdHlwZSwgZnVuY3Rpb24gKCkgewogICAgICBpZGVu");
    sb.append("dGl0aWVzW2lkZW50aXR5TmFtZV0gPSBpZGVudGl0eTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0o");
    sb.append("ImlkZW50aXR5XyIgKyBpZGVudGl0eU5hbWUsIGlkZW50aXR5KTsKICAgIH0pOwogIH07CgogIC8vIFJV");
    sb.append("TlRJTUU6IDx0YWcgLi4gcng6ZXZlbnQ9Ii4uLiBzZXQ6bmFtZT12YWx1ZSAuLi4iPgogIHNlbGYub25T");
    sb.append("ID0gZnVuY3Rpb24gKGRvbSwgdHlwZSwgc3RhdGUsIG5hbWUsIHZhbHVlKSB7CiAgICByZWdfZXZlbnQo");
    sb.append("c3RhdGUsIGRvbSwgdHlwZSwgZnVuY3Rpb24gKCkgewogICAgICB2YXIgb2JqID0ge307CiAgICAgIGlm");
    sb.append("ICh0eXBlb2YgKHZhbHVlKSA9PSAiZnVuY3Rpb24iKSB7CiAgICAgICAgb2JqW25hbWVdID0gdmFsdWUo");
    sb.append("KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBvYmpbbmFtZV0gPSB2YWx1ZTsKICAgICAgfQogICAgICB2");
    sb.append("YXIgZGVsdGEgPSBwYXRoX3RvKHN0YXRlLnZpZXcsIG9iaik7CiAgICAgIHN0YXRlW3N0YXRlLmN1cnJl");
    sb.append("bnRdLnRyZWUudXBkYXRlKGRlbHRhKTsKICAgIH0pOwogIH07CgogIC8vIFJVTlRJTUU6IDx0YWcgLi4g");
    sb.append("cng6ZXZlbnQ9Ii4uLiB0ZTpuYW1lIC4uLiI+CiAgc2VsZi5vblRNID0gZnVuY3Rpb24gKGRvbSwgdHlw");
    sb.append("ZSwgc3RhdGUsIG5hbWUsIG94LCBveSkgewogICAgcmVnX2V2ZW50KHN0YXRlLCBkb20sIHR5cGUsIGZ1");
    sb.append("bmN0aW9uIChldmVudCkgewogICAgICB2YXIgb2JqID0ge307CiAgICAgIG9ialtuYW1lXSA9IHsKICAg");
    sb.append("ICAgICB4OmV2ZW50LmNsaWVudFggKyB3aW5kb3cuc2Nyb2xsWCArIG94LAogICAgICAgIHk6ZXZlbnQu");
    sb.append("Y2xpZW50WSArIHdpbmRvdy5zY3JvbGxZICsgb3kKICAgICAgfTsKICAgICAgdmFyIGRlbHRhID0gcGF0");
    sb.append("aF90byhzdGF0ZS52aWV3LCBvYmopOwogICAgICBzdGF0ZVtzdGF0ZS5jdXJyZW50XS50cmVlLnVwZGF0");
    sb.append("ZShkZWx0YSk7CiAgICB9KTsKICB9OwoKICAvLyBSVU5USU1FOiA8dGFnIC4uIHJ4OmV2ZW50PSIuLi4g");
    sb.append("dGU6bmFtZSAuLi4iPgogIHNlbGYub25URSA9IGZ1bmN0aW9uIChkb20sIHR5cGUsIHN0YXRlLCBuYW1l");
    sb.append("KSB7CiAgICByZWdfZXZlbnQoc3RhdGUsIGRvbSwgdHlwZSwgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAg");
    sb.append("IHZhciBvYmogPSB7fTsKICAgICAgb2JqW25hbWVdID0gZXZlbnQubWVzc2FnZTsKICAgICAgdmFyIGRl");
    sb.append("bHRhID0gcGF0aF90byhzdGF0ZS52aWV3LCBvYmopOwogICAgICBzdGF0ZVtzdGF0ZS5jdXJyZW50XS50");
    sb.append("cmVlLnVwZGF0ZShkZWx0YSk7CiAgICB9KTsKICB9OwoKICAvLyBSVU5USU1FOiA8dGFnIC4uIHJ4OmV2");
    sb.append("ZW50PSIuLi4gcmVzZXQgLi4uIj4KICBzZWxmLm9SU1QgPSBmdW5jdGlvbiAoZG9tLCB0eXBlLCBzdGF0");
    sb.append("ZSkgewogICAgcmVnX2V2ZW50KHN0YXRlLCBkb20sIHR5cGUsIGZ1bmN0aW9uIChldmVudCkgewogICAg");
    sb.append("ICBkb20ucmVzZXQoKTsKICAgIH0pOwogIH07CgogIC8vIFJVTlRJTUU6IDx0YWcgLi4gcng6ZXZlbnQ9");
    sb.append("Ii4uLiByZXNldCAuLi4iPgogIHNlbGYub1NCTVQgPSBmdW5jdGlvbiAoZG9tLCB0eXBlLCBzdGF0ZSkg");
    sb.append("ewogICAgcmVnX2V2ZW50KHN0YXRlLCBkb20sIHR5cGUsIGZ1bmN0aW9uIChldmVudCkgewogICAgICB2");
    sb.append("YXIgbmV4dCA9IGRvbTsKICAgICAgd2hpbGUgKG5leHQgIT0gbnVsbCkgewogICAgICAgIGlmIChuZXh0");
    sb.append("LnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PSAiRk9STSIpIHsKICAgICAgICAgIG5leHQub25zdWJtaXQo");
    sb.append("bmV3IFN1Ym1pdEV2ZW50KCJzdWJtaXQiKSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAg");
    sb.append("ICAgIG5leHQgPSBuZXh0LnBhcmVudEVsZW1lbnQ7CiAgICAgIH0KICAgIH0pOwogIH07CgogIC8vIFJV");
    sb.append("TlRJTUU6IDx0YWcgLi4gcng6ZXZlbnQ9Ii4uLiBnb3RvOnVyaSAuLi4iPgogIHNlbGYub25HTyA9IGZ1");
    sb.append("bmN0aW9uIChkb20sIHR5cGUsIHN0YXRlLCB2YWx1ZSkgewogICAgcmVnX2V2ZW50KHN0YXRlLCBkb20s");
    sb.append("IHR5cGUsIGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIHVyaSA9ICh0eXBlb2YgKHZhbHVlKSA9PSAiZnVu");
    sb.append("Y3Rpb24iKSA/IHZhbHVlKCkgOiB2YWx1ZTsKICAgICAgc2VsZi5nb3RvKHVyaSk7CiAgICB9KTsKICB9");
    sb.append("OwoKICAvLyBSVU5USU1FOiA8dGFnIC4uIHJ4OmV2ZW50PSIuLi4gdG9nZ2xlOm5hbWUgLi4uIj4KICBz");
    sb.append("ZWxmLm9uVCA9IGZ1bmN0aW9uIChkb20sIHR5cGUsIHN0YXRlLCBuYW1lKSB7CiAgICB2YXIgY2FwdHVy");
    sb.append("ZWQgPSB7IHZhbHVlOiBmYWxzZSB9OwogICAgcmVnX2V2ZW50KHN0YXRlLCBkb20sIHR5cGUsIGZ1bmN0");
    sb.append("aW9uICgpIHsKICAgICAgdmFyIG9iaiA9IHt9OwogICAgICBvYmpbbmFtZV0gPSAhY2FwdHVyZWQudmFs");
    sb.append("dWU7CiAgICAgIHZhciBkZWx0YSA9IHBhdGhfdG8oc3RhdGUudmlldywgb2JqKTsKICAgICAgc3RhdGVb");
    sb.append("c3RhdGUuY3VycmVudF0udHJlZS51cGRhdGUoZGVsdGEpOwogICAgfSk7CiAgICBzdWJzY3JpYmUoc3Rh");
    sb.append("dGUsIG5hbWUsIGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICBjYXB0dXJlZC52YWx1ZSA9IHZhbHVlID09");
    sb.append("IHRydWU7CiAgICB9KTsKICB9OwoKICB2YXIgb3JkZXJfdG9nZ2xlID0gZnVuY3Rpb24ocHJpb3IsIHZh");
    sb.append("bCkgewogICAgdmFyIHBhcnRzID0gcHJpb3Iuc3BsaXQoIiwiKTsKICAgIHZhciBwcmVmaXggPSAnJzsK");
    sb.append("ICAgIHZhciBuZXh0ID0gWyIiXTsKICAgIGZvciAodmFyIGsgPSAwOyBrIDwgcGFydHMubGVuZ3RoOyBr");
    sb.append("KyspIHsKICAgICAgaWYgKHBhcnRzW2tdID09ICIiKSB7CiAgICAgICAgY29udGludWU7CiAgICAgIH0g");
    sb.append("ZWxzZSBpZiAodmFsID09IHBhcnRzW2tdKSB7CiAgICAgICAgcHJlZml4ID0gJy0nOwogICAgICB9IGVs");
    sb.append("c2UgaWYgKCItIiArIHZhbCA9PXBhcnRzW2tdKSB7CiAgICAgICAgcHJlZml4ID0gJyc7CiAgICAgIH0g");
    sb.append("ZWxzZSB7CiAgICAgICAgbmV4dC5wdXNoKHBhcnRzW2tdKTsKICAgICAgfQogICAgfQogICAgbmV4dFsw");
    sb.append("XSA9IHByZWZpeCArIHZhbDsKICAgIHJldHVybiBuZXh0LmpvaW4oIiwiKTsKICB9CgogIC8vIFJVTlRJ");
    sb.append("TUU6IDx0YWcgLi4gcng6ZXZlbnQ9Ii4uLiBvcmRlci10b2dnbGU6bmFtZT12YWwgLi4uIj4KICBzZWxm");
    sb.append("Lm9uT1QgPSBmdW5jdGlvbiAoZG9tLCB0eXBlLCBzdGF0ZSwgbmFtZSwgdmFsKSB7CiAgICB2YXIgY2Fw");
    sb.append("dHVyZWQgPSB7IHZhbHVlOiAiIiB9OwogICAgcmVnX2V2ZW50KHN0YXRlLCBkb20sIHR5cGUsIGZ1bmN0");
    sb.append("aW9uICgpIHsKICAgICAgdmFyIG9iaiA9IHt9OwogICAgICBvYmpbbmFtZV0gPSBvcmRlcl90b2dnbGUo");
    sb.append("Y2FwdHVyZWQudmFsdWUsIHZhbCk7CiAgICAgIHZhciBkZWx0YSA9IHBhdGhfdG8oc3RhdGUudmlldywg");
    sb.append("b2JqKTsKICAgICAgc3RhdGVbc3RhdGUuY3VycmVudF0udHJlZS51cGRhdGUoZGVsdGEpOwogICAgfSk7");
    sb.append("CiAgICBzdWJzY3JpYmUoc3RhdGUsIG5hbWUsIGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICBjYXB0dXJl");
    sb.append("ZC52YWx1ZSA9IHZhbHVlID09IHRydWU7CiAgICB9KTsKICB9OwoKICAvLyBSVU5USU1FOiA8dGFnIC4u");
    sb.append("IHJ4OmV2ZW50PSIuLi4gZGVsdGE6bmFtZT1kaWZmIiAuLi4iPgogIHNlbGYub25EID0gZnVuY3Rpb24g");
    sb.append("KGRvbSwgdHlwZSwgc3RhdGUsIG5hbWUsIGRpZmYpIHsKICAgIHZhciBjYXB0dXJlZCA9IHsgdmFsdWU6");
    sb.append("IDAgfTsKICAgIHJlZ19ldmVudChzdGF0ZSwgZG9tLCB0eXBlLCBmdW5jdGlvbiAoKSB7CiAgICAgIHZh");
    sb.append("ciBvYmogPSB7fTsKICAgICAgb2JqW25hbWVdID0gY2FwdHVyZWQudmFsdWUgKyBkaWZmOwogICAgICB2");
    sb.append("YXIgZGVsdGEgPSBwYXRoX3RvKHN0YXRlLnZpZXcsIG9iaik7CiAgICAgIHN0YXRlW3N0YXRlLmN1cnJl");
    sb.append("bnRdLnRyZWUudXBkYXRlKGRlbHRhKTsKICAgIH0pOwogICAgc3Vic2NyaWJlKHN0YXRlLCBuYW1lLCBm");
    sb.append("dW5jdGlvbiAodmFsdWUpIHsKICAgICAgaWYgKHR5cGVvZiAodmFsdWUpID09ICJudW1iZXIiKSB7CiAg");
    sb.append("ICAgICAgY2FwdHVyZWQudmFsdWUgPSB2YWx1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB2YXIgdmFs");
    sb.append("ID0gcGFyc2VGbG9hdCh2YWx1ZSk7CiAgICAgICAgaWYgKCFpc05hTih2YWwpKSB7CiAgICAgICAgICBj");
    sb.append("YXB0dXJlZC52YWx1ZSA9IHZhbDsKICAgICAgICB9CiAgICAgIH0KICAgIH0pOwogIH07CiAgc2VsZi5D");
    sb.append("U0VOID0gZnVuY3Rpb24gKHBhcmVudCwgcHJpb3JTdGF0ZSwgZXZhbFN0YXRlLCBjaGFubmVsLCBrZXks");
    sb.append("IG5hbWUsIHNob3VsZEJlLCBfZXhwYW5kLCBtYWtlclRydWUsIG1ha2VyRmFsc2UpIHsKICAgIHZhciBj");
    sb.append("aG9zZW4gPSB7CiAgICAgIHZhbHVlOiAiIiwKICAgICAgb3duZXI6IHBhcmVudCwKICAgICAgc2hvd246");
    sb.append("IGZhbHNlLAogICAgICBldmFsOiBudWxsCiAgICB9OwogICAgYWRkX3Vuc3ViKGNob3Nlbik7CiAgICB2");
    sb.append("YXIgY2hhbmdlID0gZnVuY3Rpb24gKHNob3cpIHsKICAgICAgZmlyZV91bnN1YihjaG9zZW4pOwogICAg");
    sb.append("ICBudWtlKHBhcmVudCk7CiAgICAgIHZhciBzdGF0ZSA9IGZvcmsocHJpb3JTdGF0ZSk7CiAgICAgIGlm");
    sb.append("IChzaG93ID09PSBzaG91bGRCZSkgewogICAgICAgIG1ha2VyVHJ1ZShwYXJlbnQsIHN0YXRlKTsKICAg");
    sb.append("ICAgfSBlbHNlIHsKICAgICAgICBtYWtlckZhbHNlKHBhcmVudCwgc3RhdGUpOwogICAgICB9CiAgICAg");
    sb.append("IHN1YnNjcmliZV9zdGF0ZShzdGF0ZSwgY2hvc2VuKTsKICAgIH07CgogICAgY2hvc2VuLnVwZGF0ZSA9");
    sb.append("IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIG91dCA9IHByaW9yU3RhdGUuZGF0YS5jb25uZWN0aW9uLm91");
    sb.append("dHN0YW5kaW5nW2NoYW5uZWxdOwogICAgICBpZiAoIShvdXQpKSByZXR1cm47CgogICAgICB2YXIgY2hv");
    sb.append("aWNlcyA9IHByaW9yU3RhdGUuZGF0YS5jb25uZWN0aW9uLmNob2ljZXM7CiAgICAgIGlmICghKGNoYW5u");
    sb.append("ZWwgaW4gY2hvaWNlcykpIHsKICAgICAgICBjaG9pY2VzW2NoYW5uZWxdID0ge307CiAgICAgIH0KICAg");
    sb.append("ICAgdmFyIGNob2ljZSA9IGNob2ljZXNbY2hhbm5lbF07CiAgICAgIHZhciBldmFsID0gY2hvc2VuLnZh");
    sb.append("bHVlIGluIGNob2ljZTsKICAgICAgaWYgKGNob3Nlbi5ldmFsICE9IGV2YWwpIHsKICAgICAgICBjaG9z");
    sb.append("ZW4uZXZhbCA9IGV2YWw7CiAgICAgICAgY2hhbmdlKGNob3Nlbi5ldmFsKTsKICAgICAgfQogICAgfTsK");
    sb.append("CiAgICBwcmlvclN0YXRlLmRhdGEuY29ubmVjdGlvbi5zdWJzY3JpYmVfY2hvaWNlKGNoYW5uZWwsIGZ1");
    sb.append("bmN0aW9uICgpIHsKICAgICAgY2hvc2VuLnVwZGF0ZSgpOwogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0p");
    sb.append("OwoKICAgIHN1YnNjcmliZShldmFsU3RhdGUsIG5hbWUsIGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICBj");
    sb.append("aG9zZW4udmFsdWUgPSB2YWx1ZTsKICAgICAgY2hvc2VuLnVwZGF0ZSgpOwogICAgfSk7CiAgfTsKCiAg");
    sb.append("c2VsZi5ERSA9IGZ1bmN0aW9uIChwYXJlbnQsIHByaW9yU3RhdGUsIGV2YWxTdGF0ZSwgY2hhbm5lbCwg");
    sb.append("a2V5LCBuYW1lLCBzaG91bGRCZSwgX2V4cGFuZCwgbWFrZXJUcnVlLCBtYWtlckZhbHNlKSB7CiAgICB2");
    sb.append("YXIgZGVjaWRlID0gewogICAgICB2YWx1ZTogIiIsCiAgICAgIG93bmVyOiBwYXJlbnQsCiAgICAgIHNo");
    sb.append("b3duOiBmYWxzZSwKICAgICAgZXZhbDogbnVsbAogICAgfTsKICAgIGFkZF91bnN1YihkZWNpZGUpOwog");
    sb.append("ICAgdmFyIGNoYW5nZSA9IGZ1bmN0aW9uIChzaG93KSB7CiAgICAgIGZpcmVfdW5zdWIoZGVjaWRlKTsK");
    sb.append("ICAgICAgbnVrZShwYXJlbnQpOwogICAgICB2YXIgc3RhdGUgPSBmb3JrKHByaW9yU3RhdGUpOwogICAg");
    sb.append("ICBpZiAoc2hvdyA9PT0gc2hvdWxkQmUpIHsKICAgICAgICBtYWtlclRydWUocGFyZW50LCBzdGF0ZSk7");
    sb.append("CiAgICAgIH0gZWxzZSB7CiAgICAgICAgbWFrZXJGYWxzZShwYXJlbnQsIHN0YXRlKTsKICAgICAgfQog");
    sb.append("ICAgICBzdWJzY3JpYmVfc3RhdGUoc3RhdGUsIGRlY2lkZSk7CiAgICB9OwoKICAgIGRlY2lkZS51cGRh");
    sb.append("dGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciBldmFsID0gZmluZChwcmlvclN0YXRlLCBjaGFubmVs");
    sb.append("LCBrZXksIGRlY2lkZS52YWx1ZSkgIT0gbnVsbDsKICAgICAgaWYgKGRlY2lkZS5ldmFsICE9IGV2YWwp");
    sb.append("IHsKICAgICAgICBkZWNpZGUuZXZhbCA9IGV2YWw7CiAgICAgICAgY2hhbmdlKGRlY2lkZS5ldmFsKTsK");
    sb.append("ICAgICAgfQogICAgfTsKCiAgICBwcmlvclN0YXRlLmRhdGEuY29ubmVjdGlvbi5zdWJzY3JpYmUoY2hh");
    sb.append("bm5lbCwgZnVuY3Rpb24gKCkgewogICAgICBkZWNpZGUudXBkYXRlKCk7CiAgICAgIC8vIFRPRE86IHJl");
    sb.append("dHVybiB3aGV0aGVyIG9yIG5vdCB0aGlzIG5lZWRzIHRvIGJlIGF4ZWQKICAgICAgcmV0dXJuIHRydWU7");
    sb.append("CiAgICB9KTsKCiAgICBzdWJzY3JpYmUoZXZhbFN0YXRlLCBuYW1lLCBmdW5jdGlvbiAodmFsdWUpIHsK");
    sb.append("ICAgICAgZGVjaWRlLnZhbHVlID0gdmFsdWU7CiAgICAgIGRlY2lkZS51cGRhdGUoKTsKICAgIH0pOwog");
    sb.append("IH07CgogIHNlbGYuSUYgPSBmdW5jdGlvbiAocGFyZW50LCBwcmlvclN0YXRlLCBuYW1lLCBzaG91bGRC");
    sb.append("ZSwgZXhwYW5kVmlldywgbWFrZXJUcnVlLCBtYWtlckZhbHNlKSB7CiAgICB2YXIgdW5zdWIgPSBtYWtl");
    sb.append("X3Vuc3ViKCk7CiAgICB2YXIgc2V0ID0gZnVuY3Rpb24gKHZhbHVlKSB7CiAgICAgIHZhciBzaG93ID0g");
    sb.append("KHZhbHVlID8gdHJ1ZSA6IGZhbHNlKSA9PT0gc2hvdWxkQmU7CiAgICAgIGlmICh0aGlzLnNob3duID09");
    sb.append("IHNob3cpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdGhpcy5zaG93biA9IHNob3c7CiAg");
    sb.append("ICAgIG51a2UocGFyZW50KTsKICAgICAgZmlyZV91bnN1Yih1bnN1Yik7CiAgICAgIHZhciBzdGF0ZSA9");
    sb.append("IGZvcmsocHJpb3JTdGF0ZSk7CiAgICAgIHZhciBuZXh0ID0gc3RhdGU7CiAgICAgIGlmICh0eXBlb2Yg");
    sb.append("KHZhbHVlKSA9PSAib2JqZWN0IikgewogICAgICAgIG5leHQgPSBzZWxmLnBJKG5leHQsIG5hbWUpOwog");
    sb.append("ICAgICAgIGlmIChleHBhbmRWaWV3KSB7CiAgICAgICAgICBuZXh0ID0gc2VsZi5wRVYobmV4dCwgbmFt");
    sb.append("ZSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIC8vIHdlIGRlZmF1bHQgYmFjayB0byBkYXRhIGluIHRo");
    sb.append("ZSBJRiBjYXNlCiAgICAgIG5leHQuY3VycmVudCA9ICdkYXRhJzsKICAgICAgaWYgKHNob3cpIHsKICAg");
    sb.append("ICAgICBtYWtlclRydWUocGFyZW50LCBuZXh0KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBtYWtlckZh");
    sb.append("bHNlKHBhcmVudCwgbmV4dCk7CiAgICAgIH0KICAgICAgc3Vic2NyaWJlX3N0YXRlKHN0YXRlLCB1bnN1");
    sb.append("Yik7CiAgICB9LmJpbmQoeyBzaG93bjogJ25vJyB9KTsKICAgIHN1YnNjcmliZShwcmlvclN0YXRlLCBu");
    sb.append("YW1lLCBzZXQpOwogIH07CgogIC8vLyBSVU5USU1FIHwgcng6YWN0aW9uPWNvcHk6cGF0aAogIHNlbGYu");
    sb.append("YUNQID0gZnVuY3Rpb24gKGZvcm0sIHN0YXRlLCBuYW1lKSB7CiAgICBmb3JtLm9uc3VibWl0ID0gZnVu");
    sb.append("Y3Rpb24gKGV2dCkgewogICAgICBldnQucHJldmVudERlZmF1bHQoKTsKICAgICAgdmFyIG9iaiA9IGdl");
    sb.append("dF9mb3JtKGZvcm0sIGZhbHNlKTsKICAgICAgaWYgKG5hbWUgIT0gIi4iICYmIG5hbWUgIT0gIiIpIHsK");
    sb.append("ICAgICAgICB2YXIgbm8gPSB7fTsKICAgICAgICBub1tuYW1lXSA9IG9iajsKICAgICAgICBvYmogPSBu");
    sb.append("bzsKICAgICAgfQogICAgICB2YXIgZGVsdGEgPSBwYXRoX3RvKHN0YXRlLnZpZXcsIG9iaik7CiAgICAg");
    sb.append("IHN0YXRlLnZpZXcudHJlZS51cGRhdGUoZGVsdGEpOwogICAgICBmaXJlX3N1Y2Nlc3MoZm9ybSk7CiAg");
    sb.append("ICB9OwogIH07CgogIC8vIFJVTlRJTUUgfCA8aW5wdXQgLi4uIHJ4OnN5bmM9cGF0aCAuLi4+CiAgc2Vs");
    sb.append("Zi5TWSA9IGZ1bmN0aW9uIChlbCwgc3RhdGUsIG5hbWUsIG1zKSB7CiAgICB2YXIgdHlwZSA9ICgidHlw");
    sb.append("ZSIgaW4gZWwpID8gZWwudHlwZS50b1VwcGVyQ2FzZSgpIDogInRleHQiOwogICAgdmFyIHNpZ25hbCA9");
    sb.append("IGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICB2YXIgb2JqID0ge307CiAgICAgIG9ialtuYW1lXSA9IGVs");
    sb.append("LnZhbHVlOwogICAgICB2YXIgZGVsdGEgPSBwYXRoX3RvKHN0YXRlLnZpZXcsIG9iaik7CiAgICAgIHN0");
    sb.append("YXRlLnZpZXcudHJlZS51cGRhdGUoZGVsdGEpOwogICAgfTsKICAgIGlmICh0eXBlID09ICJDSEVDS0JP");
    sb.append("WCIpIHsKICAgICAgZWwub25jaGFuZ2UgPSBkZWJvdW5jZShtcywgZnVuY3Rpb24gKGV2dCkgewogICAg");
    sb.append("ICAgIHNpZ25hbChlbC5jaGVja2VkID8gdHJ1ZSA6IGZhbHNlKTsKICAgICAgfSk7CiAgICB9IGVsc2Ug");
    sb.append("aWYgKHR5cGUgPT0gIlJBRElPIikgewogICAgICBlbC5vbmNoYW5nZSA9IGRlYm91bmNlKG1zLCBmdW5j");
    sb.append("dGlvbiAoZXZ0KSB7CiAgICAgICAgaWYgKGVsLmNoZWNrZWQpIHsKICAgICAgICAgIHNpZ25hbChlbC52");
    sb.append("YWx1ZSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIGVsLm9uY2hhbmdlID0g");
    sb.append("ZGVib3VuY2UobXMsIGZ1bmN0aW9uIChldnQpIHsKICAgICAgICBzaWduYWwoZWwudmFsdWUpOwogICAg");
    sb.append("ICB9KTsKICAgICAgZWwub25rZXl1cCA9IGVsLm9uY2hhbmdlOwogICAgICB3aW5kb3cuc2V0VGltZW91");
    sb.append("dChmdW5jdGlvbiAoKSB7CiAgICAgICAgc2lnbmFsKGVsLnZhbHVlKTsKICAgICAgfSwgMSk7CiAgICB9");
    sb.append("CiAgfTsKCiAgdmFyIGZpcnN0T2NjdXIgPSBmdW5jdGlvbihhLCBiKSB7CiAgICBpZiAoYSA+IDAgJiYg");
    sb.append("YiA+IDApIHsKICAgICAgcmV0dXJuIE1hdGgubWluKGEsIGIpOwogICAgfQogICAgaWYgKGEgPiAwKSB7");
    sb.append("CiAgICAgIHJldHVybiBhOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIGI7CiAgICB9CiAgfTsKICAv");
    sb.append("LyBIRUxQRVIgfCBleHRyYWN0IGFsbCB0aGUgaW5wdXRzIGZyb20gdGhlIGdpdmVuIGVsZW1lbnQgYW5k");
    sb.append("IGJ1aWxkIGFuIG9iamVjdAogIHZhciBidWlsZF9vYmogPSBmdW5jdGlvbiAoZWwsIG9ialRvSW5zZXJ0");
    sb.append("SW50bywgYWxsb3dfcGFzc3dvcmRzKSB7CiAgICB2YXIganVzdFNldCA9IGVsLnRhZ05hbWUudG9VcHBl");
    sb.append("ckNhc2UoKSA9PSAiVEVYVEFSRUEiIHx8IGVsLnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PSAiU0VMRUNU");
    sb.append("IjsKICAgIHZhciBpc0lucHV0Qm94ID0gZWwudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09ICJJTlBVVCI7");
    sb.append("CiAgICB2YXIgaXNGaWVsZFNldCA9IGVsLnRhZ05hbWUudG9VcHBlckNhc2UoKSA9PSAiRklFTERTRVQi");
    sb.append("OwogICAgdmFyIGhhc05hbWUgPSAibmFtZSIgaW4gZWw7CiAgICB2YXIgaW5zZXJ0QXQgPSBvYmpUb0lu");
    sb.append("c2VydEludG87CiAgICAvLyB0aGUgYXBwbHkgZnVuY3Rpb24gaXMgaG93IHdlIGluamVjdCB0aGUgdmFs");
    sb.append("dWUgaW50byB0aGUgb2JqZWN0CiAgICB2YXIgYXBwbHkgPSBmdW5jdGlvbiAodmFsKSB7IH07CgogICAg");
    sb.append("aWYgKGhhc05hbWUgJiYgKGp1c3RTZXQgfHwgaXNJbnB1dEJveCB8fCBpc0ZpZWxkU2V0KSkgewogICAg");
    sb.append("ICB2YXIgbmFtZSA9ICIiOwogICAgICBuYW1lID0gZWwubmFtZTsKICAgICAgaWYgKG5hbWUgPT0gIiIp");
    sb.append("IHsgLy8gdGhpcyBpcyBhIHNwZWNpYWwgbmFtZSBmb3IgdGhpbmdzIHRoYXQgZG9uJ3QgZ2V0IHBpY2tl");
    sb.append("ZCB1cAogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIga0RvdE9yU2xhc2ggPSBmaXJzdE9j");
    sb.append("Y3VyKG5hbWUuaW5kZXhPZignLicpLCBuYW1lLmluZGV4T2YoJy8nKSk7CiAgICAgIHdoaWxlIChrRG90");
    sb.append("T3JTbGFzaCA+IDApIHsKICAgICAgICB2YXIgcGFyID0gbmFtZS5zdWJzdHJpbmcoMCwga0RvdE9yU2xh");
    sb.append("c2gpOwogICAgICAgIGlmICghKHBhciBpbiBpbnNlcnRBdCkpIHsKICAgICAgICAgIGluc2VydEF0W3Bh");
    sb.append("cl0gPSB7fTsKICAgICAgICB9CiAgICAgICAgaW5zZXJ0QXQgPSBpbnNlcnRBdFtwYXJdOwogICAgICAg");
    sb.append("IG5hbWUgPSBuYW1lLnN1YnN0cmluZyhrRG90T3JTbGFzaCArIDEpOwogICAgICAgIGtEb3RPclNsYXNo");
    sb.append("ID0gZmlyc3RPY2N1cihuYW1lLmluZGV4T2YoJy4nKSwgbmFtZS5pbmRleE9mKCcvJykpOwogICAgICB9");
    sb.append("CgogICAgICBpZiAobmFtZS5lbmRzV2l0aCgiKyIpKSB7CiAgICAgICAgLy8gaGVyZSwgd2UgcHVzaCB0");
    sb.append("aGUgdmFsdWUgaW50byB0aGUgYXJyYXkKICAgICAgICBuYW1lID0gbmFtZS5zdWJzdHJpbmcoMCwgbmFt");
    sb.append("ZS5sZW5ndGggLSAxKTsKICAgICAgICBhcHBseSA9IGZ1bmN0aW9uICh2KSB7CiAgICAgICAgICBpZiAo");
    sb.append("IShuYW1lIGluIGluc2VydEF0KSkgewogICAgICAgICAgICBpbnNlcnRBdFtuYW1lXSA9IFt2XTsKICAg");
    sb.append("ICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGluc2VydEF0W25hbWVdLnB1c2godik7CiAgICAgICAg");
    sb.append("ICB9CiAgICAgICAgfTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBoZXJlIHdlIHNldCB0aGUgb2Jq");
    sb.append("ZWN0CiAgICAgICAgYXBwbHkgPSBmdW5jdGlvbiAodikgewogICAgICAgICAgaW5zZXJ0QXRbbmFtZV0g");
    sb.append("PSB2OwogICAgICAgIH07CiAgICAgIH0KICAgIH0KCiAgICBpZiAoanVzdFNldCkgewogICAgICBhcHBs");
    sb.append("eShlbC52YWx1ZSk7CiAgICB9IGVsc2UgaWYgKGlzRmllbGRTZXQpIHsKICAgICAgdmFyIG5leHRPYmpl");
    sb.append("Y3QgPSB7fTsKICAgICAgaWYgKCJjaGlsZHJlbiIgaW4gZWwpIHsKICAgICAgICB2YXIgYXJyID0gZWwu");
    sb.append("Y2hpbGRyZW47CiAgICAgICAgdmFyIG4gPSBhcnIubGVuZ3RoOwogICAgICAgIGZvciAodmFyIGsgPSAw");
    sb.append("OyBrIDwgbjsgaysrKSB7CiAgICAgICAgICB2YXIgY2ggPSBlbC5jaGlsZHJlbltrXTsKICAgICAgICAg");
    sb.append("IGJ1aWxkX29iaihjaCwgbmV4dE9iamVjdCwgYWxsb3dfcGFzc3dvcmRzKTsKICAgICAgICB9CiAgICAg");
    sb.append("IH0KICAgICAgYXBwbHkobmV4dE9iamVjdCk7CiAgICB9IGVsc2UgaWYgKGlzSW5wdXRCb3gpIHsKICAg");
    sb.append("ICAgdmFyIHR5cGUgPSAoInR5cGUiIGluIGVsKSA/IGVsLnR5cGUudG9VcHBlckNhc2UoKSA6ICJURVhU");
    sb.append("IjsKICAgICAgaWYgKHR5cGUgPT0gIlNVQk1JVCIgfHwgdHlwZSA9PSAiUkVTRVQiKSByZXR1cm47CiAg");
    sb.append("ICAgIGlmICh0eXBlID09ICJQQVNTV09SRCIgJiYgIWFsbG93X3Bhc3N3b3JkcykgewogICAgICAgIHJl");
    sb.append("dHVybjsKICAgICAgfQogICAgICBpZiAodHlwZSA9PSAiQ0hFQ0tCT1giKSB7CiAgICAgICAgYXBwbHko");
    sb.append("ZWwuY2hlY2tlZCA/IHRydWUgOiBmYWxzZSk7CiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAiUkFESU8i");
    sb.append("KSB7CiAgICAgICAgaWYgKGVsLmNoZWNrZWQpIHsKICAgICAgICAgIGFwcGx5KGVsLnZhbHVlKTsKICAg");
    sb.append("ICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYXBwbHkoZWwudmFsdWUpOwogICAgICB9CiAgICB9");
    sb.append("IGVsc2UgewogICAgICBpZiAoImNoaWxkcmVuIiBpbiBlbCkgewogICAgICAgIHZhciBhcnIgPSBlbC5j");
    sb.append("aGlsZHJlbjsKICAgICAgICB2YXIgbiA9IGFyci5sZW5ndGg7CiAgICAgICAgZm9yICh2YXIgayA9IDA7");
    sb.append("IGsgPCBuOyBrKyspIHsKICAgICAgICAgIHZhciBjaCA9IGVsLmNoaWxkcmVuW2tdOwogICAgICAgICAg");
    sb.append("YnVpbGRfb2JqKGNoLCBvYmpUb0luc2VydEludG8sIGFsbG93X3Bhc3N3b3Jkcyk7CiAgICAgICAgfQog");
    sb.append("ICAgICB9CiAgICB9CiAgfTsKCiAgc2VsZi5CdWlsZEZvcm1PYmplY3QgPSBmdW5jdGlvbihmb3JtKSB7");
    sb.append("CiAgICB2YXIgb2JqID0ge307CiAgICBidWlsZF9vYmooZm9ybSwgb2JqLCBmYWxzZSk7CiAgICByZXR1");
    sb.append("cm4gb2JqOwogIH07CgogIC8vIEhFTFBFUiB8IHJldHVybiBhbiBvYmplY3Qgb2YgYWxsIHRoZSBpbnB1");
    sb.append("dHMgb2YgdGhlIGdpdmVuIGZvcm0gZWxlbWVudAogIHZhciBnZXRfZm9ybSA9IGZ1bmN0aW9uIChmb3Jt");
    sb.append("LCBhbGxvd19wYXNzd29yZHMpIHsKICAgIHZhciBvYmogPSB7fTsKICAgIGJ1aWxkX29iaihmb3JtLCBv");
    sb.append("YmosIGFsbG93X3Bhc3N3b3Jkcyk7CiAgICByZXR1cm4gb2JqOwogIH07CgogIC8vIEhFTFBFUiB8IHJl");
    sb.append("dHVybiBhIHBhc3N3b3JkIGZyb20gdGhlIGdpdmVuIGZvcm0KICB2YXIgZ2V0X3Bhc3N3b3JkID0gZnVu");
    sb.append("Y3Rpb24gKGVsKSB7CiAgICBpZiAoZWwudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09ICJJTlBVVCIgJiYg");
    sb.append("ZWwudHlwZS50b1VwcGVyQ2FzZSgpID09ICJQQVNTV09SRCIpIHsKICAgICAgcmV0dXJuIFtlbC5uYW1l");
    sb.append("LCBlbC52YWx1ZV07CiAgICB9CiAgICBpZiAoImNoaWxkcmVuIiBpbiBlbCkgewogICAgICB2YXIgYXJy");
    sb.append("ID0gZWwuY2hpbGRyZW47CiAgICAgIHZhciBuID0gYXJyLmxlbmd0aDsKICAgICAgZm9yICh2YXIgayA9");
    sb.append("IDA7IGsgPCBuOyBrKyspIHsKICAgICAgICB2YXIgY2ggPSBlbC5jaGlsZHJlbltrXTsKICAgICAgICB2");
    sb.append("YXIgcmVzdWx0ID0gZ2V0X3Bhc3N3b3JkKGNoKTsKICAgICAgICBpZiAocmVzdWx0ICE9PSBudWxsKSB7");
    sb.append("CiAgICAgICAgICByZXR1cm4gcmVzdWx0OwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgcmV0dXJu");
    sb.append("IG51bGw7CiAgfTsKCiAgdmFyIHdyYXBwZXJzID0ge307CiAgdmFyIHdyYXBwZXJzX29ubG9hZCA9IHt9");
    sb.append("OwogIHNlbGYuUFJXUCA9IGZ1bmN0aW9uIChuYW1lLCBmb28pIHsKICAgIHdyYXBwZXJzW25hbWVdID0g");
    sb.append("Zm9vOwogICAgaWYgKG5hbWUgaW4gd3JhcHBlcnNfb25sb2FkKSB7CiAgICAgIHZhciB0b2xvYWQgPSB3");
    sb.append("cmFwcGVyc19vbmxvYWRbbmFtZV07CiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdG9sb2FkLmxlbmd0");
    sb.append("aDsgaysrKSB7CiAgICAgICAgdG9sb2FkW2tdKCk7CiAgICAgIH0KICAgIH0KICB9OwoKICAvLyA8Li4u");
    sb.append("IHJ4OndyYXA9Y29uc3QgPgogIHNlbGYuV1AgPSBmdW5jdGlvbiAoZG9tLCBzdGF0ZSwgbmFtZSwgcnhv");
    sb.append("YmosIGNoaWxkTWFrZXJXaXRoQ2FzZSkgewogICAgaWYgKG5hbWUgaW4gd3JhcHBlcnMpIHsKICAgICAg");
    sb.append("d3JhcHBlcnNbbmFtZV0oZG9tLCBzdGF0ZSwgcnhvYmosIGNoaWxkTWFrZXJXaXRoQ2FzZSwgc2VsZik7");
    sb.append("CiAgICB9IGVsc2UgewogICAgICB2YXIgbG9hZGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIHdyYXBw");
    sb.append("ZXJzW25hbWVdKGRvbSwgc3RhdGUsIHJ4b2JqLCBjaGlsZE1ha2VyV2l0aENhc2UsIHNlbGYpOwogICAg");
    sb.append("ICB9OwogICAgICBpZiAobmFtZSBpbiB3cmFwcGVyc19vbmxvYWQpIHsKICAgICAgICB3cmFwcGVyc19v");
    sb.append("bmxvYWRbbmFtZV0ucHVzaChsb2FkZXIpOwogICAgICB9IGVsc2UgewogICAgICAgIHdyYXBwZXJzX29u");
    sb.append("bG9hZFtuYW1lXSA9IFtsb2FkZXJdOwogICAgICB9CiAgICB9CiAgfTsKCiAgLy8gUlVOVElNRSB8IHJl");
    sb.append("Z2lzdGVyIHRoZSBwYWdlIGZvciB0aGUgdXJpIHRvIHRoZSBnaXZlbiBmb28oKS4KICBzZWxmLlBHID0g");
    sb.append("ZnVuY3Rpb24gKHVyaSwgZm9vKSB7CiAgICB2YXIgaGVhZCA9IHJvdXRlcjsKICAgIGZvciAodmFyIGsg");
    sb.append("PSAwOyBrIDwgdXJpLmxlbmd0aDsgaysrKSB7CiAgICAgIHZhciBwYXJ0ID0gdXJpW2tdOwogICAgICBp");
    sb.append("ZiAoIShwYXJ0IGluIGhlYWQpKSB7CiAgICAgICAgaGVhZFtwYXJ0XSA9IHt9OwogICAgICB9CiAgICAg");
    sb.append("IGhlYWQgPSBoZWFkW3BhcnRdOwogICAgfQogICAgaGVhZFsiQCJdID0gZm9vOwogIH07CgogIHZhciBy");
    sb.append("b3V0ZSA9IGZ1bmN0aW9uIChwYXJ0cywgYXQsIGhlYWQsIHZpZXcpIHsKICAgIGlmIChhdCA8IHBhcnRz");
    sb.append("Lmxlbmd0aCkgewogICAgICBpZiAoIm51bWJlciIgaW4gaGVhZCkgewogICAgICAgIHZhciBuZWNrID0g");
    sb.append("aGVhZFsibnVtYmVyIl07CiAgICAgICAgdmFyIHZhbCA9IHBhcnNlRmxvYXQocGFydHNbYXRdKTsKICAg");
    sb.append("ICAgICBpZiAoIWlzTmFOKHZhbCkpIHsKICAgICAgICAgIGZvciAodmFyIGJyYW5jaCBpbiBuZWNrKSB7");
    sb.append("CiAgICAgICAgICAgIHZpZXdbYnJhbmNoXSA9IHZhbDsKICAgICAgICAgICAgdmFyIGNhbmRpZGF0ZSA9");
    sb.append("IHJvdXRlKHBhcnRzLCBhdCArIDEsIG5lY2tbYnJhbmNoXSwgdmlldyk7CiAgICAgICAgICAgIGlmIChj");
    sb.append("YW5kaWRhdGUgIT09IG51bGwpIHsKICAgICAgICAgICAgICByZXR1cm4gY2FuZGlkYXRlOwogICAgICAg");
    sb.append("ICAgICB9CiAgICAgICAgICAgIGRlbGV0ZSB2aWV3W2JyYW5jaF07CiAgICAgICAgICB9CiAgICAgICAg");
    sb.append("fQoKICAgICAgfQogICAgICBpZiAoInRleHQiIGluIGhlYWQpIHsKICAgICAgICB2YXIgbmVjayA9IGhl");
    sb.append("YWRbInRleHQiXTsKICAgICAgICB2YXIgdmFsID0gcGFydHNbYXRdOwogICAgICAgIGZvciAodmFyIGJy");
    sb.append("YW5jaCBpbiBuZWNrKSB7CiAgICAgICAgICB2aWV3W2JyYW5jaF0gPSB2YWw7CiAgICAgICAgICB2YXIg");
    sb.append("Y2FuZGlkYXRlID0gcm91dGUocGFydHMsIGF0ICsgMSwgbmVja1ticmFuY2hdLCB2aWV3KTsKICAgICAg");
    sb.append("ICAgIGlmIChjYW5kaWRhdGUgIT09IG51bGwpIHsKICAgICAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZTsK");
    sb.append("ICAgICAgICAgIH0KICAgICAgICAgIGRlbGV0ZSB2aWV3W2JyYW5jaF07CiAgICAgICAgfQogICAgICB9");
    sb.append("CiAgICAgIGlmICgiZml4ZWQiIGluIGhlYWQpIHsKICAgICAgICB2YXIgbmVjayA9IGhlYWRbImZpeGVk");
    sb.append("Il07CiAgICAgICAgZm9yICh2YXIgYnJhbmNoIGluIG5lY2spIHsKICAgICAgICAgIGlmIChicmFuY2gg");
    sb.append("PT0gcGFydHNbYXRdKSB7CiAgICAgICAgICAgIHZhciBjYW5kaWRhdGUgPSByb3V0ZShwYXJ0cywgYXQg");
    sb.append("KyAxLCBuZWNrW2JyYW5jaF0sIHZpZXcpOwogICAgICAgICAgICBpZiAoY2FuZGlkYXRlICE9PSBudWxs");
    sb.append("KSB7CiAgICAgICAgICAgICAgcmV0dXJuIGNhbmRpZGF0ZTsKICAgICAgICAgICAgfQogICAgICAgICAg");
    sb.append("fQogICAgICAgIH0KICAgICAgfQogICAgfSBlbHNlIHsKICAgICAgaWYgKCJAIiBpbiBoZWFkKSB7CiAg");
    sb.append("ICAgICAgcmV0dXJuIGhlYWRbIkAiXTsKICAgICAgfQogICAgfQogIH07CgogIHNlbGYuZ290byA9IGZ1");
    sb.append("bmN0aW9uICh1cmkpIHsKICAgIGNvbnNvbGUubG9nKCJnb2luZyB0bzoiICsgdXJpKTsKICAgIHdpbmRv");
    sb.append("dy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgaWYgKHVyaS5zdGFydHNXaXRoKCIvIikpIHsK");
    sb.append("ICAgICAgICBzZWxmLnJ1bihkb2N1bWVudC5ib2R5LCB1cmksIHRydWUpOwogICAgICB9IGVsc2Ugewog");
    sb.append("ICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gZml4SHJlZih1cmkpOwogICAgICB9CiAgICB9LCAx");
    sb.append("MCk7CiAgfTsKCiAgc2VsZi5pbml0ID0gZnVuY3Rpb24gKCkgewogICAgc2VsZi5ydW4oZG9jdW1lbnQu");
    sb.append("Ym9keSwgZml4UGF0aCh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgKyB3aW5kb3cubG9jYXRpb24uaGFz");
    sb.append("aCksIGZhbHNlKTsKICAgIHdpbmRvdy5vbnBvcHN0YXRlID0gZnVuY3Rpb24gKCkgewogICAgICBzZWxm");
    sb.append("LnJ1bihkb2N1bWVudC5ib2R5LCBmaXhQYXRoKHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSArIHdpbmRv");
    sb.append("dy5sb2NhdGlvbi5oYXNoKSwgZmFsc2UpOwogICAgfTsKICB9OwoKICAvLyBBUEkgfCBSdW4gdGhlIHBh");
    sb.append("Z2UgaW4gdGhlIGdpdmVuIHBsYWNlCiAgc2VsZi5ydW4gPSBmdW5jdGlvbiAod2hlcmUsIHJhd1BhdGgs");
    sb.append("IHB1c2gpIHsKICAgIHZhciBwYXRoID0gcmF3UGF0aDsKICAgIHdoaWxlIChwYXRoLmVuZHNXaXRoKCIv");
    sb.append("IikgJiYgcGF0aCAhPSAiLyIpIHsKICAgICAgcGF0aCA9IHBhdGguc3Vic3RyaW5nKDAsIHBhdGgubGVu");
    sb.append("Z3RoIC0gMSk7CiAgICB9CiAgICBmb3IgKGNvbktleSBpbiBjb25uZWN0aW9ucykgewogICAgICBjb25u");
    sb.append("ZWN0aW9uc1tjb25LZXldLnRyZWUubnVrZSgpOwogICAgICBjb25uZWN0aW9uc1tjb25LZXldLm51a2Uo");
    sb.append("KTsKICAgIH0KICAgIHZhciBwYXJ0cyA9IChwYXRoLnN0YXJ0c1dpdGgoIi8iKSA/IHBhdGguc3Vic3Ry");
    sb.append("aW5nKDEpIDogcGF0aCkuc3BsaXQoIi8iKTsKICAgIHZhciBpbml0ID0ge307CiAgICB0cnkgewogICAg");
    sb.append("ICBpbml0LnZpZXdlcl90aW1lem9uZSA9IEludGwuRGF0ZVRpbWVGb3JtYXQoKS5yZXNvbHZlZE9wdGlv");
    sb.append("bnMoKS50aW1lWm9uZTsKICAgICAgaW5pdC52aWV3ZXJfbGFuZ3VhZ2UgPSBuYXZpZ2F0b3IubGFuZ3Vh");
    sb.append("Z2U7CiAgICB9IGNhdGNoIChicm93c2VyQmFkKSB7CiAgICAgIC8vIHdlIGp1c3QgZG9uJ3Qgc2VlIHRo");
    sb.append("ZSB2aWV3c3RhdGUgaWYgd2UgZG9uJ3QgaGF2ZSB0aGVzZSBhdmFpbGFibGUKICAgIH0KICAgIHZhciBm");
    sb.append("b28gPSByb3V0ZShwYXJ0cywgMCwgcm91dGVyLCBpbml0KTsKICAgIG51a2Uod2hlcmUpOwogICAgaWYg");
    sb.append("KGZvbyAhPSBudWxsKSB7CiAgICAgIHZhciBzdGF0ZSA9IHsgc2VydmljZTogY29ubmVjdGlvbiwgZGF0");
    sb.append("YTogbnVsbCwgdmlldzogZnJlc2god2hlcmUpLCBjdXJyZW50OiAidmlldyIgfTsKICAgICAgc3RhdGUu");
    sb.append("dmlldy5pbml0ID0gaW5pdDsKICAgICAgZm9vKHdoZXJlLCBzdGF0ZSk7CiAgICAgIHN0YXRlLnZpZXcu");
    sb.append("dHJlZS5zdWJzY3JpYmUoc3RhdGUudmlldy5kZWx0YSk7CiAgICAgIHN0YXRlLnZpZXcudHJlZS51cGRh");
    sb.append("dGUoaW5pdCk7CiAgICAgIGlmIChwdXNoKSB7CiAgICAgICAgd2luZG93Lmhpc3RvcnkucHVzaFN0YXRl");
    sb.append("KHt9LCAiIiwgZml4SHJlZihwYXRoKSk7CiAgICAgIH0KICAgIH0gZWxzZSB7CiAgICAgIGlmIChwYXRo");
    sb.append("ICE9ICIvNDA0IikgewogICAgICAgIHNlbGYucnVuKHdoZXJlLCAiLzQwNCIpOwogICAgICB9IGVsc2Ug");
    sb.append("ewogICAgICAgIC8vIGRlZmF1bHQgNDA0CiAgICAgIH0KICAgIH0KICAgIHdoZXJlLmFwcGVuZENoaWxk");
    sb.append("KGNvbm5lY3Rpb25Nb25pdG9yRG9tKTsKICB9OwoKICB2YXIgaWRlbnRpdGllcyA9IHt9OwoKICBzZWxm");
    sb.append("LlNJR05PVVQgPSBmdW5jdGlvbiAoKSB7CiAgICBpZGVudGl0aWVzID0ge307CiAgICBsb2NhbFN0b3Jh");
    sb.append("Z2UucmVtb3ZlSXRlbSgiaWRlbnRpdHlfZGVmYXVsdCIpOwogICAgdmFyIGF4ZSA9IFtdOwogICAgZm9y");
    sb.append("ICh2YXIgY2lkIGluIGNvbm5lY3Rpb25zKSB7CiAgICAgIHZhciBjbyA9IGNvbm5lY3Rpb25zW2NpZF07");
    sb.append("CiAgICAgIGlmIChjby5wdHIgIT0gbnVsbCkgewogICAgICAgIGNvLnB0ci5lbmQoeyBzdWNjZXNzOiBm");
    sb.append("dW5jdGlvbiAoKSB7IH0sIGZhaWx1cmU6IGZ1bmN0aW9uICgpIHsgfSB9KTsKICAgICAgfQogICAgICBh");
    sb.append("eGUucHVzaChjaWQpOwogICAgfQogICAgZm9yICh2YXIgayA9IDA7IGsgPCBheGUubGVuZ3RoOyBrKysp");
    sb.append("IHsKICAgICAgZGVsZXRlIGNvbm5lY3Rpb25zW2F4ZVtrXV07CiAgICB9CgogICAgc2VsZi5nb3RvKCIv");
    sb.append("Iik7CiAgfTsKCiAgc2VsZi5HT09HTEVfU0lHTl9PTiA9IGZ1bmN0aW9uIChhY2Nlc3NUb2tlbikgewog");
    sb.append("ICAgY29ubmVjdGlvbi5Jbml0Q29udmVydEdvb2dsZVVzZXIoYWNjZXNzVG9rZW4sIHsKICAgICAgc3Vj");
    sb.append("Y2VzczogZnVuY3Rpb24gKHBheWxvYWQpIHsKICAgICAgICBpZGVudGl0aWVzWyJkZWZhdWx0Il0gPSBw");
    sb.append("YXlsb2FkLmlkZW50aXR5OwogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpZGVudGl0eV9kZWZh");
    sb.append("dWx0IiwgcGF5bG9hZC5pZGVudGl0eSk7CiAgICAgICAgc2VsZi5nb3RvKCIvIik7CiAgICAgIH0sCiAg");
    sb.append("ICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24pIHsKICAgICAgICBjb25zb2xlLmxvZygiR29vZ2xl");
    sb.append("IGZhaWx1cmU6ICIgKyByZWFzb24pOwogICAgICB9CiAgICB9KTsKICB9OwoKICAvKiogUlVOVElNRSB8");
    sb.append("IHJlZGlyZWN0IHRvIGEgcGFnZSB3aXRoIHN0YXRlICovCiAgc2VsZi5hUkRwID0gZnVuY3Rpb24gKHN0");
    sb.append("YXRlLCBwdWxsZXIpIHsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHZhciB1cmkgPSBwdWxs");
    sb.append("ZXIoc3RhdGUudmlldy5pbml0KTsKICAgICAgcmV0dXJuIHVyaTsKICAgIH07CiAgfTsKCiAgLyoqIFJV");
    sb.append("TlRJTUUgfCByZWRpcmVjdCB0byBhIHN0YXRpYyBwYWdlICovCiAgc2VsZi5hUkR6ID0gZnVuY3Rpb24g");
    sb.append("KHJhdykgewogICAgcmV0dXJuIGZ1bmN0aW9uICgpIHsKICAgICAgcmV0dXJuIHJhdzsKICAgIH0KICB9");
    sb.append("OwoKICAvKiogZm9yIGN1c3RvbSBlbGVtZW50cyB0byBsZWFybiBvZiB0aGUgaWRlbnRpdHkgKi8KICBz");
    sb.append("ZWxmLklEID0gZnVuY3Rpb24gKGlkZW50aXR5TmFtZSwgcmVkaXJlY3RUb0Z1bmMpIHsKICAgIGlmIChp");
    sb.append("ZGVudGl0eU5hbWUgPT09IHRydWUpIHsKICAgICAgaWRlbnRpdHlOYW1lID0gImRlZmF1bHQiOwogICAg");
    sb.append("fQogICAgLy8gSUYgaWRlbnRpdHkgY29udGFpbnMgZG90cwogICAgdmFyIGlkZW50aXR5ID0gbnVsbDsK");
    sb.append("ICAgIHZhciBjbGVhbnVwID0gZnVuY3Rpb24gKCkgewogICAgfTsKCiAgICB2YXIgdmFsID0gbG9jYWxT");
    sb.append("dG9yYWdlLmdldEl0ZW0oImlkZW50aXR5XyIgKyBpZGVudGl0eU5hbWUpOwogICAgaWYgKHZhbCkgewog");
    sb.append("ICAgICBpZGVudGl0aWVzW2lkZW50aXR5TmFtZV0gPSB2YWw7CiAgICB9CgogICAgaWYgKGlkZW50aXR5");
    sb.append("TmFtZS5zdGFydHNXaXRoKCJkaXJlY3Q6IikpIHsKICAgICAgLy8gVXNlLCBhcyBpcwogICAgICBpZGVu");
    sb.append("dGl0eSA9IGlkZW50aXR5TmFtZS5zdWJzdHJpbmcoNyk7CiAgICB9IGVsc2UgaWYgKGlkZW50aXR5TmFt");
    sb.append("ZSBpbiBpZGVudGl0aWVzKSB7CiAgICAgIGlkZW50aXR5ID0gaWRlbnRpdGllc1tpZGVudGl0eU5hbWVd");
    sb.append("OwogICAgICBjbGVhbnVwID0gZnVuY3Rpb24gKCkgewogICAgICAgIGRlbGV0ZSBpZGVudGl0aWVzW2lk");
    sb.append("ZW50aXR5TmFtZV07CiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oImlkZW50aXR5XyIgKyBp");
    sb.append("ZGVudGl0eU5hbWUpOwogICAgICAgIHNlbGYuZ290byhyZWRpcmVjdFRvRnVuYygpKTsKICAgICAgfTsK");
    sb.append("ICAgIH0gZWxzZSB7CiAgICAgIC8vIHdoYXRldmVyIHBhZ2Ugd2UgYXJlLCBuZWVkcyB0byBkaWUgd2hp");
    sb.append("Y2ggbWVhbnMgd2UgbmVlZCB0byBudWtlIGV2ZXJ5dGhpbmchCiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0");
    sb.append("KGZ1bmN0aW9uICgpIHsKICAgICAgICBzZWxmLmdvdG8ocmVkaXJlY3RUb0Z1bmMoKSk7CiAgICAgIH0s");
    sb.append("IDEwKTsKICAgICAgcmV0dXJuIHsgYWJvcnQ6IHRydWUgfTsKICAgIH0KCiAgICByZXR1cm4geyBhYm9y");
    sb.append("dDogZmFsc2UsIGNsZWFudXA6IGNsZWFudXAsIGlkZW50aXR5OiBpZGVudGl0eSB9OwogIH07CgogIC8q");
    sb.append("IEZvciBjdXN0b20gY2FsbGJhY2tzIHRvIHJlZGlyZWN0IGFuZCBpbnZhbGlkYXRlIElEIGZhaWx1cmVz");
    sb.append("ICovCiAgc2VsZi5GSURDTCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgbG9va3VwKSB7CiAgICByZXR1cm4g");
    sb.append("ewogICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzdWx0KSB7CiAgICAgICAgY2FsbGJhY2suc3VjY2Vz");
    sb.append("cyhyZXN1bHQpOwogICAgICB9LAogICAgICBuZXh0OiBmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGNh");
    sb.append("bGxiYWNrLm5leHQoaXRlbSk7CiAgICAgIH0sCiAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7CiAg");
    sb.append("ICAgICAgY2FsbGJhY2suY29tcGxldGUoKTsKICAgICAgfSwKICAgICAgZmFpbHVyZTogZnVuY3Rpb24g");
    sb.append("KHJlYXNvbikgewogICAgICAgIGNhbGxiYWNrLmZhaWx1cmUocmVhc29uKTsKICAgICAgICBpZiAocmVh");
    sb.append("c29uID09IDQwMzQwMykgewogICAgICAgICAgbG9va3VwLmNsZWFudXAoKTsKICAgICAgICB9CiAgICAg");
    sb.append("IH0KICAgIH07CiAgfTsKCiAgdmFyIGN1c3RvbURhdGFTb3VyY2VzID0ge307CgogIC8qKiBwcm92aWRl");
    sb.append("IGN1c3RvbSBkYXRhICovCiAgc2VsZi5QUkNVREEgPSBmdW5jdGlvbiAobmFtZSwgZm9vKSB7CiAgICBj");
    sb.append("dXN0b21EYXRhU291cmNlc1tuYW1lXSA9IGZvbzsKICB9OwoKICAvLyA8Y3VzdG9tZGF0YSBzcmM9c3Jj");
    sb.append("IChwYXJhbWV0ZXI6eD15KSogPgogIHNlbGYuQ1VEQSA9IGZ1bmN0aW9uIChwYXJlbnQsIHByaW9yU3Rh");
    sb.append("dGUsIHNyYywgcnhvYmosIHJlZGlyZWN0VG8sIGNoaWxkTWFrZXIpIHsKICAgIHZhciB1bnN1YiA9IG1h");
    sb.append("a2VfdW5zdWIoKTsKICAgIHJ4b2JqLl9fID0gZGVib3VuY2UoMTAsIGZ1bmN0aW9uICgpIHsKICAgICAg");
    sb.append("ZmlyZV91bnN1Yih1bnN1Yik7CiAgICAgIG51a2UocGFyZW50KTsKICAgICAgdmFyIGN1c3RvbVRyZWUg");
    sb.append("PSBmYWxzZTsKICAgICAgaWYgKHNyYyBpbiBjdXN0b21EYXRhU291cmNlcykgewogICAgICAgIHZhciBj");
    sb.append("b25zID0gY3VzdG9tRGF0YVNvdXJjZXNbc3JjXTsKICAgICAgICBpZiAodHlwZW9mIChjb25zKSA9PSAi");
    sb.append("ZnVuY3Rpb24iKSB7CiAgICAgICAgICBjdXN0b21UcmVlID0gY29ucyhyeG9iaiwgcHJpb3JTdGF0ZSwg");
    sb.append("cmVkaXJlY3RUbywgc2VsZik7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmICghY3VzdG9tVHJlZSkg");
    sb.append("ewogICAgICAgIGN1c3RvbVRyZWUgPSBuZXcgQWRhbWFUcmVlKCk7CiAgICAgIH0KICAgICAgdmFyIHN0");
    sb.append("YXRlID0gewogICAgICAgIHNlcnZpY2U6IHByaW9yU3RhdGUuc2VydmljZSwKICAgICAgICBkYXRhOiB7");
    sb.append("IGNvbm5lY3Rpb246IHByaW9yU3RhdGUuY29ubmVjdGlvbiwgdHJlZTogY3VzdG9tVHJlZSwgZGVsdGE6");
    sb.append("IHt9LCBwYXJlbnQ6IG51bGwsIHBhdGg6IG51bGwgfSwKICAgICAgICB2aWV3OiBuZXdfZGVsdGFfY29w");
    sb.append("eShwcmlvclN0YXRlLnZpZXcpLAogICAgICAgIGN1cnJlbnQ6ICJkYXRhIgogICAgICB9OwogICAgICBj");
    sb.append("aGlsZE1ha2VyKHN0YXRlKTsKICAgICAgc3Vic2NyaWJlX3N0YXRlKHN0YXRlLCB1bnN1Yik7CiAgICB9");
    sb.append("KTsKICB9OwoKICAvLyA8dGl0bGUgdmFsdWU9Ii4uLiIgLz4KICBzZWxmLlNUID0gZnVuY3Rpb24gKHJ4");
    sb.append("b2JqKSB7CiAgICBkb2N1bWVudC50aXRsZSA9IHJ4b2JqLnZhbHVlOwogICAgcnhvYmouX18gPSBkZWJv");
    sb.append("dW5jZSgxLCBmdW5jdGlvbiAoKSB7CiAgICAgIGRvY3VtZW50LnRpdGxlID0gcnhvYmoudmFsdWU7CiAg");
    sb.append("ICB9KTsKICB9OwoKICAvLyA8dmlld3N5bmM+CiAgc2VsZi5WU3kgPSBmdW5jdGlvbiAocGFyZW50LCBw");
    sb.append("cmlvclN0YXRlLCBhdmFpbCwgbm90YXZhaWwpIHsKICAgIHZhciB1bnN1YiA9IG1ha2VfdW5zdWIoKTsK");
    sb.append("ICAgIHByaW9yU3RhdGUuZGF0YS5jb25uZWN0aW9uLnN1YnNjcmliZV9zeW5jKGZ1bmN0aW9uIChzeW5j");
    sb.append("ZWQpIHsKICAgICAgbnVrZShwYXJlbnQpOwogICAgICBmaXJlX3Vuc3ViKHVuc3ViKTsKICAgICAgdmFy");
    sb.append("IHN0YXRlID0gZm9yayhwcmlvclN0YXRlKTsKICAgICAgaWYgKHN5bmNlZCkgewogICAgICAgIGF2YWls");
    sb.append("KHBhcmVudCwgc3RhdGUpOwogICAgICB9IGVsc2UgewogICAgICAgIG5vdGF2YWlsKHBhcmVudCwgc3Rh");
    sb.append("dGUpOwogICAgICB9CiAgICAgIHN1YnNjcmliZV9zdGF0ZShzdGF0ZSwgdW5zdWIpOwogICAgICAvLyBU");
    sb.append("T0RPOiByZXR1cm4gZmFsc2UgdG8gdW5zdWIKICAgICAgcmV0dXJuIHRydWU7CiAgICB9KTsKICB9OwoK");
    sb.append("ICB2YXIgYmluZF9yZXNwb25kZXIgPSBmdW5jdGlvbiAoY28sIHN0YXRlLCBjbGVhbnVwLCByZXRyeV9z");
    sb.append("bSkgewogICAgcmV0cnlfc20udW5leHBlY3RlZF9lcnJvcnMgPSAwOwogICAgcmV0cnlfc20uYmFja29m");
    sb.append("ZiA9IDE7CiAgICByZXR1cm4gewogICAgICBuZXh0OiBmdW5jdGlvbiAocGF5bG9hZCkgewogICAgICAg");
    sb.append("IGNvLmRlYnVnZ2VyKHBheWxvYWQpOwogICAgICAgIGNvLnNldF9jb25uZWN0ZWQodHJ1ZSk7CiAgICAg");
    sb.append("ICAgcmV0cnlfc20udW5leHBlY3RlZF9lcnJvcnMgPSAwOwogICAgICAgIHJldHJ5X3NtLmJhY2tvZmYg");
    sb.append("PSAxOwogICAgICAgIGlmICgiZGF0YSIgaW4gcGF5bG9hZC5kZWx0YSkgewogICAgICAgICAgY28udHJl");
    sb.append("ZS51cGRhdGUocGF5bG9hZC5kZWx0YS5kYXRhKTsKICAgICAgICB9CiAgICAgICAgaWYgKCJvdXRzdGFu");
    sb.append("ZGluZyIgaW4gcGF5bG9hZC5kZWx0YSkgewogICAgICAgICAgY28ub25kZWNpZGUocGF5bG9hZC5kZWx0");
    sb.append("YS5vdXRzdGFuZGluZyk7CiAgICAgICAgfQogICAgICAgIGlmICgndmlld3N0YXRlJyBpbiBwYXlsb2Fk");
    sb.append("LmRlbHRhKSB7CiAgICAgICAgICBzdGF0ZS52aWV3LnRyZWUudXBkYXRlKHBheWxvYWQuZGVsdGEudmll");
    sb.append("d3N0YXRlKTsKICAgICAgICB9CiAgICAgICAgaWYgKCdsb2cnIGluIHBheWxvYWQuZGVsdGEpIHsKICAg");
    sb.append("ICAgICAgIGNvbnNvbGUubG9nKHBheWxvYWQuZGVsdGEubG9nKTsKICAgICAgICB9CiAgICAgICAgaWYg");
    sb.append("KCd2aWV3cG9ydCcgaW4gcGF5bG9hZC5kZWx0YSAmJiAnbWVzc2FnZScgaW4gcGF5bG9hZC5kZWx0YSkg");
    sb.append("ewogICAgICAgICAgdmFyIHZpZXdwb3J0ID0gcGF5bG9hZC5kZWx0YS52aWV3cG9ydDsKICAgICAgICAg");
    sb.append("IGlmICh2aWV3cG9ydCBpbiBjby5oYW5kbGVycykgewogICAgICAgICAgICBjby5oYW5kbGVyc1t2aWV3");
    sb.append("cG9ydF0ocGF5bG9hZC5kZWx0YS5tZXNzYWdlLCBjbyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAg");
    sb.append("ICAgIGlmICgndmlldy1zdGF0ZS1maWx0ZXInIGluIHBheWxvYWQuZGVsdGEpIHsKICAgICAgICAgIHZh");
    sb.append("ciBmaWx0ZXIgPSB7fTsKICAgICAgICAgIHZhciBrZXlzID0gcGF5bG9hZC5kZWx0YVsndmlldy1zdGF0");
    sb.append("ZS1maWx0ZXInXTsKICAgICAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwga2V5cy5sZW5ndGg7IGsrKykg");
    sb.append("ewogICAgICAgICAgICBmaWx0ZXJba2V5c1trXV0gPSB0cnVlOwogICAgICAgICAgfQogICAgICAgICAg");
    sb.append("Y28uZmlsdGVyID0gZmlsdGVyOwogICAgICAgICAgY28uaGFzX2ZpbHRlciA9IHRydWU7CiAgICAgICAg");
    sb.append("fQogICAgICAgIGlmICgnZ290bycgaW4gcGF5bG9hZC5kZWx0YSkgewogICAgICAgICAgc2VsZi5nb3Rv");
    sb.append("KHBheWxvYWQuZGVsdGEuZ290byk7CiAgICAgICAgfQogICAgICB9LAogICAgICBjb21wbGV0ZTogZnVu");
    sb.append("Y3Rpb24gKCkgewogICAgICAgIC8vIHNob3VsZG4ndCByZWFsaXN0aWNhbGx5IGhhcHBlbiBUT0RPOiB2");
    sb.append("YWxpZGF0ZSA8LSB0cnV0aAogICAgICAgIGNvLnNldF9jb25uZWN0ZWQoZmFsc2UpOwogICAgICAgIGNv");
    sb.append("LnB0ciA9IG51bGw7CiAgICAgIH0sCiAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24pIHsKICAg");
    sb.append("ICAgICAvLyByZWdpc3RlciB0aGUgZmFpbHVyZQogICAgICAgIGNvLnNldF9jb25uZWN0ZWQoZmFsc2Up");
    sb.append("OwogICAgICAgIGNvLnB0ciA9IG51bGw7CiAgICAgICAgaWYgKHJlYXNvbiA9PSA0MDM0MDMpIHsKICAg");
    sb.append("ICAgICAgIGNsZWFudXAoKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgLy8gaXMg");
    sb.append("aXQgYW4gZXhwZWN0ZWQgZXJyb3IgdGhhdCB3aWxsIGhhcHBlbiBhIGJ1bmNoPwogICAgICAgIHZhciBl");
    sb.append("eHBlY3RlZF9lcnJvciA9IHJlYXNvbiA9PSA5OTk7CiAgICAgICAgLy8gZG8gd2Ugbm90IGtub3cgYWJv");
    sb.append("dXQgYW4gZXJyb3IgdGhhdCBoYXBwZW5zIGEgYnVuY2g/IGlmIHNvLCB0aGVuIGxldCdzIGF0IGxlYXN0");
    sb.append("IHRyeSBhZ2FpbiBhIG51bWJlciBvZiBmaW5pdGUgdGltZXMuCiAgICAgICAgdmFyIGJsaW5kX3JldHJ5");
    sb.append("ID0gcmV0cnlfc20udW5leHBlY3RlZF9lcnJvcnMgPCAxMDsKICAgICAgICBpZiAoYmxpbmRfcmV0cnkp");
    sb.append("IHsKICAgICAgICAgIHJldHJ5X3NtLnVuZXhwZWN0ZWRfZXJyb3JzKys7CiAgICAgICAgfQogICAgICAg");
    sb.append("IC8vIHJldHJ5IG9uIGVpdGhlciBjYXNlCiAgICAgICAgaWYgKGV4cGVjdGVkX2Vycm9yIHx8IGJsaW5k");
    sb.append("X3JldHJ5KSB7CiAgICAgICAgICByZXRyeV9zbS5iYWNrb2ZmID0gTWF0aC5jZWlsKE1hdGgubWluKHJl");
    sb.append("dHJ5X3NtLmJhY2tvZmYgKyBNYXRoLnJhbmRvbSgpICogcmV0cnlfc20uYmFja29mZiArIChibGluZF9y");
    sb.append("ZXRyeSA/IDEwMCA6IDEpLCAxMDAwKSk7CiAgICAgICAgICBjb25zb2xlLmxvZygiY29ubmVjdC1mYWls");
    sb.append("dXJlfHJldHJ5aW5nLi4uICgiICsgcmV0cnlfc20uYmFja29mZiArICIpOyByZWFzb249IiArIHJlYXNv");
    sb.append("biArIChibGluZF9yZXRyeSA/ICIgW2JsaW5kXSIgOiAiIikpOwogICAgICAgICAgLy8gVE9ETzogbmVl");
    sb.append("ZCBhIGRpZmZlcmVudCBmZWVkYmFjayBtZWNoYW5pc20gKG1heWJlIGEgbnVtYmVyIHVuZGVyIHRoZSB3");
    sb.append("aWZpIGljb24/KQogICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAg");
    sb.append("ICAgIHJldHJ5X3NtLmdvKCk7CiAgICAgICAgICB9LCByZXRyeV9zbS5iYWNrb2ZmKTsKICAgICAgICB9");
    sb.append("IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coImdhdmUgdXAgY29ubmVjdGlvbjsiICsgY28ubGFi");
    sb.append("ZWwgKyAiOyByZWFzb249IiArIHJlYXNvbik7CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfTsKCiAg");
    sb.append("dmFyIHNldHVwX2NvID0gZnVuY3Rpb24oZGVzaXJlZCwgdW5zdWIsIGNvLCBzdGF0ZSkgewogICAgdmFy");
    sb.append("IHN5bmNfdHJlZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgLy8gbGV0J3MgY29weSBvdXQgdGhlIHRyZWUg");
    sb.append("ZnJvbSB0aGUgdmlld3N0YXRlCiAgICAgIHZhciBuZXdfdHJlZSA9IHN0YXRlLnZpZXcudHJlZS5jb3B5");
    sb.append("KCk7CgogICAgICAvLyBpZiB3ZSBoYXZlIGdvdCBhIGZpbHRlciBmcm9tIHRoZSBzZXJ2ZXIsIHRoZW4g");
    sb.append("bGV0J3MgZmlsdGVyCiAgICAgIGlmIChjby5oYXNfZmlsdGVyKSB7CiAgICAgICAgLy8gcmVjb25zdHJ1");
    sb.append("Y3QgdGhlIG5ldyB2aWV3IGJhc2VkIG9uIHRoZSBpbnRlcnNlY3Rpb24gb2YgdGhlIGZpbHRlciBhbmQg");
    sb.append("dGhlIG5ldyBzdGF0ZQogICAgICAgIHZhciBmaWx0ZXJlZCA9IHt9OwogICAgICAgIGZvciAodmFyIGsg");
    sb.append("aW4gbmV3X3RyZWUpIHsKICAgICAgICAgIGlmIChjby5maWx0ZXJba10pIHsKICAgICAgICAgICAgZmls");
    sb.append("dGVyZWRba10gPSBuZXdfdHJlZVtrXTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgLy8gYXNz");
    sb.append("dW1lIHRoZSBuZXcgdHJlZQogICAgICAgIG5ld190cmVlID0gZmlsdGVyZWQ7CiAgICAgIH0KICAgICAg");
    sb.append("Ly8gaWYgdGhlIGNsb25lIChpLmUuIHN0cmluZ2lmaWVkIHZlcnNpb24pIGlzIHRoZSBzYW1lIGFzIHdo");
    sb.append("YXQgd2UgbGFzdCBzZW50LCB0aGVuIGRvbid0IHNlbmQgYW55dGhpbmcKICAgICAgdmFyIHByaW9yX2Ns");
    sb.append("b25lID0gSlNPTi5zdHJpbmdpZnkobmV3X3RyZWUpOwogICAgICBpZiAocHJpb3JfY2xvbmUgPT0gY28u");
    sb.append("dmlld3N0YXRlX2Nsb25lKSB7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGNvLnZpZXdzdGF0");
    sb.append("ZV9zZW50ID0gZmFsc2U7CiAgICAgIGNvLnZzc2VxKys7CiAgICAgIGNvLnN5bmMoKTsKICAgICAgdmFy");
    sb.append("IHN5bmNlZCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBpZiAoY28udnNzZXEgPT0gdGhpcy5ib3VuZCkg");
    sb.append("ewogICAgICAgICAgY28udmlld3N0YXRlX3NlbnQgPSB0cnVlOwogICAgICAgICAgY28uc3luYygpOwog");
    sb.append("ICAgICAgIH0KICAgICAgfS5iaW5kKHsgYm91bmQ6IGNvLnZzc2VxIH0pOwogICAgICBjby52aWV3c3Rh");
    sb.append("dGVfY2xvbmUgPSBKU09OLnN0cmluZ2lmeShuZXdfdHJlZSk7CiAgICAgIGNvLnB0ci51cGRhdGUobmV3");
    sb.append("X3RyZWUsIHsgc3VjY2Vzczogc3luY2VkLCBmYWlsdXJlOiBzeW5jZWQgfSk7CiAgICB9OwogICAgdmFy");
    sb.append("IGJpbmQgPSBmdW5jdGlvbiAoc2VuZE5vdykgewogICAgICB1bnN1Yi52aWV3ID0gc3RhdGUudmlldy50");
    sb.append("cmVlLnN1YnNjcmliZShmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKGNvLnB0ciA9PSBudWxsKSB7CiAg");
    sb.append("ICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHN5bmNfdHJlZSgpOwogICAgICB9KTsKICAg");
    sb.append("ICAgaWYgKHNlbmROb3cpIHsKICAgICAgICBzeW5jX3RyZWUoKTsKICAgICAgfQogICAgfTsKICAgIGlm");
    sb.append("IChjby5wdHIgIT0gbnVsbCAmJiBjby5ib3VuZCA9PSBkZXNpcmVkKSB7CiAgICAgIGJpbmQodHJ1ZSk7");
    sb.append("CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICAgIGlmIChjby5wdHIgIT0gbnVsbCkgewogICAgICBj");
    sb.append("by5wdHIuZW5kKHsgc3VjY2VzczogZnVuY3Rpb24gKCkgeyB9LCBmYWlsdXJlOiBmdW5jdGlvbiAoKSB7");
    sb.append("IH0gfSk7CiAgICAgIGNvLnB0ciA9IG51bGw7CiAgICB9CiAgICByZXR1cm4gYmluZDsKICB9OwoKICAv");
    sb.append("LyA8Y29ubmVjdGlvbiB1c2UtZG9tYWluIC4uLj4KICBzZWxmLkRDT05ORUNUID0gZnVuY3Rpb24gKHN0");
    sb.append("YXRlLCByeG9iaikgewogICAgdmFyIHVuc3ViID0gewogICAgICB2aWV3OiBmdW5jdGlvbiAoKSB7CiAg");
    sb.append("ICAgIH0KICAgIH07CiAgICByeG9iai5fXyA9IGRlYm91bmNlKDUsIGZ1bmN0aW9uICgpIHsKICAgICAg");
    sb.append("aWYgKCEoJ25hbWUnIGluIHJ4b2JqKSkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIg");
    sb.append("aWRMb29rdXAgPSBzZWxmLklEKHJ4b2JqLmlkZW50aXR5LCBmdW5jdGlvbiAoKSB7IHJldHVybiByeG9i");
    sb.append("ai5yZWRpcmVjdDsgfSk7CiAgICAgIGlmIChpZExvb2t1cC5hYm9ydCkgewogICAgICAgIHJldHVybjsK");
    sb.append("ICAgICAgfQogICAgICB2YXIgY28gPSBnZXRfY29ubmVjdGlvbl9vYmoocnhvYmoubmFtZSk7CiAgICAg");
    sb.append("IHZhciBkb21haW4gPSBsb2NhdGlvbi5ob3N0LnNwbGl0KCI6IilbMF07CiAgICAgIHZhciBkZXNpcmVk");
    sb.append("ID0gZG9tYWluICsgaWRMb29rdXAuaWRlbnRpdHk7CiAgICAgIHZhciBiaW5kID0gc2V0dXBfY28oZGVz");
    sb.append("aXJlZCwgdW5zdWIsIGNvLCBzdGF0ZSk7CiAgICAgIGlmIChiaW5kID09PSBmYWxzZSkgewogICAgICAg");
    sb.append("IHJldHVybjsKICAgICAgfQogICAgICBjby5ib3VuZCA9IGRlc2lyZWQ7CgogICAgICB2YXIgaWRlbnRp");
    sb.append("dHkgPSBpZExvb2t1cC5pZGVudGl0eTsKICAgICAgdmFyIGNsZWFudXAgPSBpZExvb2t1cC5jbGVhbnVw");
    sb.append("OwogICAgICB1bnN1Yi52aWV3KCk7CiAgICAgIGNvLmlkZW50aXR5ID0gaWRlbnRpdHk7CiAgICAgIGNv");
    sb.append("LmhhbmRsZXJzID0ge307CiAgICAgIGNvLnZpZXdzdGF0ZV9zZW50ID0gdHJ1ZTsKICAgICAgY28ubGFi");
    sb.append("ZWwgPSAiRG9tYWluOiIgKyBkb21haW4gKyAiIFsgIiArIHJ4b2JqLm5hbWUgKyAiXSI7CiAgICAgIGNv");
    sb.append("LnZpYV9kb21haW4gPSB0cnVlOwogICAgICBjby5kb21haW4gPSBkb21haW47CiAgICAgIHZhciByZXRy");
    sb.append("eV9zbSA9IHt9OwogICAgICByZXRyeV9zbS5yZXNwb25kZXIgPSBiaW5kX3Jlc3BvbmRlcihjbywgc3Rh");
    sb.append("dGUsIGNsZWFudXAsIHJldHJ5X3NtKTsKICAgICAgcmV0cnlfc20uZ28gPSBmdW5jdGlvbigpIHsKICAg");
    sb.append("ICAgICAvLyBiaWFzIHRvIG5vdGhpbmcgbmV3CiAgICAgICAgY28udmlld3N0YXRlX2Nsb25lID0gInt9");
    sb.append("IjsKICAgICAgICBjby5wdHIgPSBjb25uZWN0aW9uLkNvbm5lY3Rpb25DcmVhdGVWaWFEb21haW4oaWRl");
    sb.append("bnRpdHksIGRvbWFpbiwgc3RhdGUudmlldy50cmVlLmNvcHkoKSwgcmV0cnlfc20ucmVzcG9uZGVyKTsK");
    sb.append("ICAgICAgfTsKICAgICAgcmV0cnlfc20uZ28oKTsKICAgICAgY28udHJlZS51cGRhdGUoe30pOwogICAg");
    sb.append("ICBiaW5kKGZhbHNlKTsKICAgIH0pOwogIH07CgogIC8vIDxjb25uZWN0aW9uIC4uLj4KICBzZWxmLkNP");
    sb.append("Tk5FQ1QgPSBmdW5jdGlvbiAoc3RhdGUsIHJ4b2JqKSB7CiAgICB2YXIgdW5zdWIgPSB7CiAgICAgIHZp");
    sb.append("ZXc6IGZ1bmN0aW9uICgpIHsKICAgICAgfQogICAgfTsKICAgIHJ4b2JqLl9fID0gZGVib3VuY2UoNSwg");
    sb.append("ZnVuY3Rpb24gKCkgewogICAgICB2YXIgdmFsaWQgPSAna2V5JyBpbiByeG9iaiAmJiAnc3BhY2UnIGlu");
    sb.append("IHJ4b2JqICYmICduYW1lJyBpbiByeG9iajsKICAgICAgaWYgKCF2YWxpZCkgewogICAgICAgIHJldHVy");
    sb.append("bjsKICAgICAgfQogICAgICB2YXIgaWRMb29rdXAgPSBzZWxmLklEKHJ4b2JqLmlkZW50aXR5LCBmdW5j");
    sb.append("dGlvbiAoKSB7IHJldHVybiByeG9iai5yZWRpcmVjdDsgfSk7CiAgICAgIGlmIChpZExvb2t1cC5hYm9y");
    sb.append("dCkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB2YXIgY28gPSBnZXRfY29ubmVjdGlvbl9v");
    sb.append("YmoocnhvYmoubmFtZSk7CiAgICAgIHZhciBkZXNpcmVkID0gcnhvYmouc3BhY2UgKyAiLyIgKyByeG9i");
    sb.append("ai5rZXkgKyAiLyIgKyBpZExvb2t1cC5pZGVudGl0eTsgLy8gVE9ETzogbmVlZCBzb21lIGtpbmQgb2Yg");
    sb.append("aGFzaGluZyBmdW5jdGlvbiBoZXJlCiAgICAgIHZhciBiaW5kID0gc2V0dXBfY28oZGVzaXJlZCwgdW5z");
    sb.append("dWIsIGNvLCBzdGF0ZSk7CiAgICAgIGlmIChiaW5kID09PSBmYWxzZSkgewogICAgICAgIHJldHVybjsK");
    sb.append("ICAgICAgfQogICAgICBjby5ib3VuZCA9IGRlc2lyZWQ7CgogICAgICB2YXIgaWRlbnRpdHkgPSBpZExv");
    sb.append("b2t1cC5pZGVudGl0eTsKICAgICAgdmFyIGNsZWFudXAgPSBpZExvb2t1cC5jbGVhbnVwOwogICAgICB1");
    sb.append("bnN1Yi52aWV3KCk7CiAgICAgIGNvLnNwYWNlID0gcnhvYmouc3BhY2U7CiAgICAgIGNvLmtleSA9IHJ4");
    sb.append("b2JqLmtleTsKICAgICAgY28uaWRlbnRpdHkgPSBpZGVudGl0eTsKICAgICAgY28uaGFuZGxlcnMgPSB7");
    sb.append("fTsKICAgICAgY28udmlld3N0YXRlX3NlbnQgPSB0cnVlOwogICAgICBjby5sYWJlbCA9IGNvLnNwYWNl");
    sb.append("ICsgIi8iICsgY28ua2V5ICsgIiBbICIgKyByeG9iai5uYW1lICsgIl0iOwogICAgICBjby52aWFfZG9t");
    sb.append("YWluID0gZmFsc2U7CiAgICAgIHZhciByZXRyeV9zbSA9IHt9OwogICAgICByZXRyeV9zbS5yZXNwb25k");
    sb.append("ZXIgPSBiaW5kX3Jlc3BvbmRlcihjbywgc3RhdGUsIGNsZWFudXAsIHJldHJ5X3NtKTsKICAgICAgcmV0");
    sb.append("cnlfc20uZ28gPSBmdW5jdGlvbigpIHsKICAgICAgICAvLyBiaWFzIHRvIG5vdGhpbmcgbmV3CiAgICAg");
    sb.append("ICAgY28udmlld3N0YXRlX2Nsb25lID0gInt9IjsKICAgICAgICBjby5wdHIgPSBjb25uZWN0aW9uLkNv");
    sb.append("bm5lY3Rpb25DcmVhdGUoaWRlbnRpdHksIHJ4b2JqLnNwYWNlLCByeG9iai5rZXksIHN0YXRlLnZpZXcu");
    sb.append("dHJlZS5jb3B5KCksIHJldHJ5X3NtLnJlc3BvbmRlcik7CiAgICAgIH07CiAgICAgIHJldHJ5X3NtLmdv");
    sb.append("KCk7CiAgICAgIGNvLnRyZWUudXBkYXRlKHt9KTsKICAgICAgYmluZChmYWxzZSk7CiAgICB9KTsKICB9");
    sb.append("OwoKICBzZWxmLklOVEVSTkFMID0gZnVuY3Rpb24gKHByaW9yU3RhdGUpIHsKICAgIHJldHVybiB7CiAg");
    sb.append("ICAgIHNlcnZpY2U6IHByaW9yU3RhdGUuc2VydmljZSwKICAgICAgZGF0YTogeyBjb25uZWN0aW9uOiBu");
    sb.append("dWxsLCB0cmVlOiBuZXcgQWRhbWFUcmVlKCksIGRlbHRhOiB7fSwgcGFyZW50OiBudWxsLCBwYXRoOiBu");
    sb.append("dWxsIH0sCiAgICAgIHZpZXc6IG5ld19kZWx0YV9jb3B5KHByaW9yU3RhdGUudmlldyksCiAgICAgIGN1");
    sb.append("cnJlbnQ6ICJkYXRhIgogICAgfTsKICB9OwoKICB2YXIgcmVjYWxsX2VtYWlsID0gZnVuY3Rpb24gKGVs");
    sb.append("KSB7CiAgICBpZiAoZWwudGFnTmFtZS50b1VwcGVyQ2FzZSgpID09ICJJTlBVVCIpIHsKICAgICAgaWYg");
    sb.append("KCJlbWFpbCIgPT0gZWwudHlwZSAmJiAiZW1haWwiID09IGVsLm5hbWUpIHsKICAgICAgICBlbC52YWx1");
    sb.append("ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJlbWFpbF9yZW1lbWJlciIpOwogICAgICB9CiAgICB9IGVs");
    sb.append("c2UgewogICAgICBpZiAoImNoaWxkcmVuIiBpbiBlbCkgewogICAgICAgIHZhciBhcnIgPSBlbC5jaGls");
    sb.append("ZHJlbjsKICAgICAgICB2YXIgbiA9IGFyci5sZW5ndGg7CiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsg");
    sb.append("PCBuOyBrKyspIHsKICAgICAgICAgIHJlY2FsbF9lbWFpbChlbC5jaGlsZHJlbltrXSk7CiAgICAgICAg");
    sb.append("fQogICAgICB9CiAgICB9CiAgfTsKCiAgc2VsZi5hVVAgPSBmdW5jdGlvbiAoZm9ybSwgc3RhdGUsIGlk");
    sb.append("ZW50aXR5TmFtZSwgcnhvYmopIHsKICAgIHZhciBpZExvb2t1cCA9IHNlbGYuSUQoaWRlbnRpdHlOYW1l");
    sb.append("LCBmdW5jdGlvbiAoKSB7IHJldHVybiByeG9iai5yeF9mb3J3YXJkOyB9KTsgLy8gVE9ETzogbWFrZSBy");
    sb.append("eHZhcgogICAgaWYgKGlkTG9va3VwLmFib3J0KSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIGZvcm0u");
    sb.append("YWN0aW9uID0gImh0dHBzOi8vYXdzLXVzLWVhc3QtMi5hZGFtYS1wbGF0Zm9ybS5jb20vfnVwbG9hZCI7");
    sb.append("CiAgICBmb3JtLm1ldGhvZCA9ICJwb3N0IjsKICAgIGZvcm0uZW5jdHlwZSA9ICJtdWx0aXBhcnQvZm9y");
    sb.append("bS1kYXRhIjsKICAgIHZhciBpZGVudGl0eUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5w");
    sb.append("dXQiKTsKICAgIGlkZW50aXR5SW5wdXQudHlwZSA9ICJoaWRkZW4iOwogICAgaWRlbnRpdHlJbnB1dC5u");
    sb.append("YW1lID0gImlkZW50aXR5IjsKICAgIGlkZW50aXR5SW5wdXQudmFsdWUgPSBpZExvb2t1cC5pZGVudGl0");
    sb.append("eTsKICAgIGZvcm0uYXBwZW5kQ2hpbGQoaWRlbnRpdHlJbnB1dCk7CiAgICB2YXIgaWZyYW1lVGFyZ2V0");
    sb.append("ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaWZyYW1lIik7CiAgICBpZnJhbWVUYXJnZXQubmFtZSA9");
    sb.append("ICJVUExPQURfIiArIE1hdGgucmFuZG9tKCk7CiAgICBpZnJhbWVUYXJnZXQud2lkdGggPSAiMSI7CiAg");
    sb.append("ICBpZnJhbWVUYXJnZXQuaGVpZ2h0ID0gIjEiOwoKICAgIGZvcm0uYXBwZW5kQ2hpbGQoaWZyYW1lVGFy");
    sb.append("Z2V0KTsKICAgIGZvcm0udGFyZ2V0ID0gaWZyYW1lVGFyZ2V0Lm5hbWU7CiAgfTsKCiAgc2VsZi5hRFVQ");
    sb.append("ID0gZnVuY3Rpb24gKGZvcm0sIHN0YXRlLCBpZGVudGl0eU5hbWUsIHJ4b2JqKSB7CiAgICB2YXIgaWRM");
    sb.append("b29rdXAgPSBzZWxmLklEKGlkZW50aXR5TmFtZSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gcnhvYmoucnhf");
    sb.append("Zm9yd2FyZDsgfSk7IC8vIFRPRE86IG1ha2Ugcnh2YXIKICAgIGlmIChpZExvb2t1cC5hYm9ydCkgewog");
    sb.append("ICAgICByZXR1cm47CiAgICB9CiAgICBmb3JtLmFjdGlvbiA9ICJodHRwczovL2F3cy11cy1lYXN0LTIu");
    sb.append("YWRhbWEtcGxhdGZvcm0uY29tL351cGxvYWQiOwogICAgZm9ybS5tZXRob2QgPSAicG9zdCI7CiAgICBm");
    sb.append("b3JtLmVuY3R5cGUgPSAibXVsdGlwYXJ0L2Zvcm0tZGF0YSI7CiAgICB7CiAgICAgIHZhciBpZGVudGl0");
    sb.append("eUlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKICAgICAgaWRlbnRpdHlJbnB1");
    sb.append("dC50eXBlID0gImhpZGRlbiI7CiAgICAgIGlkZW50aXR5SW5wdXQubmFtZSA9ICJpZGVudGl0eSI7CiAg");
    sb.append("ICAgIGlkZW50aXR5SW5wdXQudmFsdWUgPSBpZExvb2t1cC5pZGVudGl0eTsKICAgICAgZm9ybS5hcHBl");
    sb.append("bmRDaGlsZChpZGVudGl0eUlucHV0KTsKICAgIH0KICAgIHsKICAgICAgdmFyIGRvbWFpbklucHV0ID0g");
    sb.append("ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW5wdXQiKTsKICAgICAgZG9tYWluSW5wdXQudHlwZSA9ICJo");
    sb.append("aWRkZW4iOwogICAgICBkb21haW5JbnB1dC5uYW1lID0gImRvbWFpbiI7CiAgICAgIGRvbWFpbklucHV0");
    sb.append("LnZhbHVlID0gbG9jYXRpb24uaG9zdG5hbWU7CiAgICAgIGZvcm0uYXBwZW5kQ2hpbGQoZG9tYWluSW5w");
    sb.append("dXQpOwogICAgfQogICAgdmFyIGlmcmFtZVRhcmdldCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlm");
    sb.append("cmFtZSIpOwogICAgaWZyYW1lVGFyZ2V0Lm5hbWUgPSAiVVBMT0FEXyIgKyBNYXRoLnJhbmRvbSgpOwog");
    sb.append("ICAgaWZyYW1lVGFyZ2V0LndpZHRoID0gIjEiOwogICAgaWZyYW1lVGFyZ2V0LmhlaWdodCA9ICIxIjsK");
    sb.append("ICAgIGZvcm0uYXBwZW5kQ2hpbGQoaWZyYW1lVGFyZ2V0KTsKICAgIGZvcm0udGFyZ2V0ID0gaWZyYW1l");
    sb.append("VGFyZ2V0Lm5hbWU7CiAgfTsKCiAgLy8gUlVOVElNRSB8IHJ4OmFjdGlvbj1kb21haW46c2lnbi1pbgog");
    sb.append("IHNlbGYuYWREU08gPSBmdW5jdGlvbiAoZm9ybSwgc3RhdGUsIGlkZW50aXR5TmFtZSwgcnhvYmopIHsK");
    sb.append("ICAgIHJ4b2JqLl9fID0gZnVuY3Rpb24gKCkgeyB9OwogICAgZm9ybS5vbnN1Ym1pdCA9IGZ1bmN0aW9u");
    sb.append("IChldnQpIHsKICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciByZXEgPSBnZXRfZm9y");
    sb.append("bShmb3JtLCB0cnVlKTsKICAgICAgY29ubmVjdGlvbi5Eb2N1bWVudEF1dGhvcml6ZURvbWFpbihsb2Nh");
    sb.append("dGlvbi5ob3N0bmFtZSwgcmVxLnVzZXJuYW1lLCByZXEucGFzc3dvcmQsIHsKICAgICAgICBzdWNjZXNz");
    sb.append("OiBmdW5jdGlvbiAocGF5bG9hZCkgewogICAgICAgICAgaWRlbnRpdGllc1tpZGVudGl0eU5hbWVdID0g");
    sb.append("cGF5bG9hZC5pZGVudGl0eTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJpZGVudGl0eV8i");
    sb.append("ICsgaWRlbnRpdHlOYW1lLCBwYXlsb2FkLmlkZW50aXR5KTsKICAgICAgICAgIC8vIFRPRE86IGJsb3cg");
    sb.append("YXdheSBjb25uZWN0aW9ucwogICAgICAgICAgc2VsZi5nb3RvKHJ4b2JqLnJ4X2ZvcndhcmQpOwogICAg");
    sb.append("ICAgICAgZmlyZV9zdWNjZXNzKGZvcm0pOwogICAgICAgIH0sCiAgICAgICAgZmFpbHVyZTogZnVuY3Rp");
    sb.append("b24gKHJlYXNvbikgewogICAgICAgICAgZmlyZV9mYWlsdXJlKGZvcm0sICJGYWlsZWQgc2lnbmluZyBp");
    sb.append("bnRvIGRvY3VtZW50OiIgKyByZWFzb24pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9OwogIH0KCiAg");
    sb.append("Ly8gUlVOVElNRSB8IHJ4OmFjdGlvbj1kb2N1bWVudDpzaWduLWluCiAgc2VsZi5hRFNPID0gZnVuY3Rp");
    sb.append("b24gKGZvcm0sIHN0YXRlLCBpZGVudGl0eU5hbWUsIHJ4b2JqKSB7CiAgICByeG9iai5fXyA9IGZ1bmN0");
    sb.append("aW9uICgpIHsgfTsKICAgIGZvcm0ub25zdWJtaXQgPSBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgIGV2dC5w");
    sb.append("cmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgcmVxID0gZ2V0X2Zvcm0oZm9ybSwgdHJ1ZSk7CiAgICAg");
    sb.append("IGNvbm5lY3Rpb24uRG9jdW1lbnRBdXRob3JpemUocmVxLnNwYWNlLCByZXEua2V5LCByZXEudXNlcm5h");
    sb.append("bWUsIHJlcS5wYXNzd29yZCwgewogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChwYXlsb2FkKSB7CiAg");
    sb.append("ICAgICAgICBpZGVudGl0aWVzW2lkZW50aXR5TmFtZV0gPSBwYXlsb2FkLmlkZW50aXR5OwogICAgICAg");
    sb.append("ICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImlkZW50aXR5XyIgKyBpZGVudGl0eU5hbWUsIHBheWxvYWQu");
    sb.append("aWRlbnRpdHkpOwogICAgICAgICAgLy8gVE9ETzogYmxvdyBhd2F5IGNvbm5lY3Rpb25zCiAgICAgICAg");
    sb.append("ICBzZWxmLmdvdG8ocnhvYmoucnhfZm9yd2FyZCk7CiAgICAgICAgICBmaXJlX3N1Y2Nlc3MoZm9ybSk7");
    sb.append("CiAgICAgICAgfSwKICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAocmVhc29uKSB7CiAgICAgICAgICBm");
    sb.append("aXJlX2ZhaWx1cmUoZm9ybSwgIkZhaWxlZCBzaWduaW5nIGludG8gZG9jdW1lbnQ6IiArIHJlYXNvbik7");
    sb.append("CiAgICAgICAgfQogICAgICB9KTsKICAgIH07CiAgfTsKICAvLyB0cmFuc2Zvcm0gPSBmb3JtYXRfZGF0");
    sb.append("ZV91c2EKCiAgdmFyIHRyYW5zZm9ybXMgPSB7fTsKICB0cmFuc2Zvcm1zWydwcmluY2lwYWwuYWdlbnQn");
    sb.append("XSA9IGZ1bmN0aW9uKHgpIHsgcmV0dXJuIHguYWdlbnQ7IH07CiAgdHJhbnNmb3Jtc1sncHJpbmNpcGFs");
    sb.append("LmF1dGhvcml0eSddID0gZnVuY3Rpb24oeCkgeyByZXR1cm4geC5hdXRob3JpdHk7IH07CiAgdHJhbnNm");
    sb.append("b3Jtc1sndHJpbSddID0gZnVuY3Rpb24oeCkgeyByZXR1cm4gKCcnICsgeCkudHJpbSgpOyB9OwogIHRy");
    sb.append("YW5zZm9ybXNbJ3VwcGVyJ10gPSBmdW5jdGlvbih4KSB7IHJldHVybiAoJycgKyB4KS50b1VwcGVyQ2Fz");
    sb.append("ZSgpOyB9OwogIHRyYW5zZm9ybXNbJ2xvd2VyJ10gPSBmdW5jdGlvbih4KSB7IHJldHVybiAoJycgKyB4");
    sb.append("KS50b0xvd2VyQ2FzZSgpOyB9OwogIHRyYW5zZm9ybXNbJ2lzX2VtcHR5X3N0ciddID0gZnVuY3Rpb24o");
    sb.append("eCkgeyByZXR1cm4geCA9PSAiIjsgfTsKICB0cmFuc2Zvcm1zWydpc19ub3RfZW1wdHlfc3RyJ10gPSBm");
    sb.append("dW5jdGlvbih4KSB7IHJldHVybiB4ICE9ICIiOyB9OwogIHRyYW5zZm9ybXNbJ2pzb25pZnknXSA9IGZ1");
    sb.append("bmN0aW9uKHgpIHsgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHgpOyB9OwogIHRyYW5zZm9ybXNbJ3RpbWVf");
    sb.append("bm93J10gPSBmdW5jdGlvbih4KSB7IHJldHVybiBEYXRlLm5vdygpICsgIiI7IH07CiAgdHJhbnNmb3Jt");
    sb.append("c1sndGltZV9hZ28nXSA9IGZ1bmN0aW9uKGR0KSB7CiAgICAvLyBvbmx5IHRyYW5zZm9ybSBzdHJpbmdz");
    sb.append("CiAgICBpZiAodHlwZW9mIChkdCkgPT0gInN0cmluZyIpIHsKICAgICAgLy8gbGV0J3Mgc3RyaXAgb3V0");
    sb.append("IGV2ZXJ5dGhpbmcgYWZ0ZXIgdGhlIGJyYWNrZXRzCiAgICAgIHZhciBzID0gZHQ7CiAgICAgIHZhciBr");
    sb.append("ID0gcy5pbmRleE9mKCdbJyk7CiAgICAgIGlmIChrID49IDApIHsKICAgICAgICBzID0gcy5zdWJzdHJp");
    sb.append("bmcoMCwgayk7CiAgICAgIH0KICAgICAgdmFyIGQgPSBEYXRlLnBhcnNlKHMpOwogICAgICBpZiAoTnVt");
    sb.append("YmVyLmlzTmFOKGQpKSB7CiAgICAgICAgLy8gaXQgaXNuJ3QgYSBudW1iZXIsIHNvIHdlIGRpZG4ndCBn");
    sb.append("ZXQgYSBkYXRlIHN0YW1wOyBkZWZhdWx0IHRvIHRoZSBpbnB1dAogICAgICAgIHJldHVybiBkdDsKICAg");
    sb.append("ICAgfQogICAgICAvLyB3ZSBhcmUgaW50ZXJlc3RlZCBpbiBwcm9kdWNpbmcgYSBzdHJpbmcgbGlrZSAi");
    sb.append("WCBtaW51dGVzIGFnbyIsIHNvIHN0YXJ0IHdpdGggc2Vjb25kcwogICAgICB2YXIgZGVsdGEgPSAoRGF0");
    sb.append("ZS5ub3coKSAtIGQpLzEwMDA7IC8vIHNlY29uZHM7CiAgICAgIGlmIChkZWx0YSA8IDYwKSB7CiAgICAg");
    sb.append("ICAgcmV0dXJuIE1hdGguZmxvb3IoZGVsdGEpICsgIiBzZWNvbmRzIGFnbyI7CiAgICAgIH0KICAgICAg");
    sb.append("Ly8gaXQgd2Fzbid0IDkwIHNlY29uZHMgYWdvIG9yIGxlc3MsIHNvIGxldCdzIHJlZmluZSB0b3dhcmRz");
    sb.append("IG1pbnV0ZXMKICAgICAgZGVsdGEgLz0gNjA7IC8vIG5vdyBpdCBpcyBtaW51dGVzCiAgICAgIGlmIChk");
    sb.append("ZWx0YSA8IDYwKSB7CiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoZGVsdGEpICsgIiBtaW51dGVzIGFn");
    sb.append("byI7CiAgICAgIH0KICAgICAgLy8gaXQgd2Fzbid0IDkwIG1pbnV0ZXMgYWdvLCBzbyBsZXQncyBqdXN0");
    sb.append("IHB1dCB0aGUgdGltZSBzdGFtcCB1cAogICAgICB2YXIgZHRoZW4gPSBuZXcgRGF0ZShkKTsKICAgICAg");
    sb.append("dmFyIGRub3cgPSBuZXcgRGF0ZSgpOwogICAgICBpZiAoZHRoZW4udG9Mb2NhbGVEYXRlU3RyaW5nKCkg");
    sb.append("IT0gZG5vdy50b0xvY2FsZURhdGVTdHJpbmcoKSkgewogICAgICAgIHJldHVybiBkdGhlbi50b0xvY2Fs");
    sb.append("ZURhdGVTdHJpbmcoKSArICIgIiArIGR0aGVuLnRvTG9jYWxlVGltZVN0cmluZygpOwogICAgICB9CiAg");
    sb.append("ICAgIHJldHVybiBkdGhlbi50b0xvY2FsZVRpbWVTdHJpbmcoKTsKICAgIH0gZWxzZSB7CiAgICAgIC8v");
    sb.append("IGRvIG5vdGhpbmcKICAgICAgcmV0dXJuIGR0OwogICAgfQogIH07CgogIHNlbGYuUlRSID0gZnVuY3Rp");
    sb.append("b24obmFtZSwgdHJhbnNmb3JtKSB7CiAgICB0cmFuc2Zvcm1zW25hbWVdID0gdHJhbnNmb3JtOwogIH07");
    sb.append("CiAgc2VsZi5yZWdpc3RlclRyYW5zZm9ybSA9IHNlbGYuUlRSOwoKICAvLyB7YmxhaHxuYW1lfQogIHNl");
    sb.append("bGYuVFIgPSBmdW5jdGlvbihuYW1lKSB7CiAgICBpZiAobmFtZSBpbiB0cmFuc2Zvcm1zKSB7CiAgICAg");
    sb.append("IHJldHVybiB0cmFuc2Zvcm1zW25hbWVdOwogICAgfQogICAgcmV0dXJuIGZ1bmN0aW9uKHgpIHsgcmV0");
    sb.append("dXJuIHg7IH07CiAgfTsKCiAgLy8gVE9ETwogIHZhciB2YWxpZGF0b3JzID0ge307CiAgc2VsZi5SViA9");
    sb.append("IGZ1bmN0aW9uKG5hbWUsIHZhbGlkYXRvcikgewogICAgdmFsaWRhdG9yc1tuYW1lXSA9IHZhbGlkYXRv");
    sb.append("cjsKICB9OwogIHNlbGYucmVnaXN0ZXJWYWxpZGF0b3IgPSBzZWxmLlJWOwoKICB2YXIgY29tbW9uUHV0");
    sb.append("ID0gZnVuY3Rpb24gKGZvcm0sIHN0YXRlLCBpZGVudGl0eU5hbWUsIHJ4b2JqLCB1cmxmYWN0b3J5KSB7");
    sb.append("CiAgICAvLyBXSVAKICAgIHJ4b2JqLl9fID0gZnVuY3Rpb24gKCkgeyB9OwogICAgZm9ybS5vbnN1Ym1p");
    sb.append("dCA9IGZ1bmN0aW9uIChldnQpIHsKICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIHZhciBy");
    sb.append("ZXEgPSBnZXRfZm9ybShmb3JtLCBmYWxzZSk7CiAgICAgIC8vIFRPRE86IHRoaXMgYXNzdW1lcyBleGFj");
    sb.append("dGx5IG9uZSBwYXNzd29yZCBpbiB0aGUgcm9vdCBtZXNzYWdlCiAgICAgIHZhciBwd3MgPSBnZXRfcGFz");
    sb.append("c3dvcmQoZm9ybSk7CgogICAgICB2YXIgbmV4dCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgdXJs");
    sb.append("ID0gdXJsZmFjdG9yeShyeG9iaik7CiAgICAgICAgdmFyIHhodHRwID0gbmV3IFhNTEh0dHBSZXF1ZXN0");
    sb.append("KCk7CiAgICAgICAgeGh0dHAub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkgewogICAgICAg");
    sb.append("ICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PSA0KSB7CiAgICAgICAgICAgIGlmICh0aGlzLnN0YXR1cyA9");
    sb.append("PSAyMDApIHsKICAgICAgICAgICAgICB2YXIgdHlwZSA9IHRoaXMuZ2V0UmVzcG9uc2VIZWFkZXIoIkNv");
    sb.append("bnRlbnQtVHlwZSIpOwogICAgICAgICAgICAgIGlmICh0eXBlID09ICJ0ZXh0L2Vycm9yIikgewogICAg");
    sb.append("ICAgICAgICAgICAgZmlyZV9mYWlsdXJlKGZvcm0sIHRoaXMucmVzcG9uc2VUZXh0KTsKICAgICAgICAg");
    sb.append("ICAgICAgIHJldHVybjsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gImFwcGxpY2F0aW9u");
    sb.append("L2pzb24iKSB7CiAgICAgICAgICAgICAgICB2YXIgcGF5bG9hZCA9IEpTT04ucGFyc2UodGhpcy5yZXNw");
    sb.append("b25zZVRleHQpOwogICAgICAgICAgICAgICAgaWYgKCdpZGVudGl0eScgaW4gcGF5bG9hZCkgewogICAg");
    sb.append("ICAgICAgICAgICAgICBpZGVudGl0aWVzW2lkZW50aXR5TmFtZV0gPSBwYXlsb2FkLmlkZW50aXR5Owog");
    sb.append("ICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaWRlbnRpdHlfIiArIGlkZW50aXR5");
    sb.append("TmFtZSwgcGF5bG9hZC5pZGVudGl0eSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfQog");
    sb.append("ICAgICAgICAgICAgIHNlbGYuZ290byhyeG9iai5yeF9mb3J3YXJkKTsKICAgICAgICAgICAgICBmaXJl");
    sb.append("X3N1Y2Nlc3MoZm9ybSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgZmlyZV9mYWls");
    sb.append("dXJlKGZvcm0sICJGYWlsZWQgdG8gY29tbXVuaWNhdGUgdG8gc2VydmVyIik7CiAgICAgICAgICAgIH0K");
    sb.append("ICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIHhodHRwLm9wZW4oIlBVVCIsIHVybCwgdHJ1ZSk7");
    sb.append("CiAgICAgICAgeGh0dHAud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTsKICAgICAgICB4aHR0cC5zZW5kKEpT");
    sb.append("T04uc3RyaW5naWZ5KHJlcSkpOwogICAgICB9OwoKICAgICAgaWYgKHB3cyAhPT0gbnVsbCkgewogICAg");
    sb.append("ICAgIGNvbm5lY3Rpb24uRG9jdW1lbnRzSGFzaFBhc3N3b3JkKHB3c1sxXSwgewogICAgICAgICAgc3Vj");
    sb.append("Y2VzczogZnVuY3Rpb24gKGhhc2hlZF9wdykgewogICAgICAgICAgICByZXFbcHdzWzBdXSA9IGhhc2hl");
    sb.append("ZF9wdy5wYXNzd29yZEhhc2g7CiAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgIH0sCiAgICAgICAg");
    sb.append("ICBmYWlsZWQ6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgZmlyZV9mYWlsdXJlKGZvcm0sICJGYWls");
    sb.append("ZWQgdG8gaGFzaCBwYXNzd29yZCIpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9IGVsc2Ug");
    sb.append("ewogICAgICAgIG5leHQoKTsKICAgICAgfQogICAgfTsKICB9CgogIC8vIFJVTlRJTUUgfCByeDphY3Rp");
    sb.append("b249ZG9tYWluOnB1dAogIHNlbGYuYWREUFVUID0gZnVuY3Rpb24gKGZvcm0sIHN0YXRlLCBpZGVudGl0");
    sb.append("eU5hbWUsIHJ4b2JqKSB7CiAgICBjb21tb25QdXQoZm9ybSwgc3RhdGUsIGlkZW50aXR5TmFtZSwgcnhv");
    sb.append("YmosIGZ1bmN0aW9uIChyeG9iaikgeyByZXR1cm4gbG9jYXRpb24ucHJvdG9jb2wgKyAiLy8iICsgbG9j");
    sb.append("YXRpb24uaG9zdCArICIvIiArIHJ4b2JqLnBhdGg7IH0pCiAgfTsKCiAgLy8gUlVOVElNRSB8IHJ4OmFj");
    sb.append("dGlvbj1kb2N1bWVudDpwdXQKICBzZWxmLmFEUFVUID0gZnVuY3Rpb24gKGZvcm0sIHN0YXRlLCBpZGVu");
    sb.append("dGl0eU5hbWUsIHJ4b2JqKSB7CiAgICBjb21tb25QdXQoZm9ybSwgc3RhdGUsIGlkZW50aXR5TmFtZSwg");
    sb.append("cnhvYmosIGZ1bmN0aW9uIChyeG9iaikgeyByZXR1cm4gImh0dHBzOi8vIiArIGNvbm5lY3Rpb24uaG9z");
    sb.append("dCArICIvIiArIHJ4b2JqLnNwYWNlICsgIi8iICsgcnhvYmoua2V5ICsgIi8iICsgcnhvYmoucGF0aDsg");
    sb.append("fSkKICB9OwoKICAvLyBSVU5USU1FIHwgcng6YWN0aW9uPWFkYW1hOnNpZ24taW4KICBzZWxmLmFTTyA9");
    sb.append("IGZ1bmN0aW9uIChmb3JtLCBzdGF0ZSwgaWRlbnRpdHlOYW1lLCByeG9iaikgewogICAgcnhvYmouX18g");
    sb.append("PSBmdW5jdGlvbiAoKSB7IH07CiAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAg");
    sb.append("IHJlY2FsbF9lbWFpbChmb3JtKTsKICAgIH0sIDEpOwogICAgLy8gVE9ETzogcHVsbCBlbWFpbCBvdXQg");
    sb.append("b2YgdGhpbiBhaXIKICAgIGZvcm0ub25zdWJtaXQgPSBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgIGV2dC5w");
    sb.append("cmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgcmVxID0gZ2V0X2Zvcm0oZm9ybSwgdHJ1ZSk7CiAgICAg");
    sb.append("IGlmIChyZXEucmVtZW1iZXIpIHsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiZW1haWxfcmVt");
    sb.append("ZW1iZXIiLCByZXEuZW1haWwpOwogICAgICB9IGVsc2UgewogICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJ");
    sb.append("dGVtKCJlbWFpbF9yZW1lbWJlciIsICIiKTsKICAgICAgfQogICAgICBjb25uZWN0aW9uLkFjY291bnRM");
    sb.append("b2dpbihyZXEuZW1haWwsIHJlcS5wYXNzd29yZCwgewogICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChw");
    sb.append("YXlsb2FkKSB7CiAgICAgICAgICBpZGVudGl0aWVzW2lkZW50aXR5TmFtZV0gPSBwYXlsb2FkLmlkZW50");
    sb.append("aXR5OwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImlkZW50aXR5XyIgKyBpZGVudGl0eU5h");
    sb.append("bWUsIHBheWxvYWQuaWRlbnRpdHkpOwogICAgICAgICAgc2VsZi5nb3RvKHJ4b2JqLnJ4X2ZvcndhcmQp");
    sb.append("OwogICAgICAgICAgZmlyZV9zdWNjZXNzKGZvcm0pOwogICAgICAgIH0sCiAgICAgICAgZmFpbHVyZTog");
    sb.append("ZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgZmlyZV9mYWlsdXJlKGZvcm0sICJBY2NvdW50TG9n");
    sb.append("aW4gRmFpbGVkOiIgKyByZWFzb24pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9OwogIH07CgogIC8v");
    sb.append("IFJVTlRJTUUgfCByeDphY3Rpb249YWRhbWE6c2lnbi11cAogIHNlbGYuYVNVID0gZnVuY3Rpb24gKGZv");
    sb.append("cm0sIHN0YXRlLCBmb3J3YXJkVG8pIHsKICAgIGZvcm0ub25zdWJtaXQgPSBmdW5jdGlvbiAoZXZ0KSB7");
    sb.append("CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgcmVxID0gZ2V0X2Zvcm0oZm9ybSk7");
    sb.append("CiAgICAgIGNvbm5lY3Rpb24uSW5pdFNldHVwQWNjb3VudChyZXEuZW1haWwsIHsKICAgICAgICBzdWNj");
    sb.append("ZXNzOiBmdW5jdGlvbiAoLyogcGF5bG9hZCAqLykgewogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0");
    sb.append("ZW0oImVtYWlsIiwgcmVxLmVtYWlsKTsKICAgICAgICAgIHNlbGYuZ290byhmb3J3YXJkVG8pOwogICAg");
    sb.append("ICAgICAgZmlyZV9zdWNjZXNzKGZvcm0pOwogICAgICAgIH0sCiAgICAgICAgZmFpbHVyZTogZnVuY3Rp");
    sb.append("b24gKHJlYXNvbikgewogICAgICAgICAgZmlyZV9mYWlsdXJlKGZvcm0sICJJbml0U2V0dXBBY2NvdW50");
    sb.append("IEZhaWxlZDoiICsgcmVhc29uKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfTsKICB9OwoKICAvLyBS");
    sb.append("VU5USU1FIHwgcng6YWN0aW9uPWFkYW1hOnNldC1wYXNzd29yZAogIHNlbGYuYVNQID0gZnVuY3Rpb24g");
    sb.append("KGZvcm0sIHN0YXRlLCBmb3J3YXJkVG8pIHsKICAgIGZvcm0ub25zdWJtaXQgPSBmdW5jdGlvbiAoZXZ0");
    sb.append("KSB7CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgcmVxID0gZ2V0X2Zvcm0oZm9y");
    sb.append("bSwgdHJ1ZSk7CiAgICAgIGlmICghKCJlbWFpbCIgaW4gcmVxKSkgewogICAgICAgIHJlcS5lbWFpbCA9");
    sb.append("IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJlbWFpbCIpOwogICAgICB9CiAgICAgIGNvbm5lY3Rpb24uSW5p");
    sb.append("dENvbXBsZXRlQWNjb3VudChyZXEuZW1haWwsIGZhbHNlLCByZXEuY29kZSwgewogICAgICAgIHN1Y2Nl");
    sb.append("c3M6IGZ1bmN0aW9uIChpbml0KSB7CiAgICAgICAgICB2YXIgaWRlbnRpdHkgPSBpbml0LmlkZW50aXR5");
    sb.append("OwogICAgICAgICAgY29ubmVjdGlvbi5BY2NvdW50U2V0UGFzc3dvcmQoaW5pdC5pZGVudGl0eSwgcmVx");
    sb.append("LnBhc3N3b3JkLCB7CiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAg");
    sb.append("ICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiaWRlbnRpdHlfZGVmYXVsdCIsIGlkZW50aXR5KTsKICAgICAg");
    sb.append("ICAgICAgICBzZWxmLmdvdG8oZm9yd2FyZFRvKTsKICAgICAgICAgICAgICBmaXJlX3N1Y2Nlc3MoZm9y");
    sb.append("bSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIGZhaWx1cmU6IGZ1bmN0aW9uIChyZWFzb24pIHsK");
    sb.append("ICAgICAgICAgICAgICBmaXJlX2ZhaWx1cmUoZm9ybSwgIkZhaWxlZCBBY2NvdW50U2V0UGFzc3dvcmQ6");
    sb.append("IiArIHJlYXNvbik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAg");
    sb.append("ZmFpbHVyZTogZnVuY3Rpb24gKHJlYXNvbikgewogICAgICAgICAgZmlyZV9mYWlsdXJlKGZvcm0sICJG");
    sb.append("YWlsZWQgSW5pdENvbXBsZXRlQWNjb3VudDoiICsgcmVhc29uKTsKICAgICAgICB9CiAgICAgIH0pOwog");
    sb.append("ICAgfTsKICB9OwoKCiAgdmFyIGh5ZHJhdGVfZm9ybSA9IGZ1bmN0aW9uKGVsLCBpbnB1dCkgewogICAg");
    sb.append("dmFyIHRhZyA9IGVsLnRhZ05hbWUudG9VcHBlckNhc2UoKTsKICAgIHZhciBpc1NldHRhYmxlID0gdGFn");
    sb.append("ID09ICJTRUxFQ1QiIHx8IHRhZyA9PSAiSU5QVVQiIHx8IHRhZyA9PSAiSElEREVOIjsKICAgIGlmICgn");
    sb.append("bmFtZScgaW4gZWwgJiYgaXNTZXR0YWJsZSkgewogICAgICB2YXIgbmFtZSA9IGVsLm5hbWU7CiAgICAg");
    sb.append("IHZhciBwYXlsb2FkID0gaW5wdXQ7CiAgICAgIHZhciBrRG90T3JTbGFzaCA9IGZpcnN0T2NjdXIobmFt");
    sb.append("ZS5pbmRleE9mKCcuJyksIG5hbWUuaW5kZXhPZignLycpKTsKICAgICAgd2hpbGUgKGtEb3RPclNsYXNo");
    sb.append("ID4gMCkgewogICAgICAgIHZhciBpdGVtID0gbmFtZS5zdWJzdHJpbmcoMCwga0RvdE9yU2xhc2gpOwog");
    sb.append("ICAgICAgIG5hbWUgPSBuYW1lLnN1YnN0cmluZyhrRG90T3JTbGFzaCArIDEpOwogICAgICAgIGlmIChp");
    sb.append("dGVtIGluIHBheWxvYWQpIHsKICAgICAgICAgIHBheWxvYWQgPSBwYXlsb2FkW2l0ZW1dOwogICAgICAg");
    sb.append("IH0gZWxzZSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGtEb3RPclNsYXNoID0g");
    sb.append("Zmlyc3RPY2N1cihuYW1lLmluZGV4T2YoJy4nKSwgbmFtZS5pbmRleE9mKCcvJykpOwogICAgICB9CiAg");
    sb.append("ICAgIGlmIChuYW1lIGluIHBheWxvYWQpIHsKICAgICAgICB2YXIgdHlwZSA9IGVsLnR5cGUudG9VcHBl");
    sb.append("ckNhc2UoKTsKICAgICAgICBpZiAodHlwZSA9PSAiQ0hFQ0tCT1giKSB7CiAgICAgICAgICBlbC5jaGVj");
    sb.append("a2VkID0gcGF5bG9hZFtuYW1lXSA9PSAidHJ1ZSIgfHwgcGF5bG9hZFtuYW1lXSA9PT0gdHJ1ZSA/IHRy");
    sb.append("dWUgOiBmYWxzZTsKICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gIlJBRElPIikgewogICAgICAgICAg");
    sb.append("aWYgKHBheWxvYWRbbmFtZV0gPT0gZWwudmFsdWUpIHsKICAgICAgICAgICAgZWwuY2hlY2tlZCA9IHRy");
    sb.append("dWU7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGVsLnZhbHVlID0gcGF5bG9h");
    sb.append("ZFtuYW1lXTsKICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIGlmICgiY2hpbGRyZW4iIGluIGVsKSB7");
    sb.append("CiAgICAgIHZhciBhcnIgPSBlbC5jaGlsZHJlbjsKICAgICAgdmFyIG4gPSBhcnIubGVuZ3RoOwogICAg");
    sb.append("ICBmb3IgKHZhciBrID0gMDsgayA8IG47IGsrKykgewogICAgICAgIHZhciBjaCA9IGVsLmNoaWxkcmVu");
    sb.append("W2tdOwogICAgICAgIGh5ZHJhdGVfZm9ybShjaCwgaW5wdXQpOwogICAgICB9CiAgICB9CiAgfQoKCiAg");
    sb.append("Ly8gUlVOVElNRSB8IHJ4OmFjdGlvbjpjb3B5LWZvcm06JHRhcmdldC1pZAogIHNlbGYuYUNGID0gZnVu");
    sb.append("Y3Rpb24oZm9ybSwgdGFyZ2V0Rm9ybUlkKSB7CiAgICBmb3JtLm9uc3VibWl0ID0gZnVuY3Rpb24oZXZ0");
    sb.append("KSB7CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB2YXIgaW5wdXQgPSBnZXRfZm9ybShm");
    sb.append("b3JtLCBmYWxzZSk7CiAgICAgIHZhciB0YXJnZXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0YXJn");
    sb.append("ZXRGb3JtSWQpOwogICAgICBpZiAodGFyZ2V0KSB7CiAgICAgICAgaHlkcmF0ZV9mb3JtKHRhcmdldCwg");
    sb.append("aW5wdXQpOwogICAgICAgIGZpcmVfc3VjY2Vzcyhmb3JtKQogICAgICB9IGVsc2UgewogICAgICAgIGZp");
    sb.append("cmVfZmFpbHVyZShmb3JtLCAiZmFpbGVkIHRvIGZpbmQgZm9ybSBieSBpZCAnIiArIHRhcmdldEZvcm1J");
    sb.append("ZCArICInIik7CiAgICAgIH0KICAgIH07CiAgfTsKCiAgLy8gUlVOVElNRSB8IHJ4OmFjdGlvbj1zZW5k");
    sb.append("OiRjaGFubmVsCiAgc2VsZi5hU0QgPSBmdW5jdGlvbiAoZm9ybSwgc3RhdGUsIGNoYW5uZWwpIHsKICAg");
    sb.append("IGZvcm0ub25zdWJtaXQgPSBmdW5jdGlvbiAoZXZ0KSB7CiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgp");
    sb.append("OwogICAgICB2YXIgbXNnID0gZ2V0X2Zvcm0oZm9ybSwgZmFsc2UpOwogICAgICAvLyBUT0RPOiBwYXNz");
    sb.append("IHRocm91Z2ggdGhlIGRlYnVnZ2VyCiAgICAgIHN0YXRlLmRhdGEuY29ubmVjdGlvbi5wdHIuc2VuZChj");
    sb.append("aGFubmVsLCBtc2csIHsKICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoLyogcGF5bG9hZCAqLykgewog");
    sb.append("ICAgICAgICAgZmlyZV9zdWNjZXNzKGZvcm0pOwogICAgICAgIH0sCiAgICAgICAgZmFpbHVyZTogZnVu");
    sb.append("Y3Rpb24gKHJlYXNvbikgewogICAgICAgICAgZmlyZV9mYWlsdXJlKGZvcm0sICJTZW5kIGZhaWxlZDoi");
    sb.append("ICsgcmVhc29uKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfTsKICB9OwogIC8vIDx0b2RvdGFzaz5k");
    sb.append("ZXNjcmlwdGlvbjwvdG9kb3Rhc2s+CiAgc2VsZi5UQVNLID0gZnVuY3Rpb24ocGRvbSwgaWQsIHNlY3Rp");
    sb.append("b24sIGRlc2NyaXB0aW9uKSB7CiAgICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQo");
    sb.append("ImRpdiIpOwogICAgZWxlbWVudC5pbm5lckhUTUwgPSAiJiM5NzQ0OyAiICsgZGVzY3JpcHRpb24gKyAi");
    sb.append("ICggIiArIHNlY3Rpb24gKyAiKSA8YnIgLz4iOwogICAgcGRvbS5hcHBlbmRDaGlsZChlbGVtZW50KTsK");
    sb.append("ICB9OwogIC8vIFJVTlRJTUU6IHByZS1jb21wcmVzc2lvbiBmb3Igc2V0dGluZyBhbiBhdHRyaWJ1dGUK");
    sb.append("ICAvLyAiZC5zZXRBdHRyaWJ1dGUoYSx2KTsiIC0tPgogIC8vICQuU0EoZCxhLHYpOyIKICBzZWxmLlNB");
    sb.append("ID0gZnVuY3Rpb24oZG9tLCBhdHRyLCB2YWx1ZSkgewogICAgZG9tLnNldEF0dHJpYnV0ZShhdHRyLCB2");
    sb.append("YWx1ZSk7CiAgfTsKICAvLyBSVU5USU1FIHwgPC4uLiBocmVmPSIiIC4uLj4KICBzZWxmLkhSRUYgPSBm");
    sb.append("dW5jdGlvbiAoZG9tLCBocmVmKSB7CiAgICBkb20uc2V0QXR0cmlidXRlKCJocmVmIiwgZml4SHJlZiho");
    sb.append("cmVmKSk7CiAgICBkb20ub25jbGljayA9IGZ1bmN0aW9uIChldnQpIHsKICAgICAgdmFyIHBhcnRzID0g");
    sb.append("KGhyZWYuc3RhcnRzV2l0aCgiLyIpID8gaHJlZi5zdWJzdHJpbmcoMSkgOiBocmVmKS5zcGxpdCgiLyIp");
    sb.append("OwogICAgICBpZiAocm91dGUocGFydHMsIDAsIHJvdXRlciwge30pKSB7CiAgICAgICAgZXZ0LnByZXZl");
    sb.append("bnREZWZhdWx0KCk7CiAgICAgICAgc2VsZi5ydW4oZG9jdW1lbnQuYm9keSwgaHJlZiwgdHJ1ZSk7CiAg");
    sb.append("ICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIHJldHVybiB0cnVlOwogICAgfTsKICB9Owog");
    sb.append("IC8vIFJVTlRJTUUgfCA8Li4uIGNsYXNzPSIiIC4uLj4KICBzZWxmLkFDTEFTUyA9IGZ1bmN0aW9uIChk");
    sb.append("b20sIHZhbHVlKSB7CiAgICBkb20uc2V0QXR0cmlidXRlKCJjbGFzcyIsIHZhbHVlKTsKICB9OwogIC8v");
    sb.append("IFJVTlRJTUUgfCA8Li4uIHNyYz0iIiAuLi4+CiAgc2VsZi5BU1JDID0gZnVuY3Rpb24gKGRvbSwgdmFs");
    sb.append("dWUpIHsKICAgIGRvbS5zZXRBdHRyaWJ1dGUoInNyYyIsIHZhbHVlKTsKICB9OwogIHdpbmRvdy5yeGh0");
    sb.append("bWwgPSBzZWxmOwogIHJldHVybiBzZWxmOwp9KSgpOw==");
    return sb.toString();
  }
  public static final String CONNECTION = new String(Base64.getDecoder().decode(make_connection()), StandardCharsets.UTF_8);
  private static String make_connection() {
    StringBuilder sb = new StringBuilder();
    sb.append("LyoKICogVGhpcyBmaWxlIGlzIHN1YmplY3QgdG8gdGhlIHRlcm1zIGFuZCBjb25kaXRpb25zIG91dGxp");
    sb.append("bmVkIGluIHRoZQogKiBmaWxlICdMSUNFTlNFJyAoaXQncyBkdWFsIGxpY2Vuc2VkKSBsb2NhdGVkIGlu");
    sb.append("IHRoZSByb290IGRpcmVjdG9yeQogKiBuZWFyIHRoZSBSRUFETUUubWQgd2hpY2ggeW91IHNob3VsZCBh");
    sb.append("bHNvIHJlYWQuIEZvciBtb3JlIGluZm9ybWF0aW9uCiAqIGFib3V0IHRoZSBwcm9qZWN0IHdoaWNoIG93");
    sb.append("bnMgdGhpcyBmaWxlLCBzZWUgaHR0cHM6Ly93d3cuYWRhbWEtcGxhdGZvcm0uY29tLyAuCiAqCiAqIChj");
    sb.append("KSAyMDIxIC0gMjAyMyBieSBBZGFtYSBQbGF0Zm9ybSBJbml0aWF0aXZlLCBMTEMKICovCi8qKiBUaGUg");
    sb.append("V2ViU29ja2V0IGNvbm5lY3Rpb24gdG8gQWRhbWEgKi8KY2xhc3MgV2ViU29ja2V0QWRhbWFDb25uZWN0");
    sb.append("aW9uIHsKICBjb25zdHJ1Y3Rvcihob3N0KSB7CiAgICAvLyBvbiBmYWlsdXJlLCB3ZSBiYWNrLW9mZiB3");
    sb.append("aXRoIHRoaXMgbWlsbGlzZWNvbmRzCiAgICB0aGlzLmJhY2tvZmYgPSAxOwogICAgLy8gdGhlIGhvc3Qg");
    sb.append("d2UgYXJlIGNvbm5lY3RpbmcgdG8KICAgIHRoaXMuaG9zdCA9IGhvc3Q7CiAgICAvLyBmb3JtIHRoZSBV");
    sb.append("Ukwgb2YgdGhlIGhvc3QKICAgIHRoaXMudXJsID0gIndzczovLyIgKyBob3N0ICsgIi9+cyI7CiAgICAv");
    sb.append("LyBpcyB0aGUgY29ubmVjdGlvbiBjb25uZWN0ZWQKICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7CiAg");
    sb.append("ICAvLyBUT0RPCiAgICB0aGlzLmFzc2V0cyA9IHRydWU7CiAgICAvLyBpcyB0aGUgY29ubmVjdGlvbiBk");
    sb.append("ZWFkCiAgICB0aGlzLmRlYWQgPSBmYWxzZTsKICAgIC8vIHRoZSBtYXhpbXVtIHBlcmlvZCBvZiB0aW1l");
    sb.append("IGJldHdlZW4gd2FpdGluZyBmb3IgYSByZXRyeQogICAgdGhpcy5tYXhpbXVtX2JhY2tvZmYgPSA1MDAw");
    sb.append("OwogICAgLy8gd2hlbiB0aGUgY29ubmVjdGlvbiB0aW1lcyBvdXQgZnJvbSB0aGUgc2VydmVyLCBob3cg");
    sb.append("bG9uZyB0byB3YWl0IHVudGlsIHdlIHJlY29ubmVjdAogICAgdGhpcy5yZXNldF9iYWNrb2ZmID0gMTAw");
    sb.append("MDsKICAgIC8vIHRoZSBhY3R1YWwgd2Vic29ja2V0CiAgICB0aGlzLnNvY2tldCA9IG51bGw7CiAgICAv");
    sb.append("LyB3aGF0IGhhcHBlbnMgd2hlbiB0aGUgc3RhdHVzIGNoYW5nZXMKICAgIHRoaXMub25zdGF0dXNjaGFu");
    sb.append("Z2UgPSBmdW5jdGlvbiAoc3RhdHVzKSB7IH07CiAgICAvLyB3aGF0IGhhcHBlbnMgd2hlbiB3ZSBsZWFy");
    sb.append("biB0aGUgbGF0ZW5jeQogICAgdGhpcy5vbnBpbmcgPSBmdW5jdGlvbiAoc2Vjb25kcywgbGF0ZW5jeSkg");
    sb.append("eyB9OwogICAgLy8gaXMgYSByZXRyeSBzY2hlZHVsZWQKICAgIHRoaXMuc2NoZWR1bGVkID0gZmFsc2U7");
    sb.append("CiAgICAvLyBjYWxsYmFjayBtYXBwaW5nCiAgICB0aGlzLmNhbGxiYWNrcyA9IG5ldyBNYXAoKTsKICAg");
    sb.append("IC8vIGlkIGdlbmVyYXRpb24KICAgIHRoaXMubmV4dElkID0gMDsKICAgIC8vIGV2ZW50cyB0byBleGVj");
    sb.append("dXRlIG9uIHJlY29ubmVjdAogICAgdGhpcy5vbnJlY29ubmVjdCA9IG5ldyBNYXAoKTsKICB9CgogIC8q");
    sb.append("KiBzdG9wIHRoZSBjb25uZWN0aW9uICovCiAgc3RvcCgpIHsKICAgIHRoaXMuZGVhZCA9IHRydWU7CiAg");
    sb.append("ICBpZiAodGhpcy5zb2NrZXQgIT09IG51bGwpIHsKICAgICAgdGhpcy5zb2NrZXQuY2xvc2UoKTsKICAg");
    sb.append("IH0KICB9CgogIC8qKiBwcml2YXRlOiByZXRyeSB0aGUgY29ubmVjdGlvbiAqLwogIF9yZXRyeSgpIHsK");
    sb.append("ICAgIC8vIG51bGwgb3V0IHRoZSBzb2NrZXQKICAgIHRoaXMuc29ja2V0ID0gbnVsbDsKICAgIC8vIGlm");
    sb.append("IHdlIGFyZSBjb25uZWN0ZWQsIHRyYW5zaXRpb24gdGhlIHN0YXR1cwogICAgaWYgKHRoaXMuY29ubmVj");
    sb.append("dGVkKSB7CiAgICAgIHRoaXMuY29ubmVjdGVkID0gZmFsc2U7CiAgICAgIHRoaXMub25zdGF0dXNjaGFu");
    sb.append("Z2UoZmFsc2UpOwogICAgfQogICAgdGhpcy5jYWxsYmFja3MuY2xlYXIoKTsKICAgIC8vIGlmIHdlIGFy");
    sb.append("ZSBkZWFkLCB0aGVuIGRvbid0IGFjdHVhbGx5IHJldHJ5CiAgICBpZiAodGhpcy5kZWFkKSB7CiAgICAg");
    sb.append("IHJldHVybjsKICAgIH0KICAgIC8vIG1ha2Ugc3VyZQogICAgaWYgKCF0aGlzLnNjaGVkdWxlZCkgewog");
    sb.append("ICAgICAvLyBzY2hlZHVsZSBhIHJldHJ5OyBmaXJzdCBjb21wdXRlIGhvdyBsb25nIHRvIHRha2UKICAg");
    sb.append("ICAgLy8gY29tcHV0ZSBob3cgbG9uZyB3ZSBuZWVkIHRvIHdhaXQKICAgICAgdmFyIGhhbHZlQWZ0ZXJT");
    sb.append("Y2hlZHVsZSA9IGZhbHNlOwogICAgICB0aGlzLmJhY2tvZmYgKz0gTWF0aC5yYW5kb20oKSAqIHRoaXMu");
    sb.append("YmFja29mZjsKICAgICAgaWYgKHRoaXMuYmFja29mZiA+IHRoaXMubWF4aW11bV9iYWNrb2ZmKSB7CiAg");
    sb.append("ICAgICAgdGhpcy5iYWNrb2ZmID0gdGhpcy5tYXhpbXVtX2JhY2tvZmY7CiAgICAgICAgaGFsdmVBZnRl");
    sb.append("clNjaGVkdWxlID0gdHJ1ZTsKICAgICAgfQoKICAgICAgLy8gc2NoZWR1bGUgaXQKICAgICAgdGhpcy5z");
    sb.append("Y2hlZHVsZWQgPSB0cnVlOwogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHNldFRpbWVvdXQoZnVu");
    sb.append("Y3Rpb24gKCkgewogICAgICAgIHNlbGYuc3RhcnQoKTsKICAgICAgfSwgdGhpcy5iYWNrb2ZmKTsKCiAg");
    sb.append("ICAgIC8vIHdlIGp1c3Qgc2NoZWR1bGVkIGl0IGZvciB0aGUgbWF4aW11bSBiYWNrb2ZmIHRpbWUsIGxl");
    sb.append("dCdzIHJlZHVjZSB0aGUgYmFja29mZiBzbyB0aGUgbmV4dCBvbmUgd2lsbCBoYXZlIHNvbWUgaml0dGVy");
    sb.append("CiAgICAgIGlmIChoYWx2ZUFmdGVyU2NoZWR1bGUpIHsKICAgICAgICB0aGlzLmJhY2tvZmYgLz0gMi4w");
    sb.append("OwogICAgICB9CiAgICB9CiAgfQoKICAvKiogc3RhcnQgdGhlIGNvbm5lY3Rpb24gKi8KICBzdGFydCgp");
    sb.append("IHsKICAgIC8vIHJlc2V0IHRoZSBzdGF0ZQogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdGhpcy5zY2hl");
    sb.append("ZHVsZWQgPSBmYWxzZTsKICAgIHRoaXMuZGVhZCA9IGZhbHNlOwogICAgLy8gY3JlYXRlIHRoZSBzb2Nr");
    sb.append("ZXQgYW5kIGJpbmQgZXZlbnQgaGFuZGxlcnMKICAgIHRoaXMuc29ja2V0ID0gbmV3IFdlYlNvY2tldCh0");
    sb.append("aGlzLnVybCk7CiAgICB0aGlzLnNvY2tldC5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZXZlbnQpIHsKICAg");
    sb.append("ICAgdmFyIHJlc3VsdCA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7CiAgICAgIC8vIGEgbWVzc2FnZSBh");
    sb.append("cnJpdmVkLCBpcyBpdCBhIGNvbm5lY3Rpb24gc2lnbmFsCiAgICAgIGlmICgicGluZyIgaW4gcmVzdWx0");
    sb.append("KSB7CiAgICAgICAgc2VsZi5vbnBpbmcocmVzdWx0LnBpbmcsIHJlc3VsdC5sYXRlbmN5KTsKICAgICAg");
    sb.append("ICByZXN1bHQucG9uZyA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMC4wOwogICAgICAgIHNlbGYu");
    sb.append("c29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkocmVzdWx0KSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9");
    sb.append("CiAgICAgIGlmICgic3RhdHVzIiBpbiByZXN1bHQpIHsKICAgICAgICAvLyBoZXksIGFyZSB3ZSBjb25u");
    sb.append("ZWN0ZWQ/CiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgIT0gImNvbm5lY3RlZCIpIHsKICAgICAgICAg");
    sb.append("IC8vIG5vcGUsIE9LLCBsZXQncyBtYWtlIHRoaXMgYSBkZWFkIHNvY2tldAogICAgICAgICAgc2VsZi5z");
    sb.append("b2NrZXQuY2xvc2UoKTsKICAgICAgICAgIHNlbGYuc29ja2V0ID0gbnVsbDsKICAgICAgICAgIHNlbGYu");
    sb.append("YmFja29mZiA9IHNlbGYucmVzZXRfYmFja29mZjsKICAgICAgICAgIHNlbGYuX3JldHJ5KCk7CiAgICAg");
    sb.append("ICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIC8vIHRlbGwgdGhlIGNsaWVudCB0aGF0IHdlIGFy");
    sb.append("ZSBnb29kIQogICAgICAgIHNlbGYuYmFja29mZiA9IDE7CiAgICAgICAgc2VsZi5jb25uZWN0ZWQgPSB0");
    sb.append("cnVlOwogICAgICAgIHNlbGYuYXNzZXRzID0gcmVzdWx0LmFzc2V0czsKICAgICAgICBzZWxmLm9uc3Rh");
    sb.append("dHVzY2hhbmdlKHRydWUpOwogICAgICAgIHNlbGYuX3JlY29ubmVjdCgpOwogICAgICAgIHNlbGYuQ29u");
    sb.append("ZmlndXJlTWFrZU9yR2V0QXNzZXRLZXkoewogICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHBheWxv");
    sb.append("YWQpIHsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICB2YXIgeGh0dHAgPSBuZXcgWE1MSHR0");
    sb.append("cFJlcXVlc3QoKTsKICAgICAgICAgICAgICB4aHR0cC5vcGVuKCJHRVQiLCAiaHR0cHM6Ly8iICsgc2Vs");
    sb.append("Zi5ob3N0ICsgIi9+cCIgKyBwYXlsb2FkLmFzc2V0S2V5LCB0cnVlKTsKICAgICAgICAgICAgICB4aHR0");
    sb.append("cC53aXRoQ3JlZGVudGlhbHMgPSB0cnVlOwogICAgICAgICAgICAgIHhodHRwLnNlbmQoKTsKICAgICAg");
    sb.append("ICAgICAgfSBjYXRjaCAoZXgpIHsKICAgICAgICAgICAgICBjb25zb2xlLmxvZyhleCk7CiAgICAgICAg");
    sb.append("ICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICBmYWlsdXJlOiBmdW5jdGlvbiAoKSB7CiAgICAgICAg");
    sb.append("ICB9CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIC8vIHRoZSByZXN1bHQg");
    sb.append("d2FzIGEgZmFpbHVyZS4uLgogICAgICBpZiAoImZhaWx1cmUiIGluIHJlc3VsdCkgewogICAgICAgIC8v");
    sb.append("IGZpbmQgdGhlIGNhbGxiYWNrLCB0aGVuIGludm9rZSBpdCAoYW5kIGNsZWFuIHVwKQogICAgICAgIGlm");
    sb.append("IChzZWxmLmNhbGxiYWNrcy5oYXMocmVzdWx0LmZhaWx1cmUpKSB7CiAgICAgICAgICB2YXIgY2IgPSBz");
    sb.append("ZWxmLmNhbGxiYWNrcy5nZXQocmVzdWx0LmZhaWx1cmUpOwogICAgICAgICAgaWYgKGNiKSB7CiAgICAg");
    sb.append("ICAgICAgIHNlbGYuY2FsbGJhY2tzLmRlbGV0ZShyZXN1bHQuZmFpbHVyZSk7CiAgICAgICAgICAgIGNi");
    sb.append("KHJlc3VsdCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKCJkZWxpdmVyIiBp");
    sb.append("biByZXN1bHQpIHsKICAgICAgICAvLyBvdGhlcndpc2UsIHdlIGhhdmUgYSBzdWNjZXNzLCBzbyBsZXQn");
    sb.append("cyBmaW5kIHRoZSBjYWxsYmFjaywgYW5kIGlmIG5lZWQgYmUgY2xlYW4gdXAKICAgICAgICBpZiAoc2Vs");
    sb.append("Zi5jYWxsYmFja3MuaGFzKHJlc3VsdC5kZWxpdmVyKSkgewogICAgICAgICAgdmFyIGNiID0gc2VsZi5j");
    sb.append("YWxsYmFja3MuZ2V0KHJlc3VsdC5kZWxpdmVyKTsKICAgICAgICAgIGlmIChjYikgewogICAgICAgICAg");
    sb.append("ICBpZiAocmVzdWx0LmRvbmUpIHsKICAgICAgICAgICAgICBzZWxmLmNhbGxiYWNrcy5kZWxldGUocmVz");
    sb.append("dWx0LmRlbGl2ZXIpOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNiKHJlc3VsdCk7CiAgICAgICAg");
    sb.append("ICB9CiAgICAgICAgfQogICAgICB9CiAgICB9OwogICAgdGhpcy5zb2NrZXQub25jbG9zZSA9IGZ1bmN0");
    sb.append("aW9uIChldmVudCkgewogICAgICAvLyBsZXQncyByZXRyeS4uLiBvciBzaG91bGQgd2Ugbm90CiAgICAg");
    sb.append("IHNlbGYuX3JldHJ5KCk7CiAgICB9OwogICAgdGhpcy5zb2NrZXQub25lcnJvciA9IGZ1bmN0aW9uIChl");
    sb.append("dmVudCkgewogICAgICAvLyBzb21ldGhpbmcgYmFkIGhhcHBlbmVkLCBsZXQncyByZXRyeQogICAgICBz");
    sb.append("ZWxmLl9yZXRyeSgpOwogICAgfTsKICB9CgogIC8qKiBwcml2YXRlOiBzZW5kIGEgcmF3IG1lc3NhZ2Ug");
    sb.append("Ki8KICBfd3JpdGUocmVxdWVzdCwgY2FsbGJhY2spIHsKICAgIGlmICghdGhpcy5jb25uZWN0ZWQpIHsK");
    sb.append("ICAgICAgY2FsbGJhY2soeyBmYWlsdXJlOiA2MDAsIHJlYXNvbjogOTk5IH0pOwogICAgICByZXR1cm47");
    sb.append("CiAgICB9CiAgICB0aGlzLmNhbGxiYWNrcy5zZXQocmVxdWVzdC5pZCwgY2FsbGJhY2spOwogICAgdGhp");
    sb.append("cy5zb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeShyZXF1ZXN0KSk7CiAgfQoKICAvKiogYXBpOiB3YWl0");
    sb.append("IGZvciBhIGNvbm5lY3Rpb24gKi8KICBhc3luYyB3YWl0X2Nvbm5lY3RlZCgpIHsKICAgIGlmICh0aGlz");
    sb.append("LmNvbm5lY3RlZCkgewogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGdvb2QpIHsKICAg");
    sb.append("ICAgICBnb29kKHRydWUpOwogICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIHZhciBzZWxmID0gdGhp");
    sb.append("czsKICAgICAgdmFyIHByaW9yID0gdGhpcy5vbnN0YXR1c2NoYW5nZTsKICAgICAgcmV0dXJuIG5ldyBQ");
    sb.append("cm9taXNlKGZ1bmN0aW9uIChnb29kKSB7CiAgICAgICAgc2VsZi5vbnN0YXR1c2NoYW5nZSA9IGZ1bmN0");
    sb.append("aW9uIChzdGF0dXMpIHsKICAgICAgICAgIHByaW9yKHN0YXR1cyk7CiAgICAgICAgICBpZiAoc3RhdHVz");
    sb.append("KSB7CiAgICAgICAgICAgIGdvb2QodHJ1ZSk7CiAgICAgICAgICAgIHNlbGYub25zdGF0dXNjaGFuZ2Ug");
    sb.append("PSBwcmlvcjsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICB9KTsKICAgIH0KICB9CgogIF9yZWNv");
    sb.append("bm5lY3QoKSB7CiAgICB0aGlzLm9ucmVjb25uZWN0LmZvckVhY2goZnVuY3Rpb24gKHNtLCBpZCkgewog");
    sb.append("ICAgICBzbS5fX3JldHJ5KCk7CiAgICB9KTsKICB9CgogIC8qKiBleGVjdXRlIGEgcmVxdWVzZSByZXNw");
    sb.append("b25zZSB3aXRoIHRoZSBnaXZlbiBzdGF0ZSBtYWNoaW5lICovCiAgX19leGVjdXRlX3JyKHNtKSB7CiAg");
    sb.append("ICB2YXIgc2VsZiA9IHRoaXM7CiAgICBzbS5maXJzdCA9IHRydWU7CiAgICBzZWxmLl93cml0ZShzbS5y");
    sb.append("ZXF1ZXN0LCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgaWYgKHNtLmZpcnN0KSB7CiAgICAgICAg");
    sb.append("c20uZmlyc3QgPSBmYWxzZTsKICAgICAgICBpZiAoImZhaWx1cmUiIGluIHJlc3BvbnNlKSB7CiAgICAg");
    sb.append("ICAgICBpZiAoJ2ZhaWx1cmUnIGluIHNtLnJlc3BvbmRlcikgewogICAgICAgICAgICBzbS5yZXNwb25k");
    sb.append("ZXIuZmFpbHVyZShyZXNwb25zZS5yZWFzb24pOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAg");
    sb.append("ICAgICAgICBpZiAoJ3N1Y2Nlc3MnIGluIHNtLnJlc3BvbmRlcikgewogICAgICAgICAgICBzbS5yZXNw");
    sb.append("b25kZXIuc3VjY2VzcyhyZXNwb25zZS5yZXNwb25zZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAg");
    sb.append("ICB9CiAgICAgIHNlbGYub25yZWNvbm5lY3QuZGVsZXRlKHNtLmlkKTsKICAgIH0pOwogICAgc2VsZi5v");
    sb.append("bnJlY29ubmVjdC5zZXQoc20uaWQsIHNtKTsKICAgIHNtLl9fcmV0cnkgPSBmdW5jdGlvbiAoKSB7CiAg");
    sb.append("ICAgIHNlbGYuX19leGVjdXRlX3JyKHNtKTsKICAgIH07CiAgICByZXR1cm4gc207CiAgfQoKICAvKiog");
    sb.append("ZXhlY3V0ZSBhIHN0cmVhbSByZXF1ZXN0IHdpdGggdGhlIGdpdmVuIHN0YXRlIG1hY2hpbmUgKi8KICBf");
    sb.append("X2V4ZWN1dGVfc3RyZWFtKHNtKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICBzZWxmLl93cml0ZShz");
    sb.append("bS5yZXF1ZXN0LCBmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgaWYgKCJmYWlsdXJlIiBpbiByZXNw");
    sb.append("b25zZSkgewogICAgICAgIGlmICgnZmFpbHVyZScgaW4gc20ucmVzcG9uZGVyKSB7CiAgICAgICAgICBz");
    sb.append("bS5yZXNwb25kZXIuZmFpbHVyZShyZXNwb25zZS5yZWFzb24pOwogICAgICAgIH0KICAgICAgICBzZWxm");
    sb.append("Lm9ucmVjb25uZWN0LmRlbGV0ZShzbS5pZCk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIGlm");
    sb.append("IChyZXNwb25zZS5yZXNwb25zZSkgewogICAgICAgIGlmICgnbmV4dCcgaW4gc20ucmVzcG9uZGVyKSB7");
    sb.append("CiAgICAgICAgICBzbS5yZXNwb25kZXIubmV4dChyZXNwb25zZS5yZXNwb25zZSk7CiAgICAgICAgfQog");
    sb.append("ICAgICB9CiAgICAgIGlmIChyZXNwb25zZS5kb25lKSB7CiAgICAgICAgaWYgKCdjb21wbGV0ZScgaW4g");
    sb.append("c20ucmVzcG9uZGVyKSB7CiAgICAgICAgICBzbS5yZXNwb25kZXIuY29tcGxldGUoKTsKICAgICAgICB9");
    sb.append("CiAgICAgICAgc2VsZi5vbnJlY29ubmVjdC5kZWxldGUoc20uaWQpOwogICAgICB9CiAgICB9KTsKICAg");
    sb.append("IHNlbGYub25yZWNvbm5lY3Quc2V0KHNtLmlkLCBzbSk7CiAgICBzbS5fX3JldHJ5ID0gZnVuY3Rpb24g");
    sb.append("KCkgewogICAgICBzZWxmLl9fZXhlY3V0ZV9zdHJlYW0oc20pOwogICAgfTsKICAgIHJldHVybiBzbTsK");
    sb.append("ICB9CgogIF9faWQoKSB7CiAgICB0aGlzLm5leHRJZCsrOwogICAgcmV0dXJuIHRoaXMubmV4dElkOwog");
    sb.append("IH0KCiAgLyoqW0JFR0lOLUlOVk9LRV0qKi8KICBJbml0U2V0dXBBY2NvdW50KGVtYWlsLCByZXNwb25k");
    sb.append("ZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAg");
    sb.append("cmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6");
    sb.append("IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJpbml0L3NldHVwLWFjY291bnQiLCAi");
    sb.append("aWQiOnBhcklkLCAiZW1haWwiOiBlbWFpbH0KICAgIH0pOwogIH0KICBJbml0Q29udmVydEdvb2dsZVVz");
    sb.append("ZXIoYWNjZXNzVG9rZW4sIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBh");
    sb.append("cklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDog");
    sb.append("cGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6");
    sb.append("ImluaXQvY29udmVydC1nb29nbGUtdXNlciIsICJpZCI6cGFySWQsICJhY2Nlc3MtdG9rZW4iOiBhY2Nl");
    sb.append("c3NUb2tlbn0KICAgIH0pOwogIH0KICBJbml0Q29tcGxldGVBY2NvdW50KGVtYWlsLCByZXZva2UsIGNv");
    sb.append("ZGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5f");
    sb.append("X2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAg");
    sb.append("IHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImluaXQvY29tcGxl");
    sb.append("dGUtYWNjb3VudCIsICJpZCI6cGFySWQsICJlbWFpbCI6IGVtYWlsLCAicmV2b2tlIjogcmV2b2tlLCAi");
    sb.append("Y29kZSI6IGNvZGV9CiAgICB9KTsKICB9CiAgRGVpbml0KGlkZW50aXR5LCByZXNwb25kZXIpIHsKICAg");
    sb.append("IHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNl");
    sb.append("bGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRl");
    sb.append("ciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkZWluaXQiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHki");
    sb.append("OiBpZGVudGl0eX0KICAgIH0pOwogIH0KICBBY2NvdW50U2V0UGFzc3dvcmQoaWRlbnRpdHksIHBhc3N3");
    sb.append("b3JkLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYu");
    sb.append("X19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAg");
    sb.append("ICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJhY2NvdW50L3Nl");
    sb.append("dC1wYXNzd29yZCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAicGFzc3dvcmQiOiBw");
    sb.append("YXNzd29yZH0KICAgIH0pOwogIH0KICBBY2NvdW50R2V0UGF5bWVudFBsYW4oaWRlbnRpdHksIHJlc3Bv");
    sb.append("bmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAg");
    sb.append("ICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRl");
    sb.append("cjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImFjY291bnQvZ2V0LXBheW1lbnQt");
    sb.append("cGxhbiIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5fQogICAgfSk7CiAgfQogIEFjY291");
    sb.append("bnRMb2dpbihlbWFpbCwgcGFzc3dvcmQsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwog");
    sb.append("ICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewog");
    sb.append("ICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7");
    sb.append("Im1ldGhvZCI6ImFjY291bnQvbG9naW4iLCAiaWQiOnBhcklkLCAiZW1haWwiOiBlbWFpbCwgInBhc3N3");
    sb.append("b3JkIjogcGFzc3dvcmR9CiAgICB9KTsKICB9CiAgUHJvYmUoaWRlbnRpdHksIHJlc3BvbmRlcikgewog");
    sb.append("ICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4g");
    sb.append("c2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9u");
    sb.append("ZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6InByb2JlIiwgImlkIjpwYXJJZCwgImlkZW50aXR5");
    sb.append("IjogaWRlbnRpdHl9CiAgICB9KTsKICB9CiAgQXV0aG9yaXR5Q3JlYXRlKGlkZW50aXR5LCByZXNwb25k");
    sb.append("ZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAg");
    sb.append("cmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6");
    sb.append("IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJhdXRob3JpdHkvY3JlYXRlIiwgImlk");
    sb.append("IjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHl9CiAgICB9KTsKICB9CiAgQXV0aG9yaXR5U2V0KGlk");
    sb.append("ZW50aXR5LCBhdXRob3JpdHksIGtleVN0b3JlLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhp");
    sb.append("czsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3Jy");
    sb.append("KHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVz");
    sb.append("dDogeyJtZXRob2QiOiJhdXRob3JpdHkvc2V0IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRp");
    sb.append("dHksICJhdXRob3JpdHkiOiBhdXRob3JpdHksICJrZXktc3RvcmUiOiBrZXlTdG9yZX0KICAgIH0pOwog");
    sb.append("IH0KICBBdXRob3JpdHlHZXQoaWRlbnRpdHksIGF1dGhvcml0eSwgcmVzcG9uZGVyKSB7CiAgICB2YXIg");
    sb.append("c2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9f");
    sb.append("ZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAg");
    sb.append("ICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiYXV0aG9yaXR5L2dldCIsICJpZCI6cGFySWQsICJpZGVudGl0");
    sb.append("eSI6IGlkZW50aXR5LCAiYXV0aG9yaXR5IjogYXV0aG9yaXR5fQogICAgfSk7CiAgfQogIEF1dGhvcml0");
    sb.append("eUxpc3QoaWRlbnRpdHksIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBh");
    sb.append("cklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfc3RyZWFtKHsKICAgICAg");
    sb.append("aWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRo");
    sb.append("b2QiOiJhdXRob3JpdHkvbGlzdCIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5fQogICAg");
    sb.append("fSk7CiAgfQogIEF1dGhvcml0eURlc3Ryb3koaWRlbnRpdHksIGF1dGhvcml0eSwgcmVzcG9uZGVyKSB7");
    sb.append("CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVy");
    sb.append("biBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNw");
    sb.append("b25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiYXV0aG9yaXR5L2Rlc3Ryb3kiLCAiaWQiOnBh");
    sb.append("cklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgImF1dGhvcml0eSI6IGF1dGhvcml0eX0KICAgIH0pOwog");
    sb.append("IH0KICBTcGFjZUNyZWF0ZShpZGVudGl0eSwgc3BhY2UsIHRlbXBsYXRlLCByZXNwb25kZXIpIHsKICAg");
    sb.append("IHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNl");
    sb.append("bGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRl");
    sb.append("ciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJzcGFjZS9jcmVhdGUiLCAiaWQiOnBhcklkLCAiaWRl");
    sb.append("bnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2UsICJ0ZW1wbGF0ZSI6IHRlbXBsYXRlfQogICAg");
    sb.append("fSk7CiAgfQogIFNwYWNlR2VuZXJhdGVLZXkoaWRlbnRpdHksIHNwYWNlLCByZXNwb25kZXIpIHsKICAg");
    sb.append("IHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNl");
    sb.append("bGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRl");
    sb.append("ciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJzcGFjZS9nZW5lcmF0ZS1rZXkiLCAiaWQiOnBhcklk");
    sb.append("LCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2V9CiAgICB9KTsKICB9CiAgU3BhY2VH");
    sb.append("ZXQoaWRlbnRpdHksIHNwYWNlLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZh");
    sb.append("ciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAg");
    sb.append("aWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRo");
    sb.append("b2QiOiJzcGFjZS9nZXQiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjog");
    sb.append("c3BhY2V9CiAgICB9KTsKICB9CiAgU3BhY2VTZXQoaWRlbnRpdHksIHNwYWNlLCBwbGFuLCByZXNwb25k");
    sb.append("ZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAg");
    sb.append("cmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6");
    sb.append("IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJzcGFjZS9zZXQiLCAiaWQiOnBhcklk");
    sb.append("LCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2UsICJwbGFuIjogcGxhbn0KICAgIH0p");
    sb.append("OwogIH0KICBTcGFjZVJlZGVwbG95S2ljayhpZGVudGl0eSwgc3BhY2UsIHJlc3BvbmRlcikgewogICAg");
    sb.append("dmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2Vs");
    sb.append("Zi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVy");
    sb.append("LAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6InNwYWNlL3JlZGVwbG95LWtpY2siLCAiaWQiOnBhcklk");
    sb.append("LCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2V9CiAgICB9KTsKICB9CiAgU3BhY2VT");
    sb.append("ZXRSeGh0bWwoaWRlbnRpdHksIHNwYWNlLCByeGh0bWwsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYg");
    sb.append("PSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1");
    sb.append("dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICBy");
    sb.append("ZXF1ZXN0OiB7Im1ldGhvZCI6InNwYWNlL3NldC1yeGh0bWwiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHki");
    sb.append("OiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2UsICJyeGh0bWwiOiByeGh0bWx9CiAgICB9KTsKICB9CiAg");
    sb.append("U3BhY2VHZXRSeGh0bWwoaWRlbnRpdHksIHNwYWNlLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0g");
    sb.append("dGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRl");
    sb.append("X3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVx");
    sb.append("dWVzdDogeyJtZXRob2QiOiJzcGFjZS9nZXQtcnhodG1sIiwgImlkIjpwYXJJZCwgImlkZW50aXR5Ijog");
    sb.append("aWRlbnRpdHksICJzcGFjZSI6IHNwYWNlfQogICAgfSk7CiAgfQogIFNwYWNlRGVsZXRlKGlkZW50aXR5");
    sb.append("LCBzcGFjZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBz");
    sb.append("ZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwK");
    sb.append("ICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoic3BhY2Uv");
    sb.append("ZGVsZXRlIiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJzcGFjZSI6IHNwYWNlfQog");
    sb.append("ICAgfSk7CiAgfQogIFNwYWNlU2V0Um9sZShpZGVudGl0eSwgc3BhY2UsIGVtYWlsLCByb2xlLCByZXNw");
    sb.append("b25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwog");
    sb.append("ICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25k");
    sb.append("ZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJzcGFjZS9zZXQtcm9sZSIsICJp");
    sb.append("ZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2UiOiBzcGFjZSwgImVtYWlsIjogZW1h");
    sb.append("aWwsICJyb2xlIjogcm9sZX0KICAgIH0pOwogIH0KICBTcGFjZUxpc3REZXZlbG9wZXJzKGlkZW50aXR5");
    sb.append("LCBzcGFjZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBz");
    sb.append("ZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9zdHJlYW0oewogICAgICBpZDogcGFy");
    sb.append("SWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6InNw");
    sb.append("YWNlL2xpc3QtZGV2ZWxvcGVycyIsICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3Bh");
    sb.append("Y2UiOiBzcGFjZX0KICAgIH0pOwogIH0KICBTcGFjZVJlZmxlY3QoaWRlbnRpdHksIHNwYWNlLCBrZXks");
    sb.append("IHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lk");
    sb.append("KCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJl");
    sb.append("c3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6InNwYWNlL3JlZmxlY3Qi");
    sb.append("LCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2UsICJrZXkiOiBr");
    sb.append("ZXl9CiAgICB9KTsKICB9CiAgU3BhY2VMaXN0KGlkZW50aXR5LCBtYXJrZXIsIGxpbWl0LCByZXNwb25k");
    sb.append("ZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAg");
    sb.append("cmV0dXJuIHNlbGYuX19leGVjdXRlX3N0cmVhbSh7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9u");
    sb.append("ZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoic3BhY2UvbGlzdCIsICJpZCI6");
    sb.append("cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAibWFya2VyIjogbWFya2VyLCAibGltaXQiOiBsaW1p");
    sb.append("dH0KICAgIH0pOwogIH0KICBEb21haW5NYXAoaWRlbnRpdHksIGRvbWFpbiwgc3BhY2UsIGNlcnRpZmlj");
    sb.append("YXRlLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYu");
    sb.append("X19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAg");
    sb.append("ICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkb21haW4vbWFw");
    sb.append("IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHksICJkb21haW4iOiBkb21haW4sICJzcGFj");
    sb.append("ZSI6IHNwYWNlLCAiY2VydGlmaWNhdGUiOiBjZXJ0aWZpY2F0ZX0KICAgIH0pOwogIH0KICBEb21haW5S");
    sb.append("ZWZsZWN0KGlkZW50aXR5LCBkb21haW4sIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwog");
    sb.append("ICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewog");
    sb.append("ICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7");
    sb.append("Im1ldGhvZCI6ImRvbWFpbi9yZWZsZWN0IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHks");
    sb.append("ICJkb21haW4iOiBkb21haW59CiAgICB9KTsKICB9CiAgRG9tYWluTWFwRG9jdW1lbnQoaWRlbnRpdHks");
    sb.append("IGRvbWFpbiwgc3BhY2UsIGtleSwgcm91dGUsIGNlcnRpZmljYXRlLCByZXNwb25kZXIpIHsKICAgIHZh");
    sb.append("ciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYu");
    sb.append("X19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwK");
    sb.append("ICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJkb21haW4vbWFwLWRvY3VtZW50IiwgImlkIjpwYXJJZCwg");
    sb.append("ImlkZW50aXR5IjogaWRlbnRpdHksICJkb21haW4iOiBkb21haW4sICJzcGFjZSI6IHNwYWNlLCAia2V5");
    sb.append("Ijoga2V5LCAicm91dGUiOiByb3V0ZSwgImNlcnRpZmljYXRlIjogY2VydGlmaWNhdGV9CiAgICB9KTsK");
    sb.append("ICB9CiAgRG9tYWluTGlzdChpZGVudGl0eSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7");
    sb.append("CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9zdHJl");
    sb.append("YW0oewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1");
    sb.append("ZXN0OiB7Im1ldGhvZCI6ImRvbWFpbi9saXN0IiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRp");
    sb.append("dHl9CiAgICB9KTsKICB9CiAgRG9tYWluVW5tYXAoaWRlbnRpdHksIGRvbWFpbiwgcmVzcG9uZGVyKSB7");
    sb.append("CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVy");
    sb.append("biBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNw");
    sb.append("b25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9tYWluL3VubWFwIiwgImlkIjpwYXJJZCwg");
    sb.append("ImlkZW50aXR5IjogaWRlbnRpdHksICJkb21haW4iOiBkb21haW59CiAgICB9KTsKICB9CiAgRG9tYWlu");
    sb.append("R2V0KGlkZW50aXR5LCBkb21haW4sIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAg");
    sb.append("dmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAg");
    sb.append("ICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1l");
    sb.append("dGhvZCI6ImRvbWFpbi9nZXQiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgImRvbWFp");
    sb.append("biI6IGRvbWFpbn0KICAgIH0pOwogIH0KICBEb2N1bWVudEF1dGhvcml6ZShzcGFjZSwga2V5LCB1c2Vy");
    sb.append("bmFtZSwgcGFzc3dvcmQsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBh");
    sb.append("cklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDog");
    sb.append("cGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6");
    sb.append("ImRvY3VtZW50L2F1dGhvcml6ZSIsICJpZCI6cGFySWQsICJzcGFjZSI6IHNwYWNlLCAia2V5Ijoga2V5");
    sb.append("LCAidXNlcm5hbWUiOiB1c2VybmFtZSwgInBhc3N3b3JkIjogcGFzc3dvcmR9CiAgICB9KTsKICB9CiAg");
    sb.append("RG9jdW1lbnRBdXRob3JpemVEb21haW4oZG9tYWluLCB1c2VybmFtZSwgcGFzc3dvcmQsIHJlc3BvbmRl");
    sb.append("cikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICBy");
    sb.append("ZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjog");
    sb.append("cmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImRvY3VtZW50L2F1dGhvcml6ZS1kb21h");
    sb.append("aW4iLCAiaWQiOnBhcklkLCAiZG9tYWluIjogZG9tYWluLCAidXNlcm5hbWUiOiB1c2VybmFtZSwgInBh");
    sb.append("c3N3b3JkIjogcGFzc3dvcmR9CiAgICB9KTsKICB9CiAgRG9jdW1lbnRDcmVhdGUoaWRlbnRpdHksIHNw");
    sb.append("YWNlLCBrZXksIGVudHJvcHksIGFyZywgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAg");
    sb.append("ICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAg");
    sb.append("ICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsi");
    sb.append("bWV0aG9kIjoiZG9jdW1lbnQvY3JlYXRlIiwgImlkIjpwYXJJZCwgImlkZW50aXR5IjogaWRlbnRpdHks");
    sb.append("ICJzcGFjZSI6IHNwYWNlLCAia2V5Ijoga2V5LCAiZW50cm9weSI6IGVudHJvcHksICJhcmciOiBhcmd9");
    sb.append("CiAgICB9KTsKICB9CiAgRG9jdW1lbnREZWxldGUoaWRlbnRpdHksIHNwYWNlLCBrZXksIHJlc3BvbmRl");
    sb.append("cikgewogICAgdmFyIHNlbGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICBy");
    sb.append("ZXR1cm4gc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjog");
    sb.append("cmVzcG9uZGVyLAogICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImRvY3VtZW50L2RlbGV0ZSIsICJpZCI6");
    sb.append("cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2UiOiBzcGFjZSwgImtleSI6IGtleX0KICAg");
    sb.append("IH0pOwogIH0KICBEb2N1bWVudExpc3QoaWRlbnRpdHksIHNwYWNlLCBtYXJrZXIsIGxpbWl0LCByZXNw");
    sb.append("b25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwog");
    sb.append("ICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3N0cmVhbSh7CiAgICAgIGlkOiBwYXJJZCwKICAgICAgcmVz");
    sb.append("cG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiZG9jdW1lbnQvbGlzdCIs");
    sb.append("ICJpZCI6cGFySWQsICJpZGVudGl0eSI6IGlkZW50aXR5LCAic3BhY2UiOiBzcGFjZSwgIm1hcmtlciI6");
    sb.append("IG1hcmtlciwgImxpbWl0IjogbGltaXR9CiAgICB9KTsKICB9CiAgTWVzc2FnZURpcmVjdFNlbmQoaWRl");
    sb.append("bnRpdHksIHNwYWNlLCBrZXksIGNoYW5uZWwsIG1lc3NhZ2UsIHJlc3BvbmRlcikgewogICAgdmFyIHNl");
    sb.append("bGYgPSB0aGlzOwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4");
    sb.append("ZWN1dGVfcnIoewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAogICAg");
    sb.append("ICByZXF1ZXN0OiB7Im1ldGhvZCI6Im1lc3NhZ2UvZGlyZWN0LXNlbmQiLCAiaWQiOnBhcklkLCAiaWRl");
    sb.append("bnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2UsICJrZXkiOiBrZXksICJjaGFubmVsIjogY2hh");
    sb.append("bm5lbCwgIm1lc3NhZ2UiOiBtZXNzYWdlfQogICAgfSk7CiAgfQogIE1lc3NhZ2VEaXJlY3RTZW5kT25j");
    sb.append("ZShpZGVudGl0eSwgc3BhY2UsIGtleSwgZGVkdXBlLCBjaGFubmVsLCBtZXNzYWdlLCByZXNwb25kZXIp");
    sb.append("IHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0");
    sb.append("dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJl");
    sb.append("c3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJtZXNzYWdlL2RpcmVjdC1zZW5kLW9uY2Ui");
    sb.append("LCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2UsICJrZXkiOiBr");
    sb.append("ZXksICJkZWR1cGUiOiBkZWR1cGUsICJjaGFubmVsIjogY2hhbm5lbCwgIm1lc3NhZ2UiOiBtZXNzYWdl");
    sb.append("fQogICAgfSk7CiAgfQogIENvbm5lY3Rpb25DcmVhdGUoaWRlbnRpdHksIHNwYWNlLCBrZXksIHZpZXdl");
    sb.append("clN0YXRlLCByZXNwb25kZXIpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNl");
    sb.append("bGYuX19pZCgpOwogICAgcmV0dXJuIHNlbGYuX19leGVjdXRlX3N0cmVhbSh7CiAgICAgIGlkOiBwYXJJ");
    sb.append("ZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsibWV0aG9kIjoiY29u");
    sb.append("bmVjdGlvbi9jcmVhdGUiLCAiaWQiOnBhcklkLCAiaWRlbnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjog");
    sb.append("c3BhY2UsICJrZXkiOiBrZXksICJ2aWV3ZXItc3RhdGUiOiB2aWV3ZXJTdGF0ZX0sCiAgICAgIHNlbmQ6");
    sb.append("IGZ1bmN0aW9uKGNoYW5uZWwsIG1lc3NhZ2UsIHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJ");
    sb.append("ZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBz");
    sb.append("dWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDog");
    sb.append("eyBtZXRob2Q6ICJjb25uZWN0aW9uL3NlbmQiLCBpZDogc3ViSWQsICJjb25uZWN0aW9uIjpwYXJJZCwg");
    sb.append("ImNoYW5uZWwiOiBjaGFubmVsLCAibWVzc2FnZSI6IG1lc3NhZ2V9CiAgICAgICAgfSk7CiAgICAgIH0s");
    sb.append("CiAgICAgIHBhc3N3b3JkOiBmdW5jdGlvbih1c2VybmFtZSwgcGFzc3dvcmQsIG5ld19wYXNzd29yZCwg");
    sb.append("c3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAgc2Vs");
    sb.append("Zi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVyOiBz");
    sb.append("dWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vcGFzc3dv");
    sb.append("cmQiLCBpZDogc3ViSWQsICJjb25uZWN0aW9uIjpwYXJJZCwgInVzZXJuYW1lIjogdXNlcm5hbWUsICJw");
    sb.append("YXNzd29yZCI6IHBhc3N3b3JkLCAibmV3X3Bhc3N3b3JkIjogbmV3X3Bhc3N3b3JkfQogICAgICAgIH0p");
    sb.append("OwogICAgICB9LAogICAgICBzZW5kT25jZTogZnVuY3Rpb24oY2hhbm5lbCwgZGVkdXBlLCBtZXNzYWdl");
    sb.append("LCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBz");
    sb.append("ZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6");
    sb.append("IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9zZW5k");
    sb.append("LW9uY2UiLCBpZDogc3ViSWQsICJjb25uZWN0aW9uIjpwYXJJZCwgImNoYW5uZWwiOiBjaGFubmVsLCAi");
    sb.append("ZGVkdXBlIjogZGVkdXBlLCAibWVzc2FnZSI6IG1lc3NhZ2V9CiAgICAgICAgfSk7CiAgICAgIH0sCiAg");
    sb.append("ICAgIGNhbkF0dGFjaDogZnVuY3Rpb24oc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0g");
    sb.append("c2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1Yklk");
    sb.append("LAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1l");
    sb.append("dGhvZDogImNvbm5lY3Rpb24vY2FuLWF0dGFjaCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklk");
    sb.append("fQogICAgICAgIH0pOwogICAgICB9LAogICAgICBhdHRhY2g6IGZ1bmN0aW9uKGFzc2V0SWQsIGZpbGVu");
    sb.append("YW1lLCBjb250ZW50VHlwZSwgc2l6ZSwgZGlnZXN0TWQ1LCBkaWdlc3RTaGEzODQsIHN1YlJlc3BvbmRl");
    sb.append("cikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRl");
    sb.append("X3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVy");
    sb.append("LAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL2F0dGFjaCIsIGlkOiBzdWJJ");
    sb.append("ZCwgImNvbm5lY3Rpb24iOnBhcklkLCAiYXNzZXQtaWQiOiBhc3NldElkLCAiZmlsZW5hbWUiOiBmaWxl");
    sb.append("bmFtZSwgImNvbnRlbnQtdHlwZSI6IGNvbnRlbnRUeXBlLCAic2l6ZSI6IHNpemUsICJkaWdlc3QtbWQ1");
    sb.append("IjogZGlnZXN0TWQ1LCAiZGlnZXN0LXNoYTM4NCI6IGRpZ2VzdFNoYTM4NH0KICAgICAgICB9KTsKICAg");
    sb.append("ICAgfSwKICAgICAgdXBkYXRlOiBmdW5jdGlvbih2aWV3ZXJTdGF0ZSwgc3ViUmVzcG9uZGVyKSB7CiAg");
    sb.append("ICAgICAgdmFyIHN1YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewog");
    sb.append("ICAgICAgICAgaWQ6IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAg");
    sb.append("ICAgICByZXF1ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vdXBkYXRlIiwgaWQ6IHN1YklkLCAiY29u");
    sb.append("bmVjdGlvbiI6cGFySWQsICJ2aWV3ZXItc3RhdGUiOiB2aWV3ZXJTdGF0ZX0KICAgICAgICB9KTsKICAg");
    sb.append("ICAgfSwKICAgICAgZW5kOiBmdW5jdGlvbihzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQg");
    sb.append("PSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3Vi");
    sb.append("SWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsg");
    sb.append("bWV0aG9kOiAiY29ubmVjdGlvbi9lbmQiLCBpZDogc3ViSWQsICJjb25uZWN0aW9uIjpwYXJJZH0KICAg");
    sb.append("ICAgICB9KTsKICAgICAgfQogICAgfSk7CiAgfQogIENvbm5lY3Rpb25DcmVhdGVWaWFEb21haW4oaWRl");
    sb.append("bnRpdHksIGRvbWFpbiwgdmlld2VyU3RhdGUsIHJlc3BvbmRlcikgewogICAgdmFyIHNlbGYgPSB0aGlz");
    sb.append("OwogICAgdmFyIHBhcklkID0gc2VsZi5fX2lkKCk7CiAgICByZXR1cm4gc2VsZi5fX2V4ZWN1dGVfc3Ry");
    sb.append("ZWFtKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJlc3BvbmRlciwKICAgICAgcmVx");
    sb.append("dWVzdDogeyJtZXRob2QiOiJjb25uZWN0aW9uL2NyZWF0ZS12aWEtZG9tYWluIiwgImlkIjpwYXJJZCwg");
    sb.append("ImlkZW50aXR5IjogaWRlbnRpdHksICJkb21haW4iOiBkb21haW4sICJ2aWV3ZXItc3RhdGUiOiB2aWV3");
    sb.append("ZXJTdGF0ZX0sCiAgICAgIHNlbmQ6IGZ1bmN0aW9uKGNoYW5uZWwsIG1lc3NhZ2UsIHN1YlJlc3BvbmRl");
    sb.append("cikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwogICAgICAgIHNlbGYuX19leGVjdXRl");
    sb.append("X3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJlc3BvbmRlcjogc3ViUmVzcG9uZGVy");
    sb.append("LAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0aW9uL3NlbmQiLCBpZDogc3ViSWQs");
    sb.append("ICJjb25uZWN0aW9uIjpwYXJJZCwgImNoYW5uZWwiOiBjaGFubmVsLCAibWVzc2FnZSI6IG1lc3NhZ2V9");
    sb.append("CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIHBhc3N3b3JkOiBmdW5jdGlvbih1c2VybmFtZSwgcGFz");
    sb.append("c3dvcmQsIG5ld19wYXNzd29yZCwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0gc2Vs");
    sb.append("Zi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1YklkLAog");
    sb.append("ICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1ldGhv");
    sb.append("ZDogImNvbm5lY3Rpb24vcGFzc3dvcmQiLCBpZDogc3ViSWQsICJjb25uZWN0aW9uIjpwYXJJZCwgInVz");
    sb.append("ZXJuYW1lIjogdXNlcm5hbWUsICJwYXNzd29yZCI6IHBhc3N3b3JkLCAibmV3X3Bhc3N3b3JkIjogbmV3");
    sb.append("X3Bhc3N3b3JkfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBzZW5kT25jZTogZnVuY3Rpb24oY2hh");
    sb.append("bm5lbCwgZGVkdXBlLCBtZXNzYWdlLCBzdWJSZXNwb25kZXIpIHsKICAgICAgICB2YXIgc3ViSWQgPSBz");
    sb.append("ZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9ycih7CiAgICAgICAgICBpZDogc3ViSWQs");
    sb.append("CiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwKICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0");
    sb.append("aG9kOiAiY29ubmVjdGlvbi9zZW5kLW9uY2UiLCBpZDogc3ViSWQsICJjb25uZWN0aW9uIjpwYXJJZCwg");
    sb.append("ImNoYW5uZWwiOiBjaGFubmVsLCAiZGVkdXBlIjogZGVkdXBlLCAibWVzc2FnZSI6IG1lc3NhZ2V9CiAg");
    sb.append("ICAgICAgfSk7CiAgICAgIH0sCiAgICAgIGNhbkF0dGFjaDogZnVuY3Rpb24oc3ViUmVzcG9uZGVyKSB7");
    sb.append("CiAgICAgICAgdmFyIHN1YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIo");
    sb.append("ewogICAgICAgICAgaWQ6IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAg");
    sb.append("ICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vY2FuLWF0dGFjaCIsIGlkOiBzdWJJ");
    sb.append("ZCwgImNvbm5lY3Rpb24iOnBhcklkfQogICAgICAgIH0pOwogICAgICB9LAogICAgICBhdHRhY2g6IGZ1");
    sb.append("bmN0aW9uKGFzc2V0SWQsIGZpbGVuYW1lLCBjb250ZW50VHlwZSwgc2l6ZSwgZGlnZXN0TWQ1LCBkaWdl");
    sb.append("c3RTaGEzODQsIHN1YlJlc3BvbmRlcikgewogICAgICAgIHZhciBzdWJJZCA9IHNlbGYuX19pZCgpOwog");
    sb.append("ICAgICAgIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgICAgIGlkOiBzdWJJZCwKICAgICAgICAgIHJl");
    sb.append("c3BvbmRlcjogc3ViUmVzcG9uZGVyLAogICAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6ICJjb25uZWN0");
    sb.append("aW9uL2F0dGFjaCIsIGlkOiBzdWJJZCwgImNvbm5lY3Rpb24iOnBhcklkLCAiYXNzZXQtaWQiOiBhc3Nl");
    sb.append("dElkLCAiZmlsZW5hbWUiOiBmaWxlbmFtZSwgImNvbnRlbnQtdHlwZSI6IGNvbnRlbnRUeXBlLCAic2l6");
    sb.append("ZSI6IHNpemUsICJkaWdlc3QtbWQ1IjogZGlnZXN0TWQ1LCAiZGlnZXN0LXNoYTM4NCI6IGRpZ2VzdFNo");
    sb.append("YTM4NH0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgdXBkYXRlOiBmdW5jdGlvbih2aWV3ZXJTdGF0");
    sb.append("ZSwgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAg");
    sb.append("c2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVy");
    sb.append("OiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1ldGhvZDogImNvbm5lY3Rpb24vdXBk");
    sb.append("YXRlIiwgaWQ6IHN1YklkLCAiY29ubmVjdGlvbiI6cGFySWQsICJ2aWV3ZXItc3RhdGUiOiB2aWV3ZXJT");
    sb.append("dGF0ZX0KICAgICAgICB9KTsKICAgICAgfSwKICAgICAgZW5kOiBmdW5jdGlvbihzdWJSZXNwb25kZXIp");
    sb.append("IHsKICAgICAgICB2YXIgc3ViSWQgPSBzZWxmLl9faWQoKTsKICAgICAgICBzZWxmLl9fZXhlY3V0ZV9y");
    sb.append("cih7CiAgICAgICAgICBpZDogc3ViSWQsCiAgICAgICAgICByZXNwb25kZXI6IHN1YlJlc3BvbmRlciwK");
    sb.append("ICAgICAgICAgIHJlcXVlc3Q6IHsgbWV0aG9kOiAiY29ubmVjdGlvbi9lbmQiLCBpZDogc3ViSWQsICJj");
    sb.append("b25uZWN0aW9uIjpwYXJJZH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CiAgfQogIERvY3VtZW50");
    sb.append("c0hhc2hQYXNzd29yZChwYXNzd29yZCwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2VsZiA9IHRoaXM7CiAg");
    sb.append("ICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhlY3V0ZV9ycih7CiAg");
    sb.append("ICAgIGlkOiBwYXJJZCwKICAgICAgcmVzcG9uZGVyOiByZXNwb25kZXIsCiAgICAgIHJlcXVlc3Q6IHsi");
    sb.append("bWV0aG9kIjoiZG9jdW1lbnRzL2hhc2gtcGFzc3dvcmQiLCAiaWQiOnBhcklkLCAicGFzc3dvcmQiOiBw");
    sb.append("YXNzd29yZH0KICAgIH0pOwogIH0KICBDb25maWd1cmVNYWtlT3JHZXRBc3NldEtleShyZXNwb25kZXIp");
    sb.append("IHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIHZhciBwYXJJZCA9IHNlbGYuX19pZCgpOwogICAgcmV0");
    sb.append("dXJuIHNlbGYuX19leGVjdXRlX3JyKHsKICAgICAgaWQ6IHBhcklkLAogICAgICByZXNwb25kZXI6IHJl");
    sb.append("c3BvbmRlciwKICAgICAgcmVxdWVzdDogeyJtZXRob2QiOiJjb25maWd1cmUvbWFrZS1vci1nZXQtYXNz");
    sb.append("ZXQta2V5IiwgImlkIjpwYXJJZH0KICAgIH0pOwogIH0KICBBdHRhY2htZW50U3RhcnQoaWRlbnRpdHks");
    sb.append("IHNwYWNlLCBrZXksIGZpbGVuYW1lLCBjb250ZW50VHlwZSwgcmVzcG9uZGVyKSB7CiAgICB2YXIgc2Vs");
    sb.append("ZiA9IHRoaXM7CiAgICB2YXIgcGFySWQgPSBzZWxmLl9faWQoKTsKICAgIHJldHVybiBzZWxmLl9fZXhl");
    sb.append("Y3V0ZV9zdHJlYW0oewogICAgICBpZDogcGFySWQsCiAgICAgIHJlc3BvbmRlcjogcmVzcG9uZGVyLAog");
    sb.append("ICAgICByZXF1ZXN0OiB7Im1ldGhvZCI6ImF0dGFjaG1lbnQvc3RhcnQiLCAiaWQiOnBhcklkLCAiaWRl");
    sb.append("bnRpdHkiOiBpZGVudGl0eSwgInNwYWNlIjogc3BhY2UsICJrZXkiOiBrZXksICJmaWxlbmFtZSI6IGZp");
    sb.append("bGVuYW1lLCAiY29udGVudC10eXBlIjogY29udGVudFR5cGV9LAogICAgICBhcHBlbmQ6IGZ1bmN0aW9u");
    sb.append("KGNodW5rTWQ1LCBiYXNlNjRCeXRlcywgc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1YklkID0g");
    sb.append("c2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6IHN1Yklk");
    sb.append("LAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0OiB7IG1l");
    sb.append("dGhvZDogImF0dGFjaG1lbnQvYXBwZW5kIiwgaWQ6IHN1YklkLCAidXBsb2FkIjpwYXJJZCwgImNodW5r");
    sb.append("LW1kNSI6IGNodW5rTWQ1LCAiYmFzZTY0LWJ5dGVzIjogYmFzZTY0Qnl0ZXN9CiAgICAgICAgfSk7CiAg");
    sb.append("ICAgIH0sCiAgICAgIGZpbmlzaDogZnVuY3Rpb24oc3ViUmVzcG9uZGVyKSB7CiAgICAgICAgdmFyIHN1");
    sb.append("YklkID0gc2VsZi5fX2lkKCk7CiAgICAgICAgc2VsZi5fX2V4ZWN1dGVfcnIoewogICAgICAgICAgaWQ6");
    sb.append("IHN1YklkLAogICAgICAgICAgcmVzcG9uZGVyOiBzdWJSZXNwb25kZXIsCiAgICAgICAgICByZXF1ZXN0");
    sb.append("OiB7IG1ldGhvZDogImF0dGFjaG1lbnQvZmluaXNoIiwgaWQ6IHN1YklkLCAidXBsb2FkIjpwYXJJZH0K");
    sb.append("ICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CiAgfQoKICAvKipbRU5ELUlOVk9LRV0qKi8KfQoKdmFy");
    sb.append("IEFkYW1hID0gewogIFByb2R1Y3Rpb246ICJhd3MtdXMtZWFzdC0yLmFkYW1hLXBsYXRmb3JtLmNvbSIs");
    sb.append("CiAgQ29ubmVjdGlvbjogV2ViU29ja2V0QWRhbWFDb25uZWN0aW9uCn07Cg==");
    return sb.toString();
  }
}
